/*! For license information please see kokoro-player.min.js.LICENSE.txt */
!function(n,t,e,o,i,r){if("customElements"in n)r();else{if(n.WC_ENV)return void n.WC_ENV.then(r);var s=function(n,e){var o=t.createElement("script");o.type="text/javascript",o.readyState?o.onreadystatechange=function(){"loaded"!=o.readyState&&"complete"!=o.readyState||(o.onreadystatechange=null,e())}:o.onload=function(){e()},o.src=n,t.getElementsByTagName("head")[0].appendChild(o)},a=n.WC_ENV=(p=function(n){try{n()}catch(n){console.error(n)}},(d=[]).isDone=!1,d.exec=function(){d.splice(0).forEach(p)},d.then=function(n){return d.isDone?n():d.push(n),d},d);a.then(r);var l=n.WC_POLYFILL||"//cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/2.0.2/webcomponents-bundle.js",c=0,u=function(){--c||(a.isDone=!0,a.exec())};"Reflect"in n||n.SKIP_ES_POLYFILL?(c++,s(l,u)):(c++,s(n.ES_POLYFILL||"//cdnjs.cloudflare.com/ajax/libs/core-js/2.5.3/core.min.js",(function(){s(l,u)})),function(){try{new Function("function* test() {}")()}catch(n){return!1}return!0}()||n.regeneratorRuntime||(c++,s(window.GE_POLYFILL||o,u)))}var d,p}(window,document,0,"//unpkg.com/regenerator-runtime@0.12.1/runtime.js",0,(function(){var n,t;n=window,t=function(){return function(n){var t={};function e(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return n[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=n,e.c=t,e.d=function(n,t,o){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:o})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var i in n)e.d(o,i,function(t){return n[t]}.bind(null,i));return o},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=10)}([function(n,t,e){"use strict";e.r(t),e.d(t,"__DO_NOT_USE__ActionTypes",(function(){return r})),e.d(t,"applyMiddleware",(function(){return m})),e.d(t,"bindActionCreators",(function(){return d})),e.d(t,"combineReducers",(function(){return c})),e.d(t,"compose",(function(){return y})),e.d(t,"createStore",(function(){return a}));var o=e(3),i=function(){return Math.random().toString(36).substring(7).split("").join(".")},r={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function s(n){if("object"!=typeof n||null===n)return!1;for(var t=n;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(n)===t}function a(n,t,e){var i;if("function"==typeof t&&"function"==typeof e||"function"==typeof e&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===e&&(e=t,t=void 0),void 0!==e){if("function"!=typeof e)throw new Error("Expected the enhancer to be a function.");return e(a)(n,t)}if("function"!=typeof n)throw new Error("Expected the reducer to be a function.");var l=n,c=t,u=[],d=u,p=!1;function f(){d===u&&(d=u.slice())}function h(){if(p)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return c}function y(n){if("function"!=typeof n)throw new Error("Expected the listener to be a function.");if(p)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return f(),d.push(n),function(){if(t){if(p)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,f();var e=d.indexOf(n);d.splice(e,1),u=null}}}function m(n){if(!s(n))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===n.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,c=l(c,n)}finally{p=!1}for(var t=u=d,e=0;e<t.length;e++)(0,t[e])();return n}function g(n){if("function"!=typeof n)throw new Error("Expected the nextReducer to be a function.");l=n,m({type:r.REPLACE})}function v(){var n,t=y;return(n={subscribe:function(n){if("object"!=typeof n||null===n)throw new TypeError("Expected the observer to be an object.");function e(){n.next&&n.next(h())}return e(),{unsubscribe:t(e)}}})[o.a]=function(){return this},n}return m({type:r.INIT}),(i={dispatch:m,subscribe:y,getState:h,replaceReducer:g})[o.a]=v,i}function l(n,t){var e=t&&t.type;return"Given "+(e&&'action "'+String(e)+'"'||"an action")+', reducer "'+n+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function c(n){for(var t=Object.keys(n),e={},o=0;o<t.length;o++){var i=t[o];"function"==typeof n[i]&&(e[i]=n[i])}var s,a=Object.keys(e);try{!function(n){Object.keys(n).forEach((function(t){var e=n[t];if(void 0===e(void 0,{type:r.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===e(void 0,{type:r.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+r.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(e)}catch(n){s=n}return function(n,t){if(void 0===n&&(n={}),s)throw s;for(var o=!1,i={},r=0;r<a.length;r++){var c=a[r],u=e[c],d=n[c],p=u(d,t);if(void 0===p){var f=l(c,t);throw new Error(f)}i[c]=p,o=o||p!==d}return(o=o||a.length!==Object.keys(n).length)?i:n}}function u(n,t){return function(){return t(n.apply(this,arguments))}}function d(n,t){if("function"==typeof n)return u(n,t);if("object"!=typeof n||null===n)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===n?"null":typeof n)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var e={};for(var o in n){var i=n[o];"function"==typeof i&&(e[o]=u(i,t))}return e}function p(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function f(n,t){var e=Object.keys(n);return Object.getOwnPropertySymbols&&e.push.apply(e,Object.getOwnPropertySymbols(n)),t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e}function h(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?f(e,!0).forEach((function(t){p(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):f(e).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function y(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return 0===t.length?function(n){return n}:1===t.length?t[0]:t.reduce((function(n,t){return function(){return n(t.apply(void 0,arguments))}}))}function m(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return function(n){return function(){var e=n.apply(void 0,arguments),o=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:e.getState,dispatch:function(){return o.apply(void 0,arguments)}},r=t.map((function(n){return n(i)}));return h({},e,{dispatch:o=y.apply(void 0,r)(e.dispatch)})}}}},function(n,t,e){"use strict";var o=e(5),i=e.n(o),r=e(6),s=e.n(r)()(i.a);s.push([n.i,"@font-face {font-family: \"iconfont\";\n  /*src: url('iconfont.eot?t=1612710375505'); !* IE9 *!*/\n  /*src: url('iconfont.eot?t=1612710375505#iefix') format('embedded-opentype'), !* IE6-IE8 *!*/\n  src: url('data:application/x-font-woff2;charset=utf-8;base64,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') format('woff2')/*,*/\n  /*url('iconfont.woff?t=1612710375505') format('woff'),*/\n  /*url('iconfont.ttf?t=1612710375505') format('truetype'), !* chrome, firefox, opera, Safari, Android, iOS 4.2+ *!*/\n  /*url('iconfont.svg?t=1612710375505#iconfont') format('svg'); !* iOS 4.1- *!*/\n}\n","",{version:3,sources:["webpack://./src/iconfont/iconfont.css"],names:[],mappings:"AAAA,YAAY,uBAAuB;EACjC,sDAAsD;EACtD,4FAA4F;EAC5F,0wKAA0wK,CAAC,IAAI;EAC/wK,uDAAuD;EACvD,kHAAkH;EAClH,6EAA6E;AAC/E",sourcesContent:["@font-face {font-family: \"iconfont\";\n  /*src: url('iconfont.eot?t=1612710375505'); !* IE9 *!*/\n  /*src: url('iconfont.eot?t=1612710375505#iefix') format('embedded-opentype'), !* IE6-IE8 *!*/\n  src: url('data:application/x-font-woff2;charset=utf-8;base64,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') format('woff2')/*,*/\n  /*url('iconfont.woff?t=1612710375505') format('woff'),*/\n  /*url('iconfont.ttf?t=1612710375505') format('truetype'), !* chrome, firefox, opera, Safari, Android, iOS 4.2+ *!*/\n  /*url('iconfont.svg?t=1612710375505#iconfont') format('svg'); !* iOS 4.1- *!*/\n}\n"],sourceRoot:""}]),t.a=s},function(n,t,e){"use strict";var o=e(0).compose;t.__esModule=!0,t.composeWithDevTools="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?o:o.apply(null,arguments)},t.devToolsEnhancer="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(n){return n}}},function(n,t,e){"use strict";(function(n,o){var i,r=e(7);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:o;var s=Object(r.a)(i);t.a=s}).call(this,e(8),e(9)(n))},function(n,t,e){"use strict";var o,i=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},r=function(){var n={};return function(t){if(void 0===n[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(n){e=null}n[t]=e}return n[t]}}(),s=[];function a(n){for(var t=-1,e=0;e<s.length;e++)if(s[e].identifier===n){t=e;break}return t}function l(n,t){for(var e={},o=[],i=0;i<n.length;i++){var r=n[i],l=t.base?r[0]+t.base:r[0],c=e[l]||0,u="".concat(l," ").concat(c);e[l]=c+1;var d=a(u),p={css:r[1],media:r[2],sourceMap:r[3]};-1!==d?(s[d].references++,s[d].updater(p)):s.push({identifier:u,updater:m(p,t),references:1}),o.push(u)}return o}function c(n){var t=document.createElement("style"),o=n.attributes||{};if(void 0===o.nonce){var i=e.nc;i&&(o.nonce=i)}if(Object.keys(o).forEach((function(n){t.setAttribute(n,o[n])})),"function"==typeof n.insert)n.insert(t);else{var s=r(n.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var u,d=(u=[],function(n,t){return u[n]=t,u.filter(Boolean).join("\n")});function p(n,t,e,o){var i=e?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(n.styleSheet)n.styleSheet.cssText=d(t,i);else{var r=document.createTextNode(i),s=n.childNodes;s[t]&&n.removeChild(s[t]),s.length?n.insertBefore(r,s[t]):n.appendChild(r)}}function f(n,t,e){var o=e.css,i=e.media,r=e.sourceMap;if(i?n.setAttribute("media",i):n.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),n.styleSheet)n.styleSheet.cssText=o;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(o))}}var h=null,y=0;function m(n,t){var e,o,i;if(t.singleton){var r=y++;e=h||(h=c(t)),o=p.bind(null,e,r,!1),i=p.bind(null,e,r,!0)}else e=c(t),o=f.bind(null,e,t),i=function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)};return o(n),function(t){if(t){if(t.css===n.css&&t.media===n.media&&t.sourceMap===n.sourceMap)return;o(n=t)}else i()}}n.exports=function(n,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var e=l(n=n||[],t);return function(n){if(n=n||[],"[object Array]"===Object.prototype.toString.call(n)){for(var o=0;o<e.length;o++){var i=a(e[o]);s[i].references--}for(var r=l(n,t),c=0;c<e.length;c++){var u=a(e[c]);0===s[u].references&&(s[u].updater(),s.splice(u,1))}e=r}}}},function(n,t,e){"use strict";function o(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n)){var e=[],o=!0,i=!1,r=void 0;try{for(var s,a=n[Symbol.iterator]();!(o=(s=a.next()).done)&&(e.push(s.value),!t||e.length!==t);o=!0);}catch(n){i=!0,r=n}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return e}}(n,t)||function(n,t){if(n){if("string"==typeof n)return i(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?i(n,t):void 0}}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=n[e];return o}n.exports=function(n){var t=o(n,4),e=t[1],i=t[3];if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(s," */"),l=i.sources.map((function(n){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(n," */")}));return[e].concat(l).concat([a]).join("\n")}return[e].join("\n")}},function(n,t,e){"use strict";n.exports=function(n){var t=[];return t.toString=function(){return this.map((function(t){var e=n(t);return t[2]?"@media ".concat(t[2]," {").concat(e,"}"):e})).join("")},t.i=function(n,e,o){"string"==typeof n&&(n=[[null,n,""]]);var i={};if(o)for(var r=0;r<this.length;r++){var s=this[r][0];null!=s&&(i[s]=!0)}for(var a=0;a<n.length;a++){var l=[].concat(n[a]);o&&i[l[0]]||(e&&(l[2]?l[2]="".concat(e," and ").concat(l[2]):l[2]=e),t.push(l))}},t}},function(n,t,e){"use strict";function o(n){var t,e=n.Symbol;return"function"==typeof e?e.observable?t=e.observable:(t=e("observable"),e.observable=t):t="@@observable",t}e.d(t,"a",(function(){return o}))},function(n,t){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(n){"object"==typeof window&&(e=window)}n.exports=e},function(n,t){n.exports=function(n){if(!n.webpackPolyfill){var t=Object.create(n);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(n,t,e){"use strict";e.r(t),e.d(t,"Kokoro",(function(){return gn})),e.d(t,"Player",(function(){return po})),e.d(t,"SingleCard",(function(){return gi})),e.d(t,"PlaylistCard",(function(){return Hi})),e.d(t,"Provider",(function(){return nr})),e.d(t,"locale",(function(){return o})),e.d(t,"PLAY_ORDER_SHUFFLE",(function(){return X})),e.d(t,"PLAY_ORDER_LOOP",(function(){return G})),e.d(t,"PLAY_ORDER_SINGLE",(function(){return q}));var o={};e.r(o),e.d(o,"zh_Hans",(function(){return fe})),e.d(o,"en",(function(){return he})),e.d(o,"using",(function(){return ye})),e.d(o,"use",(function(){return me})),e.d(o,"default",(function(){return ge}));var i=e(4),r=e.n(i),s=e(1),a={insert:"head",singleton:!1},l=(r()(s.a,a),s.a.locals,e(0));function c(n){return function(t){var e=t.dispatch,o=t.getState;return function(t){return function(i){return"function"==typeof i?i(e,o,n):t(i)}}}}var u=c();u.withExtraArgument=c;var d=u,p=e(2);function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function h(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function y(n,t,e){return t&&h(n.prototype,t),e&&h(n,e),n}function m(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function g(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,o)}return e}function v(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?g(Object(e),!0).forEach((function(t){m(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):g(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function b(n){return function(n){if(Array.isArray(n))return k(n)}(n)||function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||w(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(n,t){if(n){if("string"==typeof n)return k(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?k(n,t):void 0}}function k(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=n[e];return o}function x(n,t){var e;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(e=w(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var o=0,i=function(){};return{s:i,n:function(){return o>=n.length?{done:!0}:{done:!1,value:n[o++]}},e:function(n){throw n},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){e=n[Symbol.iterator]()},n:function(){var n=e.next();return s=n.done,n},e:function(n){a=!0,r=n},f:function(){try{s||null==e.return||e.return()}finally{if(a)throw r}}}}var S=function(){function n(){f(this,n)}return y(n,null,[{key:"id",value:function(n){for(var t=n.src instanceof Array?encodeURI(n.src[0]):encodeURI(n.src),e=decodeURI(t);e!==t;)t=e,e=decodeURI(t);return encodeURI(e)}}]),n}(),O=function(){function n(){f(this,n)}return y(n,null,[{key:"toArray",value:function(n){for(var t=n.length,e=[],o=0;o<t;o++)e.push([n.start(o),n.end(o)]);return e}}]),n}();function P(n){return JSON.parse(JSON.stringify(n))}var E="SET_VOLUME",L="SET_SPEED";function _(n){return{type:E,payload:n}}function A(n){return{type:L,payload:n}}var T="PAUSE",C="PLAY",j="SET_CURRENT_TIME",I="SET_TOTAL_TIME",N="SET_BUFFERED_TIME",R="SET_TIMES",D="NEXT_SRC",z="UPDATE_SONG";function V(){return{type:T}}function M(){return{type:C}}function U(n){return{type:j,payload:n}}function W(n){return{type:I,payload:n}}function F(n){return{type:N,payload:n}}function B(n){return{type:R,payload:n}}function H(){return{type:D}}function Y(n){return{type:z,payload:n}}var G="PLAY_ORDER_LOOP",q="PLAY_ORDER_SINGLE",X="PLAY_ORDER_SHUFFLE",K=[G,X,q],J="SET_PLAYLIST",Q="CLEAR_PLAYLIST";function Z(n){var t=b(n);return t.sort((function(){return Math.random()-.5})),t}function $(n){var t=b(n),e=t[0];return t[0]=t[t.length-1],t[t.length-1]=e,t}function nn(n){return{type:J,payload:n}}function tn(n,t){if(!t)return n;var e=b(n),o=n.indexOf(t);return-1!==o&&e.splice(o,1),e.unshift(t),e}function en(n){return function(t,e){var o=e().playlist,i=v(v({},o),{},{playOrder:n});if(n===X){var r=Z(o.orderedList),s=r.indexOf(o.playing);i.shuffledList=r,i.shuffledIndexOfPlaying=s}t(nn(i))}}function on(){return function(n,t){var e=t().playlist.playOrder,o=K.indexOf(e),i=o+1>=K.length?0:o+1;en(K[i])(n,t)}}function rn(){return function(n,t){var e=t().playlist,o=v({},e);if(e.orderedList.length){if(e.playOrder===X){if(e.shuffledIndexOfPlaying+1===e.shuffledList.length){var i,r=Z(e.orderedList);r[0]===e.shuffledList[e.shuffledList.length-1]&&(r=$(r)),(i=o.shuffledList).push.apply(i,b(r))}o.shuffledIndexOfPlaying++,o.playing=o.shuffledList[o.shuffledIndexOfPlaying],o.orderedIndexOfPlaying=e.orderedList.indexOf(o.playing)}else e.orderedIndexOfPlaying+1>=e.orderedList.length?o.orderedIndexOfPlaying=0:o.orderedIndexOfPlaying++,o.playing=o.orderedList[o.orderedIndexOfPlaying];o.historyList=tn(e.historyList,o.playing)}n(nn(o))}}function sn(){return function(n,t){var e=t().playlist;e.playOrder===q?n(nn(e)):rn()(n,t)}}function an(){return function(n,t){var e=t().playlist,o=v({},e);if(e.orderedList.length){if(e.playOrder===X){if(e.shuffledIndexOfPlaying-1==-1){var i,r=Z(e.orderedList);r[r.length-1]===e.shuffledList[0]&&(r=$(r)),(i=o.shuffledList).unshift.apply(i,b(r)),o.shuffledIndexOfPlaying+=r.length}o.shuffledIndexOfPlaying--,o.playing=o.shuffledList[o.shuffledIndexOfPlaying],o.orderedIndexOfPlaying=e.orderedList.indexOf(o.playing)}else e.orderedIndexOfPlaying-1==-1?o.orderedIndexOfPlaying=e.orderedList.length-1:o.orderedIndexOfPlaying--,o.playing=o.orderedList[o.orderedIndexOfPlaying];o.historyList=tn(e.historyList,o.playing)}n(nn(o))}}function ln(n){return function(t,e){var o,i=e().playlist,r=v({},i);"number"==typeof n?o=i.orderedList[n]:"string"==typeof n?o=n:(o=S.id(n),r.songs[o]=n,-1===i.orderedList.indexOf(o)&&r.orderedList.splice(r.orderedIndexOfPlaying+1,0,o)),r.playing=o,r.orderedIndexOfPlaying=i.orderedList.indexOf(o),i.playOrder===X&&(r.shuffledList=Z(r.orderedList),r.shuffledIndexOfPlaying=r.shuffledList.indexOf(o)),r.historyList=tn(i.historyList,r.playing),t(nn(r))}}function cn(n){return function(t,e){var o,i=e().playlist,r=v({},i);if("number"==typeof n?o=i.orderedList[n]:"string"==typeof n?o=n:(o=S.id(n),r.songs[o]=n),o!==i.playing){var s=i.orderedList.slice(0,i.orderedIndexOfPlaying).filter((function(n){return n===o})).length;r.orderedList=i.orderedList.filter((function(n){return n!==o})),r.orderedIndexOfPlaying-=s,r.orderedList.splice(r.orderedIndexOfPlaying+1,0,o),i.playOrder!==X||i.shuffledIndexOfPlaying+1<i.shuffledList.length&&i.shuffledList[i.shuffledIndexOfPlaying+1]===o||r.shuffledList.splice(i.shuffledIndexOfPlaying+1,0,o),1===r.orderedList.length&&(r.playing=r.orderedList[0])}t(nn(r))}}function un(n){return function(t,e){var o,i=e().playlist,r=v({},i);o="number"==typeof n?i.orderedList[n]:"string"==typeof n?n:S.id(n);var s=i.orderedList.slice(0,i.orderedIndexOfPlaying).filter((function(n){return n===o})).length;if(r.orderedList=i.orderedList.filter((function(n){return n!==o})),i.playOrder===X){var a=i.shuffledList.slice(0,i.shuffledIndexOfPlaying).filter((function(n){return n===o})).length;r.shuffledList=i.shuffledList.filter((function(n){return n!==o})),r.shuffledIndexOfPlaying-=a,r.shuffledIndexOfPlaying>=r.shuffledList.length&&(r.shuffledIndexOfPlaying=r.shuffledList.length-1>0?r.shuffledList.length-1:0),r.orderedIndexOfPlaying=r.shuffledList.length-1>0?r.orderedList.indexOf(r.shuffledList[r.shuffledIndexOfPlaying]):0}else r.orderedIndexOfPlaying-=s,r.orderedIndexOfPlaying>=r.orderedList.length&&(r.orderedIndexOfPlaying=r.orderedList.length-1>0?r.orderedList.length-1:0);r.playing=r.orderedList.length?r.orderedList[r.orderedIndexOfPlaying]:null,r.historyList=tn(i.historyList,r.playing),t(nn(r))}}function dn(n,t,e){return function(o,i){var r,s=i().playlist,a=v(v({},s),{},{songs:{},orderedList:[],orderedIndexOfPlaying:null,shuffledList:[],shuffledIndexOfPlaying:null,playing:null,playOrder:e||s.playOrder}),l=x(n);try{for(l.s();!(r=l.n()).done;){var c=r.value,u=S.id(c);a.songs[u]=c,a.orderedList.push(u)}}catch(n){l.e(n)}finally{l.f()}if(a.orderedList.length){var d,p=!1;"number"==typeof t?(d=a.orderedList[t],p=!0):"string"==typeof t?(d=t,p=!0):t&&(d=S.id(t),p=!0),p?(a.orderedIndexOfPlaying=a.orderedList.indexOf(d),a.playOrder===X&&(a.shuffledList=Z(a.orderedList),a.shuffledIndexOfPlaying=a.shuffledList.indexOf(d)),a.playing=d):a.playOrder===X?(a.shuffledList=Z(a.orderedList),a.shuffledIndexOfPlaying=0,a.playing=a.shuffledList[a.shuffledIndexOfPlaying],a.orderedIndexOfPlaying=a.orderedList.indexOf(a.playing)):(a.orderedIndexOfPlaying=0,a.playing=a.orderedList[a.orderedIndexOfPlaying]),a.historyList=tn(s.historyList,a.playing)}o(nn(a))}}function pn(){return{type:Q}}var fn={volume:1,speed:1},hn={songs:{},orderedList:[],orderedIndexOfPlaying:null,shuffledList:[],shuffledIndexOfPlaying:null,historyList:[],playing:null,playOrder:G},yn={src:"",srcIndex:0,song:null,currentTime:0,totalTime:0,bufferedTime:null,paused:!0},mn=Object(l.combineReducers)({player:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return v(v({},n),{},{volume:t.payload});case L:return v(v({},n),{},{speed:t.payload});default:return n}},playing:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return P(yn);case J:return v(v({},n),{},{song:t.payload.playing?P(t.payload.songs[t.payload.playing]):null,src:t.payload.playing?t.payload.songs[t.payload.playing].src instanceof Array?t.payload.songs[t.payload.playing].src[0]:t.payload.songs[t.payload.playing].src:"",srcIndex:0});case z:return v(v({},n),{},{song:n.song?S.id(n.song)===S.id(t.payload)?P(t.payload):P(n.song):null});case D:var e=n.srcIndex+1;return v(v({},P(n)),{},{srcIndex:e,src:n.song.src[e]});case j:return v(v({},P(n)),{},{currentTime:t.payload});case I:return v(v({},P(n)),{},{totalTime:t.payload});case N:return v(v({},P(n)),{},{bufferedTime:P(t.payload)});case R:return v(v({},P(n)),{},{currentTime:t.payload.currentTime,totalTime:t.payload.totalTime,bufferedTime:P(t.payload.bufferedTime)});case T:return v(v({},P(n)),{},{paused:!0});case C:return v(v({},P(n)),{},{paused:!1});default:return n}},playlist:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return P(t.payload);case z:var e=P(t.payload),o=P(n.songs);return o[S.id(e)]=e,v(v({},P(n)),{},{songs:o});case Q:return v(v({},P(hn)),{},{playOrder:n.playOrder});default:return n}}}),gn=function(){function n(t){var e,o=this;f(this,n),this._store=t?Object(l.createStore)(mn,((e=P(t)).playing=yn,e.playing.song=e.playlist.playing?e.playlist.songs[e.playlist.playing]:null,e.playing.src=e.playing.song?e.playing.song.src instanceof Array?e.playing.song.src[0]:e.playing.song.src:null,e),Object(p.composeWithDevTools)(Object(l.applyMiddleware)(d))):Object(l.createStore)(mn,Object(p.composeWithDevTools)(Object(l.applyMiddleware)(d))),this._ref=new window.Audio,this._ref.addEventListener("canplay",(function(){o._dispatch(F(O.toArray(o._ref.buffered)))})),this._ref.addEventListener("canplaythrough",(function(){o._dispatch(F(O.toArray(o._ref.buffered)))})),this._ref.addEventListener("durationchange",(function(){o._dispatch(W(o._ref.duration))})),this._ref.addEventListener("ended",(function(){o._dispatch(sn()),o._onSrcProbablyChanged(),o._triggerPlay()})),this._ref.addEventListener("error",(function(){var n=o.getState();null!==n.playing.song&&(n.playing.song.src instanceof Array&&n.playing.srcIndex+1<n.playing.song.src.length?o._dispatch(H()):o._dispatch(sn()),o._onSrcProbablyChanged(),n.playing.paused||o._triggerPlay())})),this._ref.addEventListener("loadedmetadata",(function(){o._dispatch(W(o._ref.duration))})),this._ref.addEventListener("pause",(function(){o._dispatch(V())})),this._ref.addEventListener("play",(function(){o._dispatch(M())})),this._ref.addEventListener("progress",(function(){o._dispatch(F(O.toArray(o._ref.buffered)))})),this._ref.addEventListener("ratechange",(function(){o._dispatch(A(o._ref.playbackRate))})),this._ref.addEventListener("timeupdate",(function(){o._dispatch(B({currentTime:o._ref.currentTime,totalTime:o._ref.duration,bufferedTime:O.toArray(o._ref.buffered)}))})),this._ref.addEventListener("volumechange",(function(){o._ref.muted?o._dispatch(_(0)):o._dispatch(_(o._ref.volume))})),this._listeners=[]}return y(n,[{key:"ref",get:function(){return this._ref}},{key:"store",get:function(){return this._store}},{key:"_dispatch",get:function(){return this._store.dispatch}},{key:"getState",get:function(){return this._store.getState}},{key:"destroyed",get:function(){return this._destroyed||!1}},{key:"version",get:function(){return"0.1.0-beta.10"}}]),y(n,[{key:"destroy",value:function(){this._destroyed=!0;var n,t=x(this._listeners);try{for(t.s();!(n=t.n()).done;)n.value.unsub()}catch(n){t.e(n)}finally{t.f()}this._listeners=[],this.unmount(),this._ref.removeAttribute("src"),this._ref.load()}},{key:"subscribe",value:function(n){var t=this,e=this._listeners.find((function(t){return t.listener===n}));if(e)return e.unsub;var o=this._store.subscribe((function(){return n(t.getState())}));return this._listeners.push({listener:n,unsub:o}),o}},{key:"unsubscribe",value:function(n){var t=this._listeners.find((function(t){return t.listener===n}));t&&(t.unsub(),this._listeners=this._listeners.filter((function(t){return t.listener!==n})))}},{key:"dumpState",value:function(){return n=this.getState(),delete(t=P(n)).playing,t;var n,t}},{key:"mount",value:function(n,t){("string"==typeof n||t)&&(this._ref.id="string"==typeof n?n:t),(n instanceof window.HTMLElement?n:document.body).appendChild(this._ref)}},{key:"unmount",value:function(){this._ref.remove()}},{key:"_onSrcProbablyChanged",value:function(){var n=this.getState();S.id(n.playing)!==S.id(this._ref)&&(n.playing.src?this._ref.src=n.playing.src:(this._ref.removeAttribute("src"),this._ref.load()))}},{key:"_triggerPlay",value:function(){this._ref.currentTime=0,this._ref.play()}},{key:"pause",value:function(){this._ref.pause()}},{key:"play",value:function(){this._ref.play()}},{key:"togglePlay",value:function(){this.getState().playing.paused?this._ref.play():this._ref.pause()}},{key:"setCurrentTime",value:function(n){this._ref.currentTime=n,this._dispatch(U(n))}},{key:"next",value:function(){this._dispatch(rn()),this._onSrcProbablyChanged(),this._triggerPlay()}},{key:"previous",value:function(){this._dispatch(an()),this._onSrcProbablyChanged(),this._triggerPlay()}},{key:"setPlayOrder",value:function(n){this._dispatch(en(n))}},{key:"nextPlayOrder",value:function(){this._dispatch(on())}},{key:"setCurrentSong",value:function(n){this._dispatch(ln(n)),this._onSrcProbablyChanged(),this._triggerPlay()}},{key:"setNextSong",value:function(n){this._dispatch(cn(n)),this._onSrcProbablyChanged()}},{key:"removeSong",value:function(n){this._dispatch(un(n)),this._onSrcProbablyChanged()}},{key:"setPlaylist",value:function(n,t,e){this._dispatch(dn(n,t,e)),this._onSrcProbablyChanged()}},{key:"clearPlaylist",value:function(){this._dispatch(pn()),this._onSrcProbablyChanged()}},{key:"updateSong",value:function(n){this._dispatch(Y(n))}},{key:"setVolume",value:function(n){this._dispatch(_(n)),this._ref.volume=n}},{key:"setSpeed",value:function(n){this._dispatch(A(n)),this._ref.playbackRate=n}}]),n}();const vn="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,bn=(n,t,e=null)=>{for(;t!==e;){const e=t.nextSibling;n.removeChild(t),t=e}},wn=`{{lit-${String(Math.random()).slice(2)}}}`,kn=`\x3c!--${wn}--\x3e`,xn=new RegExp(`${wn}|${kn}`),Sn="$lit$";class On{constructor(n,t){this.parts=[],this.element=t;const e=[],o=[],i=document.createTreeWalker(t.content,133,null,!1);let r=0,s=-1,a=0;const{strings:l,values:{length:c}}=n;for(;a<c;){const n=i.nextNode();if(null!==n){if(s++,1===n.nodeType){if(n.hasAttributes()){const t=n.attributes,{length:e}=t;let o=0;for(let n=0;n<e;n++)Pn(t[n].name,Sn)&&o++;for(;o-- >0;){const t=l[a],e=_n.exec(t)[2],o=e.toLowerCase()+Sn,i=n.getAttribute(o);n.removeAttribute(o);const r=i.split(xn);this.parts.push({type:"attribute",index:s,name:e,strings:r}),a+=r.length-1}}"TEMPLATE"===n.tagName&&(o.push(n),i.currentNode=n.content)}else if(3===n.nodeType){const t=n.data;if(t.indexOf(wn)>=0){const o=n.parentNode,i=t.split(xn),r=i.length-1;for(let t=0;t<r;t++){let e,r=i[t];if(""===r)e=Ln();else{const n=_n.exec(r);null!==n&&Pn(n[2],Sn)&&(r=r.slice(0,n.index)+n[1]+n[2].slice(0,-Sn.length)+n[3]),e=document.createTextNode(r)}o.insertBefore(e,n),this.parts.push({type:"node",index:++s})}""===i[r]?(o.insertBefore(Ln(),n),e.push(n)):n.data=i[r],a+=r}}else if(8===n.nodeType)if(n.data===wn){const t=n.parentNode;null!==n.previousSibling&&s!==r||(s++,t.insertBefore(Ln(),n)),r=s,this.parts.push({type:"node",index:s}),null===n.nextSibling?n.data="":(e.push(n),s--),a++}else{let t=-1;for(;-1!==(t=n.data.indexOf(wn,t+1));)this.parts.push({type:"node",index:-1}),a++}}else i.currentNode=o.pop()}for(const n of e)n.parentNode.removeChild(n)}}const Pn=(n,t)=>{const e=n.length-t.length;return e>=0&&n.slice(e)===t},En=n=>-1!==n.index,Ln=()=>document.createComment(""),_n=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function An(n,t){const{element:{content:e},parts:o}=n,i=document.createTreeWalker(e,133,null,!1);let r=Cn(o),s=o[r],a=-1,l=0;const c=[];let u=null;for(;i.nextNode();){a++;const n=i.currentNode;for(n.previousSibling===u&&(u=null),t.has(n)&&(c.push(n),null===u&&(u=n)),null!==u&&l++;void 0!==s&&s.index===a;)s.index=null!==u?-1:s.index-l,r=Cn(o,r),s=o[r]}c.forEach((n=>n.parentNode.removeChild(n)))}const Tn=n=>{let t=11===n.nodeType?0:1;const e=document.createTreeWalker(n,133,null,!1);for(;e.nextNode();)t++;return t},Cn=(n,t=-1)=>{for(let e=t+1;e<n.length;e++){const t=n[e];if(En(t))return e}return-1},jn=new WeakMap,In=n=>"function"==typeof n&&jn.has(n),Nn={},Rn={};class Dn{constructor(n,t,e){this.__parts=[],this.template=n,this.processor=t,this.options=e}update(n){let t=0;for(const e of this.__parts)void 0!==e&&e.setValue(n[t]),t++;for(const n of this.__parts)void 0!==n&&n.commit()}_clone(){const n=vn?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=[],e=this.template.parts,o=document.createTreeWalker(n,133,null,!1);let i,r=0,s=0,a=o.nextNode();for(;r<e.length;)if(i=e[r],En(i)){for(;s<i.index;)s++,"TEMPLATE"===a.nodeName&&(t.push(a),o.currentNode=a.content),null===(a=o.nextNode())&&(o.currentNode=t.pop(),a=o.nextNode());if("node"===i.type){const n=this.processor.handleTextExpression(this.options);n.insertAfterNode(a.previousSibling),this.__parts.push(n)}else this.__parts.push(...this.processor.handleAttributeExpressions(a,i.name,i.strings,this.options));r++}else this.__parts.push(void 0),r++;return vn&&(document.adoptNode(n),customElements.upgrade(n)),n}}const zn=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:n=>n}),Vn=` ${wn} `;class Mn{constructor(n,t,e,o){this.strings=n,this.values=t,this.type=e,this.processor=o}getHTML(){const n=this.strings.length-1;let t="",e=!1;for(let o=0;o<n;o++){const n=this.strings[o],i=n.lastIndexOf("\x3c!--");e=(i>-1||e)&&-1===n.indexOf("--\x3e",i+1);const r=_n.exec(n);t+=null===r?n+(e?Vn:kn):n.substr(0,r.index)+r[1]+r[2]+Sn+r[3]+wn}return t+=this.strings[n],t}getTemplateElement(){const n=document.createElement("template");let t=this.getHTML();return void 0!==zn&&(t=zn.createHTML(t)),n.innerHTML=t,n}}const Un=n=>null===n||!("object"==typeof n||"function"==typeof n),Wn=n=>Array.isArray(n)||!(!n||!n[Symbol.iterator]);class Fn{constructor(n,t,e){this.dirty=!0,this.element=n,this.name=t,this.strings=e,this.parts=[];for(let n=0;n<e.length-1;n++)this.parts[n]=this._createPart()}_createPart(){return new Bn(this)}_getValue(){const n=this.strings,t=n.length-1,e=this.parts;if(1===t&&""===n[0]&&""===n[1]){const n=e[0].value;if("symbol"==typeof n)return String(n);if("string"==typeof n||!Wn(n))return n}let o="";for(let i=0;i<t;i++){o+=n[i];const t=e[i];if(void 0!==t){const n=t.value;if(Un(n)||!Wn(n))o+="string"==typeof n?n:String(n);else for(const t of n)o+="string"==typeof t?t:String(t)}}return o+=n[t],o}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class Bn{constructor(n){this.value=void 0,this.committer=n}setValue(n){n===Nn||Un(n)&&n===this.value||(this.value=n,In(n)||(this.committer.dirty=!0))}commit(){for(;In(this.value);){const n=this.value;this.value=Nn,n(this)}this.value!==Nn&&this.committer.commit()}}class Hn{constructor(n){this.value=void 0,this.__pendingValue=void 0,this.options=n}appendInto(n){this.startNode=n.appendChild(Ln()),this.endNode=n.appendChild(Ln())}insertAfterNode(n){this.startNode=n,this.endNode=n.nextSibling}appendIntoPart(n){n.__insert(this.startNode=Ln()),n.__insert(this.endNode=Ln())}insertAfterPart(n){n.__insert(this.startNode=Ln()),this.endNode=n.endNode,n.endNode=this.startNode}setValue(n){this.__pendingValue=n}commit(){if(null===this.startNode.parentNode)return;for(;In(this.__pendingValue);){const n=this.__pendingValue;this.__pendingValue=Nn,n(this)}const n=this.__pendingValue;n!==Nn&&(Un(n)?n!==this.value&&this.__commitText(n):n instanceof Mn?this.__commitTemplateResult(n):n instanceof Node?this.__commitNode(n):Wn(n)?this.__commitIterable(n):n===Rn?(this.value=Rn,this.clear()):this.__commitText(n))}__insert(n){this.endNode.parentNode.insertBefore(n,this.endNode)}__commitNode(n){this.value!==n&&(this.clear(),this.__insert(n),this.value=n)}__commitText(n){const t=this.startNode.nextSibling,e="string"==typeof(n=null==n?"":n)?n:String(n);t===this.endNode.previousSibling&&3===t.nodeType?t.data=e:this.__commitNode(document.createTextNode(e)),this.value=n}__commitTemplateResult(n){const t=this.options.templateFactory(n);if(this.value instanceof Dn&&this.value.template===t)this.value.update(n.values);else{const e=new Dn(t,n.processor,this.options),o=e._clone();e.update(n.values),this.__commitNode(o),this.value=e}}__commitIterable(n){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let e,o=0;for(const i of n)e=t[o],void 0===e&&(e=new Hn(this.options),t.push(e),0===o?e.appendIntoPart(this):e.insertAfterPart(t[o-1])),e.setValue(i),e.commit(),o++;o<t.length&&(t.length=o,this.clear(e&&e.endNode))}clear(n=this.startNode){bn(this.startNode.parentNode,n.nextSibling,this.endNode)}}class Yn{constructor(n,t,e){if(this.value=void 0,this.__pendingValue=void 0,2!==e.length||""!==e[0]||""!==e[1])throw new Error("Boolean attributes can only contain a single expression");this.element=n,this.name=t,this.strings=e}setValue(n){this.__pendingValue=n}commit(){for(;In(this.__pendingValue);){const n=this.__pendingValue;this.__pendingValue=Nn,n(this)}if(this.__pendingValue===Nn)return;const n=!!this.__pendingValue;this.value!==n&&(n?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=n),this.__pendingValue=Nn}}class Gn extends Fn{constructor(n,t,e){super(n,t,e),this.single=2===e.length&&""===e[0]&&""===e[1]}_createPart(){return new qn(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class qn extends Bn{}let Xn=!1;(()=>{try{const n={get capture(){return Xn=!0,!1}};window.addEventListener("test",n,n),window.removeEventListener("test",n,n)}catch(n){}})();class Kn{constructor(n,t,e){this.value=void 0,this.__pendingValue=void 0,this.element=n,this.eventName=t,this.eventContext=e,this.__boundHandleEvent=n=>this.handleEvent(n)}setValue(n){this.__pendingValue=n}commit(){for(;In(this.__pendingValue);){const n=this.__pendingValue;this.__pendingValue=Nn,n(this)}if(this.__pendingValue===Nn)return;const n=this.__pendingValue,t=this.value,e=null==n||null!=t&&(n.capture!==t.capture||n.once!==t.once||n.passive!==t.passive),o=null!=n&&(null==t||e);e&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),o&&(this.__options=Jn(n),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=n,this.__pendingValue=Nn}handleEvent(n){"function"==typeof this.value?this.value.call(this.eventContext||this.element,n):this.value.handleEvent(n)}}const Jn=n=>n&&(Xn?{capture:n.capture,passive:n.passive,once:n.once}:n.capture);function Qn(n){let t=Zn.get(n.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},Zn.set(n.type,t));let e=t.stringsArray.get(n.strings);if(void 0!==e)return e;const o=n.strings.join(wn);return e=t.keyString.get(o),void 0===e&&(e=new On(n,n.getTemplateElement()),t.keyString.set(o,e)),t.stringsArray.set(n.strings,e),e}const Zn=new Map,$n=new WeakMap,nt=new class{handleAttributeExpressions(n,t,e,o){const i=t[0];return"."===i?new Gn(n,t.slice(1),e).parts:"@"===i?[new Kn(n,t.slice(1),o.eventContext)]:"?"===i?[new Yn(n,t.slice(1),e)]:new Fn(n,t,e).parts}handleTextExpression(n){return new Hn(n)}};"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0");const tt=(n,...t)=>new Mn(n,t,"html",nt),et=(n,t)=>`${n}--${t}`;let ot=!0;void 0===window.ShadyCSS?ot=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),ot=!1);const it=n=>t=>{const e=et(t.type,n);let o=Zn.get(e);void 0===o&&(o={stringsArray:new WeakMap,keyString:new Map},Zn.set(e,o));let i=o.stringsArray.get(t.strings);if(void 0!==i)return i;const r=t.strings.join(wn);if(i=o.keyString.get(r),void 0===i){const e=t.getTemplateElement();ot&&window.ShadyCSS.prepareTemplateDom(e,n),i=new On(t,e),o.keyString.set(r,i)}return o.stringsArray.set(t.strings,i),i},rt=["html","svg"],st=new Set,at=(n,t,e)=>{st.add(n);const o=e?e.element:document.createElement("template"),i=t.querySelectorAll("style"),{length:r}=i;if(0===r)return void window.ShadyCSS.prepareTemplateStyles(o,n);const s=document.createElement("style");for(let n=0;n<r;n++){const t=i[n];t.parentNode.removeChild(t),s.textContent+=t.textContent}(n=>{rt.forEach((t=>{const e=Zn.get(et(t,n));void 0!==e&&e.keyString.forEach((n=>{const{element:{content:t}}=n,e=new Set;Array.from(t.querySelectorAll("style")).forEach((n=>{e.add(n)})),An(n,e)}))}))})(n);const a=o.content;e?function(n,t,e=null){const{element:{content:o},parts:i}=n;if(null==e)return void o.appendChild(t);const r=document.createTreeWalker(o,133,null,!1);let s=Cn(i),a=0,l=-1;for(;r.nextNode();)for(l++,r.currentNode===e&&(a=Tn(t),e.parentNode.insertBefore(t,e));-1!==s&&i[s].index===l;){if(a>0){for(;-1!==s;)i[s].index+=a,s=Cn(i,s);return}s=Cn(i,s)}}(e,s,a.firstChild):a.insertBefore(s,a.firstChild),window.ShadyCSS.prepareTemplateStyles(o,n);const l=a.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==l)t.insertBefore(l.cloneNode(!0),t.firstChild);else if(e){a.insertBefore(s,a.firstChild);const n=new Set;n.add(s),An(e,n)}};window.JSCompiler_renameProperty=(n,t)=>n;const lt={toAttribute(n,t){switch(t){case Boolean:return n?"":null;case Object:case Array:return null==n?n:JSON.stringify(n)}return n},fromAttribute(n,t){switch(t){case Boolean:return null!==n;case Number:return null===n?null:Number(n);case Object:case Array:return JSON.parse(n)}return n}},ct=(n,t)=>t!==n&&(t==t||n==n),ut={attribute:!0,type:String,converter:lt,reflect:!1,hasChanged:ct},dt="finalized";class pt extends HTMLElement{constructor(){super(),this.initialize()}static get observedAttributes(){this.finalize();const n=[];return this._classProperties.forEach(((t,e)=>{const o=this._attributeNameForProperty(e,t);void 0!==o&&(this._attributeToPropertyMap.set(o,e),n.push(o))})),n}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const n=Object.getPrototypeOf(this)._classProperties;void 0!==n&&n.forEach(((n,t)=>this._classProperties.set(t,n)))}}static createProperty(n,t=ut){if(this._ensureClassProperties(),this._classProperties.set(n,t),t.noAccessor||this.prototype.hasOwnProperty(n))return;const e="symbol"==typeof n?Symbol():`__${n}`,o=this.getPropertyDescriptor(n,e,t);void 0!==o&&Object.defineProperty(this.prototype,n,o)}static getPropertyDescriptor(n,t,e){return{get(){return this[t]},set(o){const i=this[n];this[t]=o,this.requestUpdateInternal(n,i,e)},configurable:!0,enumerable:!0}}static getPropertyOptions(n){return this._classProperties&&this._classProperties.get(n)||ut}static finalize(){const n=Object.getPrototypeOf(this);if(n.hasOwnProperty(dt)||n.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const n=this.properties,t=[...Object.getOwnPropertyNames(n),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(n):[]];for(const e of t)this.createProperty(e,n[e])}}static _attributeNameForProperty(n,t){const e=t.attribute;return!1===e?void 0:"string"==typeof e?e:"string"==typeof n?n.toLowerCase():void 0}static _valueHasChanged(n,t,e=ct){return e(n,t)}static _propertyValueFromAttribute(n,t){const e=t.type,o=t.converter||lt,i="function"==typeof o?o:o.fromAttribute;return i?i(n,e):n}static _propertyValueToAttribute(n,t){if(void 0===t.reflect)return;const e=t.type,o=t.converter;return(o&&o.toAttribute||lt.toAttribute)(n,e)}initialize(){this._updateState=0,this._updatePromise=new Promise((n=>this._enableUpdatingResolver=n)),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}_saveInstanceProperties(){this.constructor._classProperties.forEach(((n,t)=>{if(this.hasOwnProperty(t)){const n=this[t];delete this[t],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(t,n)}}))}_applyInstanceProperties(){this._instanceProperties.forEach(((n,t)=>this[t]=n)),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(n,t,e){t!==e&&this._attributeToProperty(n,e)}_propertyToAttribute(n,t,e=ut){const o=this.constructor,i=o._attributeNameForProperty(n,e);if(void 0!==i){const n=o._propertyValueToAttribute(t,e);if(void 0===n)return;this._updateState=8|this._updateState,null==n?this.removeAttribute(i):this.setAttribute(i,n),this._updateState=-9&this._updateState}}_attributeToProperty(n,t){if(8&this._updateState)return;const e=this.constructor,o=e._attributeToPropertyMap.get(n);if(void 0!==o){const n=e.getPropertyOptions(o);this._updateState=16|this._updateState,this[o]=e._propertyValueFromAttribute(t,n),this._updateState=-17&this._updateState}}requestUpdateInternal(n,t,e){let o=!0;if(void 0!==n){const i=this.constructor;e=e||i.getPropertyOptions(n),i._valueHasChanged(this[n],t,e.hasChanged)?(this._changedProperties.has(n)||this._changedProperties.set(n,t),!0!==e.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(n,e))):o=!1}!this._hasRequestedUpdate&&o&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(n,t){return this.requestUpdateInternal(n,t),this.updateComplete}async _enqueueUpdate(){this._updateState=4|this._updateState;try{await this._updatePromise}catch(n){}const n=this.performUpdate();return null!=n&&await n,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return 4&this._updateState}get hasUpdated(){return 1&this._updateState}performUpdate(){if(!this._hasRequestedUpdate)return;this._instanceProperties&&this._applyInstanceProperties();let n=!1;const t=this._changedProperties;try{n=this.shouldUpdate(t),n?this.update(t):this._markUpdated()}catch(t){throw n=!1,this._markUpdated(),t}n&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(t)),this.updated(t))}_markUpdated(){this._changedProperties=new Map,this._updateState=-5&this._updateState}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(n){return!0}update(n){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach(((n,t)=>this._propertyToAttribute(t,this[t],n))),this._reflectingProperties=void 0),this._markUpdated()}updated(n){}firstUpdated(n){}}pt.finalized=!0;const ft=Element.prototype;ft.msMatchesSelector||ft.webkitMatchesSelector;const ht=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,yt=Symbol();class mt{constructor(n,t){if(t!==yt)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=n}get styleSheet(){return void 0===this._styleSheet&&(ht?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const gt=(n,...t)=>{const e=t.reduce(((t,e,o)=>t+(n=>{if(n instanceof mt)return n.cssText;if("number"==typeof n)return n;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${n}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`)})(e)+n[o+1]),n[0]);return new mt(e,yt)};(window.litElementVersions||(window.litElementVersions=[])).push("2.4.0");const vt={};class bt extends pt{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;const n=this.getStyles();if(Array.isArray(n)){const t=(n,e)=>n.reduceRight(((n,e)=>Array.isArray(e)?t(e,n):(n.add(e),n)),e),e=t(n,new Set),o=[];e.forEach((n=>o.unshift(n))),this._styles=o}else this._styles=void 0===n?[]:[n];this._styles=this._styles.map((n=>{if(n instanceof CSSStyleSheet&&!ht){const t=Array.prototype.slice.call(n.cssRules).reduce(((n,t)=>n+t.cssText),"");return new mt(String(t),yt)}return n}))}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const n=this.constructor._styles;0!==n.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?ht?this.renderRoot.adoptedStyleSheets=n.map((n=>n instanceof CSSStyleSheet?n:n.styleSheet)):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(n.map((n=>n.cssText)),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(n){const t=this.render();super.update(n),t!==vt&&this.constructor.render(t,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach((n=>{const t=document.createElement("style");t.textContent=n.cssText,this.renderRoot.appendChild(t)})))}render(){return vt}}function wt(){var n,t,e=(n=['\n  .icon {\n    font-family: "iconfont" !important;\n    font-style: normal;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  .icon-pinyin:before {\n    content: "\\e6ef";\n  }\n\n  .icon-setting:before {\n    content: "\\e696";\n  }\n\n  .icon-translate:before {\n    content: "\\e7f8";\n  }\n\n  .icon-check:before {\n    content: "\\e63f";\n  }\n\n  .icon-lock:before {\n    content: "\\e62e";\n  }\n\n  .icon-font-smaller:before {\n    content: "\\e635";\n  }\n\n  .icon-font-larger:before {\n    content: "\\e6fe";\n  }\n\n  .icon-font-color:before {\n    content: "\\e62d";\n  }\n\n  .icon-note:before {\n    content: "\\e6ce";\n  }\n\n  .icon-clear:before {\n    content: "\\e6d8";\n  }\n\n  .icon-warn:before {\n    content: "\\e613";\n  }\n\n  .icon-ok:before {\n    content: "\\e645";\n  }\n\n  .icon-right:before {\n    content: "\\e62b";\n  }\n\n  .icon-left:before {\n    content: "\\e605";\n  }\n\n  .icon-close:before {\n    content: "\\e602";\n  }\n\n  .icon-lyrics:before {\n    content: "\\e61b";\n  }\n  \n  .icon-lyrics-on {\n    position: relative;\n    line-height: 1;\n  }\n\n  .icon-lyrics-on:before {\n    content: "\\e61b";\n  }\n\n  .icon-lyrics-on:after {\n    content: "\\e63f";\n    font-size: 1em;\n    transform: scale(0.4);\n    transform-origin: bottom right;\n    position: absolute;\n    right: 0.1em;\n    bottom: 0;\n    line-height: 1;\n  }\n\n  .icon-volume:before {\n    content: "\\e606";\n  }\n\n  .icon-pause-solid:before {\n    content: "\\e6b3";\n  }\n\n  .icon-play-solid:before {\n    content: "\\e603";\n  }\n\n  .icon-playlist:before {\n    content: "\\e601";\n  }\n\n  .icon-solo:before {\n    content: "\\e622";\n  }\n\n  .icon-shuffle:before {\n    content: "\\e609";\n  }\n\n  .icon-loop:before {\n    content: "\\e60c";\n  }\n\n  .icon-pause:before {\n    content: "\\e60e";\n  }\n\n  .icon-play:before {\n    content: "\\e6ee";\n  }\n\n  .icon-back:before {\n    content: "\\e65e";\n  }\n\n  .icon-next:before {\n    content: "\\e663";\n  }\n\n  .icon-previous:before {\n    content: "\\e664";\n  }\n\n  .icon-pause-circle:before {\n    content: "\\e666";\n  }\n\n  .icon-play-circle:before {\n    content: "\\e667";\n  }\n\n  .icon-menu:before {\n    content: "\\e60a";\n  }\n\n  .icon-play-next:before {\n    content: "\\e786";\n  }\n'],(t=['\n  .icon {\n    font-family: "iconfont" !important;\n    font-style: normal;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  .icon-pinyin:before {\n    content: "\\\\e6ef";\n  }\n\n  .icon-setting:before {\n    content: "\\\\e696";\n  }\n\n  .icon-translate:before {\n    content: "\\\\e7f8";\n  }\n\n  .icon-check:before {\n    content: "\\\\e63f";\n  }\n\n  .icon-lock:before {\n    content: "\\\\e62e";\n  }\n\n  .icon-font-smaller:before {\n    content: "\\\\e635";\n  }\n\n  .icon-font-larger:before {\n    content: "\\\\e6fe";\n  }\n\n  .icon-font-color:before {\n    content: "\\\\e62d";\n  }\n\n  .icon-note:before {\n    content: "\\\\e6ce";\n  }\n\n  .icon-clear:before {\n    content: "\\\\e6d8";\n  }\n\n  .icon-warn:before {\n    content: "\\\\e613";\n  }\n\n  .icon-ok:before {\n    content: "\\\\e645";\n  }\n\n  .icon-right:before {\n    content: "\\\\e62b";\n  }\n\n  .icon-left:before {\n    content: "\\\\e605";\n  }\n\n  .icon-close:before {\n    content: "\\\\e602";\n  }\n\n  .icon-lyrics:before {\n    content: "\\\\e61b";\n  }\n  \n  .icon-lyrics-on {\n    position: relative;\n    line-height: 1;\n  }\n\n  .icon-lyrics-on:before {\n    content: "\\\\e61b";\n  }\n\n  .icon-lyrics-on:after {\n    content: "\\\\e63f";\n    font-size: 1em;\n    transform: scale(0.4);\n    transform-origin: bottom right;\n    position: absolute;\n    right: 0.1em;\n    bottom: 0;\n    line-height: 1;\n  }\n\n  .icon-volume:before {\n    content: "\\\\e606";\n  }\n\n  .icon-pause-solid:before {\n    content: "\\\\e6b3";\n  }\n\n  .icon-play-solid:before {\n    content: "\\\\e603";\n  }\n\n  .icon-playlist:before {\n    content: "\\\\e601";\n  }\n\n  .icon-solo:before {\n    content: "\\\\e622";\n  }\n\n  .icon-shuffle:before {\n    content: "\\\\e609";\n  }\n\n  .icon-loop:before {\n    content: "\\\\e60c";\n  }\n\n  .icon-pause:before {\n    content: "\\\\e60e";\n  }\n\n  .icon-play:before {\n    content: "\\\\e6ee";\n  }\n\n  .icon-back:before {\n    content: "\\\\e65e";\n  }\n\n  .icon-next:before {\n    content: "\\\\e663";\n  }\n\n  .icon-previous:before {\n    content: "\\\\e664";\n  }\n\n  .icon-pause-circle:before {\n    content: "\\\\e666";\n  }\n\n  .icon-play-circle:before {\n    content: "\\\\e667";\n  }\n\n  .icon-menu:before {\n    content: "\\\\e60a";\n  }\n\n  .icon-play-next:before {\n    content: "\\\\e786";\n  }\n'])||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}})));return wt=function(){return e},e}bt.finalized=!0,bt.render=(n,t,e)=>{if(!e||"object"!=typeof e||!e.scopeName)throw new Error("The `scopeName` option is required.");const o=e.scopeName,i=$n.has(t),r=ot&&11===t.nodeType&&!!t.host,s=r&&!st.has(o),a=s?document.createDocumentFragment():t;if(((n,t,e)=>{let o=$n.get(t);void 0===o&&(bn(t,t.firstChild),$n.set(t,o=new Hn(Object.assign({templateFactory:Qn},e))),o.appendInto(t)),o.setValue(n),o.commit()})(n,a,Object.assign({templateFactory:it(o)},e)),s){const n=$n.get(a);$n.delete(a);const e=n.value instanceof Dn?n.value.template:void 0;at(o,a,e),bn(t,t.firstChild),t.appendChild(a),$n.set(t,n)}!i&&r&&window.ShadyCSS.styleElement(t.host)};var kt=gt(wt());const xt={},St=Promise.resolve(),Ot={contexts:new Set,running:!1,add(n){this.contexts.add(n),this.running||(this.running=!0,St.then((()=>{this.contexts.forEach((n=>{const t=xt[n];t.forEach((e=>{Pt(e,n).detail.handled&&t.delete(e)}))})),this.contexts.clear(),this.running=!1})))}};function Pt(n,t){const e=new CustomEvent(`context-request-${t}`,{detail:{},bubbles:!0,cancelable:!0,composed:!0});return n.dispatchEvent(e),e}function Et(n,t){Pt(n,t).detail.handled||function(n,t){(xt[t]||(xt[t]=new Set)).add(n)}(n,t)}function Lt(n,t){!function(n,t){const e=xt[t];e&&e.delete(n)}(n,t)}const _t=new WeakSet;var At,Tt=(At=bt,class extends At{get context(){return this.__wcContext||(this.__wcContext={})}connectedCallback(){super.connectedCallback();const n=this.constructor.observedContexts;if(n&&n.forEach((n=>Et(this,n))),!_t.has(this)){const n=this.constructor.providedContexts;if(n){const t=this.__wcProvidedContexts||(this.__wcProvidedContexts={}),e=this.__wcMappedProps||(this.__wcMappedProps={});Object.keys(n).forEach((o=>{const i=n[o],r="string"==typeof i?i:i.property;t[o]=r?this[r]:i.value,r&&(e[o]=r),function(n,t,e){const o=n.__wcContextObserverMap||(n.__wcContextObserverMap={}),i=o[t]||(o[t]=[]),r=xt[t];n.addEventListener(`context-request-${t}`,(n=>{n.stopPropagation();const o=n.target,r=e[t],s=o.context,a=s[t];a!==r&&(s[t]=r,o.contextChangedCallback&&o.contextChangedCallback(t,a,r)),i.push(o),n.detail.handled=!0})),r&&r.size&&Ot.add(t)}(this,o,t)}))}_t.add(this)}}disconnectedCallback(){super.disconnectedCallback();const n=this.constructor.observedContexts;n&&n.forEach((n=>Lt(this,n)))}shouldUpdate(n){const t=super.shouldUpdate(n),e=this.__wcMappedProps;if(e){const t=this.__wcProvidedContexts||(this.__wcProvidedContexts={});Object.keys(e).forEach((o=>{const i=e[o];if(n.has(i)){const n=this[i];t[o]=n,function(n,t,e){const o=n.__wcContextObserverMap,i=o&&o[t];i&&i.forEach((n=>{const o=n.context,i=o[t];i!==e&&(o[t]=e,n.contextChangedCallback&&n.contextChangedCallback(t,i,e))}))}(this,o,n)}}))}return t}});function Ct(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,o)}return e}function jt(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function It(n){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function Nt(n){return function(n){if(Array.isArray(n))return Rt(n)}(n)||function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||function(n,t){if(n){if("string"==typeof n)return Rt(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Rt(n,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rt(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=n[e];return o}function Dt(n,t,e){return(Dt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(n,t,e){var o=function(n,t){for(;!Object.prototype.hasOwnProperty.call(n,t)&&null!==(n=Bt(n)););return n}(n,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(e):i.value}})(n,t,e||n)}function zt(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function Vt(n,t,e){return t&&zt(n.prototype,t),e&&zt(n,e),n}function Mt(n,t){return(Mt=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function Ut(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,o=Bt(n);if(t){var i=Bt(this).constructor;e=Reflect.construct(o,arguments,i)}else e=o.apply(this,arguments);return Wt(this,e)}}function Wt(n,t){return!t||"object"!==It(t)&&"function"!=typeof t?Ft(n):t}function Ft(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Bt(n){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}var Ht=function(n){return function(t){if("function"!=typeof t)throw new Error("".concat(t.name," has to be a function or class"));return function(e){!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&Mt(n,t)}(i,e);var o=Ut(i);function i(){var n;return function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this)).___updateProps=n.___updateProps.bind(Ft(n)),n}return Vt(i,null,[{key:"observedContexts",get:function(){var n=["kokoro"];return t.observedContexts&&n.push.apply(n,Nt(t.observedContexts.filter((function(n){return"kokoro"!==n})))),n}}]),Vt(i,[{key:"___updateProps",value:function(){var t=this,e=n(this.context.kokoro.getState());Object.keys(e).forEach((function(n){t[n]!==e[n]&&(void 0===e[n]||null===e[n]||"object"!==It(e[n])?t[n]=e[n]:e[n]instanceof Array?t[n]=Nt(e[n]):t[n]=function(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(e),!0).forEach((function(t){jt(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Ct(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}({},e[n]))}))}},{key:"___updateStateContext",value:function(){var t=this;if(this.context.kokoro){var e=n(this.context.kokoro.getState());Object.keys(e).forEach((function(n){t[n]=e[n]})),this.context.kokoro.subscribe(this.___updateProps)}}},{key:"firstUpdated",value:function(n){this.___updateStateContext(),Dt(Bt(i.prototype),"firstUpdated",this).call(this,n)}},{key:"contextChangedCallback",value:function(n,t,e){"kokoro"===n&&(t&&t.unsubscribe(this.___updateProps),this.___updateStateContext()),Dt(Bt(i.prototype),"contextChangedCallback",this)&&Dt(Bt(i.prototype),"contextChangedCallback",this).call(this,n,t,e),this.requestUpdate()}}]),i}(t)}};function Yt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Gt(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function qt(n,t,e){return t&&Gt(n.prototype,t),e&&Gt(n,e),n}var Xt,Kt=function(){function n(){Yt(this,n)}return qt(n,null,[{key:"safeUri",value:function(n){for(var t=decodeURI(n);t!==n;)n=t,t=decodeURI(n);return encodeURI(t)}},{key:"safe",value:function(t){return t instanceof Array?t.map((function(t){return n.safe(t)})):n.safeUri(t)}},{key:"indexOf",value:function(t,e){for(var o=0;o<t.length;o++)if(n.safe(t[o])===n.safe(e))return o;return-1}}]),n}(),Jt=function(){function n(){Yt(this,n)}return qt(n,null,[{key:"indexOf",value:function(t,e){for(var o=0;o<t.length;o++)if(n.same(t[o],e))return o;return-1}},{key:"same",value:function(n,t){if(n instanceof Array&&"string"==typeof t)return-1!==Kt.indexOf(n,t);if(t instanceof Array&&"string"==typeof n)return-1!==Kt.indexOf(t,n);if(n instanceof Array&&t instanceof Array){var e={};return Kt.safe(n).forEach((function(n){e[n]=!0})),Kt.safe(t).forEach((function(n){e[n]=!0})),Object.keys(e).length<n.length+t.length}return Kt.safe(n)===Kt.safe(t)}}]),n}(),Qt=/^(\[.+\])+/,Zt=/^\s*(\w+)\s*:(.*)$/,$t=/^\s*(\d+)\s*:\s*(\d+(\s*[\.:]\s*\d+)?)\s*$/;function ne(n){var t,e,o=function(n){n=n.trim();var t=Qt.exec(n);if(null===t)return null;var e=t[0],o=n.substr(e.length);return[e.slice(1,-1).split(/\]\s*\[/),o]}(n);try{if(o){var i=o[0],r=o[1];return $t.test(i[0])?function(n,t){var e=[];return n.forEach((function(n){var t=$t.exec(n),o=parseFloat(t[1]),i=parseFloat(t[2].replace(/\s+/g,"").replace(":","."));e.push(60*o+i)})),{type:Xt.TIME,timestamps:e,content:t.trim()}}(i,r):(t=i[0],e=Zt.exec(t),{type:Xt.INFO,key:e[1].trim(),value:e[2].trim()})}return{type:Xt.INVALID}}catch(n){return{type:Xt.INVALID}}}function te(n,t){for(void 0===t&&(t=2);n.toString().split(".")[0].length<t;)n="0"+n;return n}function ee(n){return te(Math.floor(n/60))+":"+te((n%60).toFixed(2))}!function(n){n.INVALID="INVALID",n.INFO="INFO",n.TIME="TIME"}(Xt||(Xt={}));var oe,ie,re,se,ae,le,ce=function(){function n(){this.info={},this.lyrics=[]}return n.parse=function(n){var t=[],e={};n.split(/\r\n|[\n\r]/g).map((function(n){return ne(n)})).forEach((function(n){switch(n.type){case Xt.INFO:e[n.key]=n.value;break;case Xt.TIME:n.timestamps.forEach((function(e){t.push({timestamp:e,content:n.content})}))}}));var o=new this;return o.lyrics=t,o.info=e,o},n.prototype.offset=function(n){this.lyrics.forEach((function(t){t.timestamp+=n,t.timestamp<0&&(t.timestamp=0)}))},n.prototype.clone=function(){function t(n){var t={};for(var e in n)t[e]=n[e];return t}var e=new n;return e.info=t(this.info),e.lyrics=this.lyrics.reduce((function(n,e){return n.push(t(e)),n}),[]),e},n.prototype.toString=function(n){void 0===n&&(n={}),n.combine=!("combine"in n)||n.combine,n.lineFormat="lineFormat"in n?n.lineFormat:"\r\n",n.sort=!("sort"in n)||n.sort;var t=[],e={},o=[];for(var i in this.info)t.push("["+i+":"+this.info[i]+"]");if(n.combine){for(var r in this.lyrics.forEach((function(n){n.content in e?e[n.content].push(n.timestamp):e[n.content]=[n.timestamp]})),e)n.sort&&e[r].sort(),o.push({timestamps:e[r],content:r});n.sort&&o.sort((function(n,t){return n.timestamps[0]-t.timestamps[0]})),o.forEach((function(n){t.push("["+n.timestamps.map((function(n){return ee(n)})).join("][")+"]"+(n.content||""))}))}else this.lyrics.forEach((function(n){t.push("["+ee(n.timestamp)+"]"+(n.content||""))}));return t.join(n.lineFormat)},n}(),ue=function(){function n(n,t){void 0===n&&(n=new ce),void 0===t&&(t=!0),this.offset=t,this._currentIndex=-1,this.setLrc(n)}return n.prototype.setLrc=function(n){this.lrc=n.clone(),this.lrcUpdate()},n.prototype.lrcUpdate=function(){this.offset&&this._offsetAlign(),this._sort()},n.prototype._offsetAlign=function(){if("offset"in this.lrc.info){var n=parseInt(this.lrc.info.offset)/1e3;isNaN(n)||(this.lrc.offset(n),delete this.lrc.info.offset)}},n.prototype._sort=function(){this.lrc.lyrics.sort((function(n,t){return n.timestamp-t.timestamp}))},n.prototype.timeUpdate=function(n){this._currentIndex>=this.lrc.lyrics.length?this._currentIndex=this.lrc.lyrics.length-1:this._currentIndex<-1&&(this._currentIndex=-1),this._currentIndex=this._findIndex(n,this._currentIndex)},n.prototype._findIndex=function(n,t){var e=-1==t?Number.NEGATIVE_INFINITY:this.lrc.lyrics[t].timestamp,o=t==this.lrc.lyrics.length-1?Number.POSITIVE_INFINITY:this.lrc.lyrics[t+1].timestamp;return n<e?this._findIndex(n,t-1):n===o?o===Number.POSITIVE_INFINITY?t:t+1:n>o?this._findIndex(n,t+1):t},n.prototype.getInfo=function(){return this.lrc.info},n.prototype.getLyrics=function(){return this.lrc.lyrics},n.prototype.getLyric=function(n){if(void 0===n&&(n=this.curIndex()),n>=0&&n<=this.lrc.lyrics.length-1)return this.lrc.lyrics[n];throw new Error("Index not exist")},n.prototype.curIndex=function(){return this._currentIndex},n.prototype.curLyric=function(){return this.getLyric()},n}(),de=(re=null,se=null,ae=null,le=null,function(n,t,e,o){var i,r,s;if(!n)return null;re&&n.value===re||(re=n.value,(ae=ce.parse(n.value)).lyrics.sort((function(n,t){return n.timestamp-t.timestamp})),oe=new ue(ae)),o&&n.translations&&((s=n.translations.find((function(n){return n.lang.toLowerCase()===o.toLowerCase()})))||(o=o.split("-")[0].split("_")[0].toLowerCase(),s=n.translations.find((function(n){return n.lang.toLowerCase().startsWith(o)}))),s&&s.value!==se&&(se=s.value,(le=ce.parse(s.value)).lyrics.sort((function(n,t){return n.timestamp-t.timestamp})),ie=new ue(le))),void 0===o||s||(se=null,le=null,ie=null),oe.timeUpdate(t),ie&&ie.timeUpdate(t);var a,l=oe.curLyric();a=oe.curIndex()+1>=ae.lyrics.length?{timestamp:e,content:""}:oe.getLyric(oe.curIndex()+1);for(var c=0,u=0;c<ae.lyrics.length;c++)if(s){for(var d=le.lyrics[u];d.timestamp<ae.lyrics[c].timestamp;)u++,d=le.lyrics[u];d&&d.timestamp===ae.lyrics[c].timestamp&&(ae.lyrics[c].translation=d.content)}else void 0!==o&&delete ae.lyrics[c].translation;return{lyrics:ae.lyrics,lang:(null===(i=s)||void 0===i?void 0:i.lang)||null,langName:(null===(r=s)||void 0===r?void 0:r.name)||null,currentSentence:l.content,currentSentenceStart:l.timestamp,currentSentenceEnd:a.timestamp,currentSentenceTranslation:ie?ie.curLyric().content:null,nextSentence:a.content,nextSentenceTranslation:ie?ie.curIndex()+1>=le.lyrics.length?"":ie.getLyric(ie.curIndex()+1):null}}),pe=function(n,t,e,o,i){return n?"lrc"===n.type?de(n,t,e,o):(console.error("Unsupported lyrics type: ".concat(n.type)),null):null},fe={playNow:"",playNext:"",playAll:"",added:"",addToPlaylist:"",banner:" - Kokoro -",disconnected:"Kokoro ",noLyrics:""},he={playNow:"Play Now",playNext:"Play Next",playAll:"Play All",added:"Added",addToPlaylist:"Add to Playlist",banner:"Kokoro - Music Your Website",disconnected:"Kokoro Disconnected",noLyrics:"No lyrics"},ye=Object.assign({},fe);function me(n){for(var t=0,e=Object.keys(ye);t<e.length;t++){var o=e[t];ye[o]=n[o]}}var ge=ye;function ve(n){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function be(){var n=_e(['\n            <a class="btn" @click="','"\n            >',"</a>\n          "]);return be=function(){return n},n}function we(){var n=_e(['\n            <a class="btn" @click="','"\n            ><i class="icon icon-translate"></i></a>\n          ']);return we=function(){return n},n}function ke(){var n=_e(['\n            <a\n              class="btn"\n              title="','"\n              @click="','"\n            >\n              <i\n                class="preview"\n                style="background: ','"\n              ></i>\n            </a>\n          ']);return ke=function(){return n},n}function xe(){var n=_e(['\n              <div class="lyrics-track translation-track"">\n                <span class="desktop-lyrics"\n                >',"</span>\n              </div>"]);return xe=function(){return n},n}function Se(){var n=_e(['<i class="icon icon-translate"></i>']);return Se=function(){return n},n}function Oe(){var n=_e(['\n            <a class="btn" @click="','"\n            >',"</a>\n          "]);return Oe=function(){return n},n}function Pe(){var n=_e(['\n              <div class="lyrics-track translation-track"">\n                <span class="desktop-lyrics"\n                >',"</span>\n              </div>"]);return Pe=function(){return n},n}function Ee(){var n=_e(["\n      <style>\n        .desktop-lyrics {\n          background: ",";\n          font-size: ","px;\n        }\n        .translation-track .desktop-lyrics {\n          font-size: ","px;\n        }\n        .desktop-lyrics-window > .btn.lock,\n        .mobile-lyrics-window > .btn.lock {\n          background: ",";\n        }\n\n        @media screen and (max-width: 500px) {\n          .desktop-lyrics {\n            font-size: ","px;\n          }\n          .translation-track .desktop-lyrics {\n            font-size: ",'px;\n          }\n        }\n      </style>\n      <div\n        class="desktop-lyrics-window '," ",'"\n        style="left: ',"px; top: ",'px"\n        @mousedown="','"\n        @touchstart="','"\n      >\n        <div class="desktop-lyrics-panel">\n          <div id="desktop-lyrics-track" class="lyrics-track">\n            <span class="desktop-lyrics"\n            >',"</span>\n          </div>\n          ",'\n        </div>\n        <div class="tool-bar">\n          <a class="btn" @click="','"\n          ><i class="icon icon-lock"></i></a>\n          <a class="btn" @click="','"><i class="icon icon-left"></i></a>\n          <a class="btn" @click="','"\n          ><i class="icon icon-','"></i></a>\n          <a class="btn" @click="','"><i class="icon icon-right"></i></a>\n          <a class="btn" @click="','"\n          ><i class="icon icon-font-smaller"></i></a>\n          <a class="btn" @click="','"\n          ><i class="icon icon-font-larger"></i></a>\n          <a\n            class="btn"\n            title="','"\n            @click="','"\n          >\n            <i class="icon icon-font-color"></i>\n            <i\n              class="preview"\n              style="background: ','"\n            ></i>\n          </a>\n          ','\n        </div>\n        <a\n          class="btn close"\n          @click="','"\n        ><i class="icon icon-close"></i></a>\n        <a\n          class="btn lock"\n          @click="','"\n        ><i class="icon icon-lock"></i></a>\n      </div>\n      <div\n        class="mobile-lyrics-window '," ",'"\n        style="top: ','px"\n        @mousedown="','"\n        @touchstart="','"\n      >\n        <div class="tool-bar top">\n          <a\n            class="btn close"\n            @click="','"\n          ><i class="icon icon-close"></i></a>\n          <span></span>\n        </div>\n        <div class="desktop-lyrics-panel">\n          <div class="lyrics-track">\n            <span class="desktop-lyrics"\n            >',"</span>\n          </div>\n          ",'\n        </div>\n        <div class="tool-bar middle">\n          <a\n            class="btn settings"\n            @click="','"\n          ><i class="icon icon-setting"></i></a>\n          <div class="control">\n            <a class="btn" @click="','"><i class="icon icon-left"></i></a>\n            <a class="btn" @click="','"\n            ><i class="icon icon-','"></i></a>\n            <a class="btn" @click="','"><i class="icon icon-right"></i></a>\n          </div>\n          <a\n            class="btn lock"\n            @click="','"\n          ><i class="icon icon-lock"></i></a>\n        </div>\n        <div class="tool-bar bottom ','">\n          <a class="btn" @click="','"\n          ><i class="icon icon-font-smaller"></i></a>\n          <a class="btn" @click="','"\n          ><i class="icon icon-font-larger"></i></a>\n          ',"\n          ","\n          ",'\n        </div>\n        <a\n          class="btn lock"\n          @click="','"\n        ><i class="icon icon-lock"></i></a>\n      </div>\n    ']);return Ee=function(){return n},n}function Le(){var n=_e(["\n      ","\n      :host {\n        position: fixed;\n      }\n      \n      .desktop-lyrics-window.hide {\n        display: none;\n      }\n\n      .desktop-lyrics-window {\n        position: fixed;\n        width: 90%;\n        box-sizing: border-box;\n        max-width: 700px;\n        transform: translate(-50%, -50%);\n        user-select: none;\n        padding: 35px 20px;\n        cursor: grab;\n      }\n\n      .desktop-lyrics-window:hover {\n        background: rgba(0, 0, 0, 0.6);\n        box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.6);\n        border-radius: 4px;\n      }\n\n      .desktop-lyrics-window.locked:hover,\n      .mobile-lyrics-window.locked:hover {\n        background: none;\n        box-shadow: none;\n        cursor: inherit;\n      }\n\n      .desktop-lyrics-window.dragging,\n      .mobile-lyrics-window.dragging {\n        cursor: grabbing;\n      }\n\n      .desktop-lyrics-window > .tool-bar {\n        position: absolute;\n        top: 6px;\n        left: 50%;\n        transform: translateX(-50%);\n        display: none;\n        font-size: 14px;\n        line-height: 1;\n        white-space: nowrap;\n      }\n\n      .desktop-lyrics-window > .btn.close {\n        display: none;\n        position: absolute;\n        top: 6px;\n        left: 6px;\n        line-height: 1;\n      }\n\n      .desktop-lyrics-window > .btn.close > .icon {\n        vertical-align: top;\n      }\n\n      .desktop-lyrics-window:hover > .btn.close {\n        display: block;\n      }\n\n      .desktop-lyrics-window.locked:hover > .btn.close {\n        display: none;\n      }\n\n      .desktop-lyrics-window .btn,\n      .mobile-lyrics-window .btn {\n        color: var(--kokoro-white);\n        font-size: 14px;\n        cursor: pointer;\n      }\n\n      .desktop-lyrics-window .btn {\n        text-shadow: 0 0 1px var(--kokoro-white);\n      }\n\n      .desktop-lyrics-window > .btn.lock,\n      .mobile-lyrics-window > .btn.lock {\n        position: absolute;\n        top: 0;\n        left: 50%;\n        transform: translateX(-50%);\n        padding: 1px 4px;\n        border-radius: 4px;\n        display: none;\n        color: transparent;\n        background-clip: text;\n        -webkit-background-clip: text;\n      }\n\n      .desktop-lyrics-window.locked:hover > .btn.lock,\n      .mobile-lyrics-window.locked:hover > .btn.lock {\n        display: block;\n      }\n\n      .desktop-lyrics-window > .tool-bar > .btn {\n        margin: 0 3px;\n      }\n\n      .btn > .icon {\n        vertical-align: middle;\n      }\n\n      .preview {\n        width: 14px;\n        height: 14px;\n        display: inline-block;\n        vertical-align: middle;\n        border-radius: 2px;\n      }\n\n      .desktop-lyrics-window:hover > .tool-bar {\n        display: flex;\n      }\n\n      .desktop-lyrics-window.locked:hover > .tool-bar {\n        display: none;\n      }\n\n      .desktop-lyrics-window > .desktop-lyrics-panel,\n      .mobile-lyrics-window > .desktop-lyrics-panel {\n        overflow: hidden;\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n      }\n\n      .desktop-lyrics-window > .desktop-lyrics-panel > .lyrics-track,\n      .mobile-lyrics-window > .desktop-lyrics-panel > .lyrics-track {\n        max-width: 100%;\n        line-height: normal;\n      }\n\n      .desktop-lyrics-window > .desktop-lyrics-panel > .lyrics-track {\n        overflow: hidden;\n      }\n\n      .desktop-lyrics {\n        background-clip: text;\n        -webkit-background-clip: text;\n        color: transparent;\n        white-space: pre;\n        line-height: normal;\n        display: inline-block;\n        text-align: center;\n      }\n\n      .translation-track .desktop-lyrics {\n        white-space: pre-wrap;\n      }\n\n      .mobile-lyrics-window.hide {\n        display: none;\n      }\n      \n      .mobile-lyrics-window {\n        display: none;\n        position: fixed;\n        left: 50%;\n        width: 95%;\n        box-sizing: border-box;\n        transform: translate(-50%, -50%);\n        user-select: none;\n        cursor: grab;\n      }\n\n      .mobile-lyrics-window:hover {\n        background: rgba(0, 0, 0, 0.6);\n      }\n\n      .mobile-lyrics-window > .tool-bar {\n        visibility: hidden;\n        display: flex;\n        justify-content: space-between;\n      }\n\n      .mobile-lyrics-window:hover > .tool-bar {\n        visibility: visible;\n      }\n\n      .mobile-lyrics-window.locked:hover > .tool-bar {\n        visibility: hidden;\n      }\n\n      .mobile-lyrics-window > .tool-bar.top .btn {\n        padding: 4px 8px 0 8px;\n      }\n\n      .mobile-lyrics-window > .tool-bar.middle {\n        margin: 10px 0;\n      }\n\n      .mobile-lyrics-window > .tool-bar.middle .btn {\n        padding: 0 8px 0 8px;\n        font-size: 18px;\n      }\n\n      .mobile-lyrics-window > .tool-bar.bottom {\n        display: block;\n      }\n\n      .mobile-lyrics-window > .tool-bar.bottom.hide {\n        display: none;\n      }\n\n      .mobile-lyrics-window > .tool-bar.bottom > * {\n        display: inline-block;\n        margin-bottom: 10px;\n        padding: 0 10px;\n      }\n\n      @media screen and (max-width: 500px) {\n        .desktop-lyrics-window {\n          display: none;\n        }\n\n        .mobile-lyrics-window {\n          display: block;\n        }\n      }\n    "]);return Le=function(){return n},n}function _e(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}function Ae(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function Te(n,t,e){return t&&Ae(n.prototype,t),e&&Ae(n,e),n}function Ce(n,t){return(Ce=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function je(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,o=Re(n);if(t){var i=Re(this).constructor;e=Reflect.construct(o,arguments,i)}else e=o.apply(this,arguments);return Ie(this,e)}}function Ie(n,t){return!t||"object"!==ve(t)&&"function"!=typeof t?Ne(n):t}function Ne(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Re(n){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}var De=function(n){!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&Ce(n,t)}(e,n);var t=je(e);function e(){var n;return function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=t.call(this)).drag=n.drag.bind(Ne(n)),n.stopDragging=n.stopDragging.bind(Ne(n)),n.isLocked=!1,n}return Te(e,null,[{key:"properties",get:function(){return{lyrics:{type:Object},currentTime:{type:Number},dragging:{type:Boolean},verticalCenter:{type:Number},horizontalCenter:{type:Number},colorSchemes:{type:Array},colorSchemeIndex:{type:Number},fontSize:{type:Number},mobileFontSize:{type:Number},isLocked:{type:Boolean},paused:{type:Boolean},langAvailable:{type:Array},isSettingsBarShowing:{type:Boolean}}}},{key:"styles",get:function(){return gt(Le(),kt)}}]),Te(e,[{key:"updated",value:function(n){n.has("currentTime")&&this.lyrics&&(this.shadowRoot.querySelector("#desktop-lyrics-track").scrollLeft=(this.currentTime-this.lyrics.currentSentenceStart)/(this.lyrics.currentSentenceEnd-this.lyrics.currentSentenceStart)*this.shadowRoot.querySelector("#desktop-lyrics-track").scrollWidth-this.shadowRoot.querySelector("#desktop-lyrics-track").clientWidth/2)}},{key:"render",value:function(){var n,t,e,o,i,r,s,a,l,c=this;return tt(Ee(),null===(n=this.colorSchemes[this.colorSchemeIndex])||void 0===n?void 0:n.value,this.fontSize,(this.fontSize+10)/2,null===(t=this.colorSchemes[this.colorSchemeIndex])||void 0===t?void 0:t.value,this.mobileFontSize,(this.mobileFontSize+10)/2,this.dragging?"dragging":"",this.isLocked?"locked":"",this.horizontalCenter,this.verticalCenter,this.startDragging,this.startDragging,this.lyrics&&!this.notStartedYet?this.lyrics.currentSentence:ge.banner,this.lyrics&&!this.notStartedYet&&null!==(e=this.lyrics)&&void 0!==e&&e.lang&&this.lyrics.currentSentenceTranslation?tt(Pe(),this.lyrics.currentSentenceTranslation):"",(function(){c.isLocked=!c.isLocked}),this.prev,this.togglePlay,this.paused?"play":"pause",this.next,(function(){c.fontSize>10&&(c.fontSize-=4)}),(function(){c.fontSize+=4}),this.colorSchemes[this.colorSchemeIndex].name,this.nextDesktopLyricsColorScheme,this.colorSchemes[this.colorSchemeIndex].value,null!==(o=this.langAvailable)&&void 0!==o&&o.length?tt(Oe(),this.nextLang,(null===(i=this.lyrics)||void 0===i?void 0:i.langName)||(null===(r=this.lyrics)||void 0===r?void 0:r.lang)||tt(Se())):"",this.toggleDesktopLyrics,(function(){c.isLocked=!c.isLocked}),this.dragging?"dragging":"",this.isLocked?"locked":"",this.verticalCenter,this.startDragging,this.startDragging,this.toggleDesktopLyrics,this.lyrics&&!this.notStartedYet?this.lyrics.currentSentence:ge.banner,this.lyrics&&!this.notStartedYet&&null!==(s=this.lyrics)&&void 0!==s&&s.lang&&this.lyrics.currentSentenceTranslation?tt(xe(),this.lyrics.currentSentenceTranslation):"",(function(){c.isSettingsBarShowing=!c.isSettingsBarShowing}),this.prev,this.togglePlay,this.paused?"play":"pause",this.next,(function(){c.isLocked=!c.isLocked}),this.isSettingsBarShowing?"":"hide",(function(){c.mobileFontSize>10&&(c.mobileFontSize-=2)}),(function(){c.mobileFontSize+=2}),this.colorSchemes.map((function(n,t){return tt(ke(),n.name,(function(){c.colorSchemeIndex=t}),n.value)})),null!==(a=this.langAvailable)&&void 0!==a&&a.length?tt(we(),this.nextLang):"",null===(l=this.langAvailable)||void 0===l?void 0:l.map((function(n){return tt(be(),(function(){return c.setLang(n.lang)}),n.name||n.lang)})),(function(){c.isLocked=!c.isLocked}))}},{key:"nextLang",value:function(){var n,t=this,e=this.langAvailable.findIndex((function(n){var e;return n.lang===(null===(e=t.lyrics)||void 0===e?void 0:e.lang)}));++e===this.langAvailable.length&&(e=-1),this.setLang(null===(n=this.langAvailable[e])||void 0===n?void 0:n.lang)}},{key:"setLang",value:function(n){this.dispatchEvent(new window.CustomEvent("kokoro-change",{detail:{lang:n||null}}))}},{key:"nextDesktopLyricsColorScheme",value:function(){this.colorSchemeIndex+1===this.colorSchemes.length?this.colorSchemeIndex=0:this.colorSchemeIndex++}},{key:"startDragging",value:function(n){this.dragging=!0,n.stopPropagation();var t=void 0!==window.TouchEvent&&n instanceof window.TouchEvent?n.changedTouches[0]:n;this.cursorX=t.clientX,this.cursorY=t.clientY,this.drag(n),"mousedown"===n.type&&(document.addEventListener("mousemove",this.drag),document.addEventListener("mouseup",this.stopDragging)),"touchstart"===n.type&&(document.addEventListener("touchmove",this.drag,{passive:!1}),document.addEventListener("touchend",this.stopDragging),document.addEventListener("touchcancel",this.stopDragging))}},{key:"drag",value:function(n){"touchmove"===n.type&&n.preventDefault(),n=void 0!==window.TouchEvent&&n instanceof window.TouchEvent?n.changedTouches[0]:n,this.horizontalCenter+=n.clientX-this.cursorX,this.verticalCenter+=n.clientY-this.cursorY,this.cursorX=n.clientX,this.cursorY=n.clientY}},{key:"stopDragging",value:function(){this.dragging=!1,document.removeEventListener("mousemove",this.drag),document.removeEventListener("mouseup",this.stopDragging),document.removeEventListener("touchmove",this.drag),document.removeEventListener("touchend",this.stopDragging),document.removeEventListener("touchcancel",this.stopDragging)}},{key:"prev",value:function(){this.dispatchEvent(new window.CustomEvent("kokoro-action",{detail:{action:"prev"}}))}},{key:"next",value:function(){this.dispatchEvent(new window.CustomEvent("kokoro-action",{detail:{action:"next"}}))}},{key:"togglePlay",value:function(){this.dispatchEvent(new window.CustomEvent("kokoro-action",{detail:{action:"togglePlay"}}))}},{key:"toggleDesktopLyrics",value:function(){this.dispatchEvent(new window.CustomEvent("kokoro-action",{detail:{action:"toggleDesktopLyrics"}}))}},{key:"notStartedYet",get:function(){return this.paused&&0===this.currentTime}}]),e}(bt);function ze(n){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function Ve(){var n=no(['\n            <a\n              class="playlist-clear"\n              @click="','"\n            ><i class="icon icon-clear"></i></a>']);return Ve=function(){return n},n}function Me(){var n=no(['\n              <div class="playlist-item-box" @click="','">\n                <div class="playlist-item ','">\n                  <a class="remove" @click="','"\n                  ><i class="icon icon-close"></i></a>\n                  <div class="title">','</div>\n                  <div class="artist">'," - ","</div>\n                </div>\n              </div>\n            "]);return Me=function(){return n},n}function Ue(){var n=no(['<i class="icon icon-translate"></i>']);return Ue=function(){return n},n}function We(){var n=no(['\n            <div class="lyrics-control-box">\n              <a class="btn" @click="','"\n              >',"</a>\n            </div>  \n          "]);return We=function(){return n},n}function Fe(){var n=no(['<div class="translation">',"</div>"]);return Fe=function(){return n},n}function Be(){var n=no(['\n                <div\n                  class="lyric ','"\n                >\n                  <div>',"</div>\n                  ","\n                </div>\n              "]);return Be=function(){return n},n}function He(){var n=no(['\n              <img src="','" />\n            ']);return He=function(){return n},n}function Ye(){var n=no(['\n            <a\n              class="playlist-clear"\n              @click="','"\n            ><i class="icon icon-clear"></i></a>']);return Ye=function(){return n},n}function Ge(){var n=no(['\n              <div class="playlist-item-box" @click="','">\n                <div class="playlist-item ','">\n                  <a class="remove" @click="','"\n                  ><i class="icon icon-close"></i></a>\n                  <div class="title">','</div>\n                  <div class="artist">'," - ","</div>\n                </div>\n              </div>\n            "]);return Ge=function(){return n},n}function qe(){var n=no(['<i class="icon icon-translate"></i>']);return qe=function(){return n},n}function Xe(){var n=no(['\n            <div class="lyrics-control-box">\n              <a class="btn" @click="','"\n              >',"</a>\n            </div>\n          "]);return Xe=function(){return n},n}function Ke(){var n=no(['<div class="translation">',"</div>"]);return Ke=function(){return n},n}function Je(){var n=no(['\n                <div\n                  class="lyric ','"\n                >\n                  <div>',"</div>\n                  ","\n                </div>\n              "]);return Je=function(){return n},n}function Qe(){var n=no(['\n              <img src="','" />\n            ']);return Qe=function(){return n},n}function Ze(){var n=no(['\n      <style>\n        .main-window > .underlay > .background,\n        .small-window > .cover-box,\n        .small-window > .control-box > .move-handle > .move-handle-bg {\n          background: url("','") no-repeat scroll center center / cover;\n        }\n        :host {\n          --kokoro-white: #cecece;\n          --kokoro-black: rgba(0, 0, 0, 0.8);\n          --kokoro-primary-color: ',";\n          --kokoro-primary-highlight: ",";\n          --kokoro-secondary-color: ",";\n          --kokoro-border-radius: 0;\n        }\n        .main-window {\n          visibility: ",";\n        }\n        .small-window {\n          visibility: ",";\n          transform-origin: ",' center;\n        }\n      </style>\n      <div\n        class="main-window '," ",'"\n        style="top: ',"px; left: ",'px"\n      >\n        <div class="handle-bar">\n          <div\n            class="move-handle ','"\n            @mousedown="','"\n            @touchstart="','"\n          ></div>\n        </div>\n        <div class="disconnected-panel ','">\n          ','\n        </div>\n        <div class="control-box ','">\n          <div class="control-panel panel ','">\n            <a class="btn" @click="','"\n            ><i class="icon icon-lyrics','"></i></a>\n            <a class="btn" @click="','"><i class="icon icon-','"></i></a>\n            <a class="btn" @click="','"><i class="icon icon-previous"></i></a>\n            <a class="btn play" @click="','"><i\n              class="icon icon-','-circle"\n            ></i></a>\n            <a class="btn" @click="','"><i class="icon icon-next"></i></a>\n            <a class="btn" @click="','"\n            ><i class="icon icon-volume"></i></a>\n            <a class="btn" @click="','"\n            ><i class="icon icon-playlist"></i></a>\n          </div>\n          <div class="volume-playback-panel panel ','">\n            <a class="btn volume"\n               @mouseenter="','"\n               @mouseleave="','"\n            >\n              <i class="icon icon-volume"></i>\n              <kokoro-track\n                id="volume-track"\n                .played="','"\n                .buffered="','"\n                @kokoro-change="','"\n              ></kokoro-track>\n            </a>\n            <a class="volume-playback-panel-close"\n               @click="','"\n            ><i class="icon icon-close"></i></a>\n          </div>\n          <kokoro-progress\n            .played="','"\n            .buffered="','"\n            .currentTime="','"\n            .totalTime="','"\n            @kokoro-change="','"\n          ></kokoro-progress>\n        </div>\n        <div class="cover-panel ','"\n             @click="','"\n        >\n          <div class="cover-box">\n            ','\n          </div>\n          <div class="lyrics-title-box">\n            <h1>',"</h1>\n            <h2>",'</h2>\n          </div>\n          <div class="lyric">','</div>\n          <div class="lyric translation">','</div>\n        </div>\n        <div class="lyrics-panel ','"\n             @click="','"\n        >\n          <div class="lyrics-title-box">\n            <h1>',"</h1>\n            <h2>",'</h2>\n          </div>\n          <div class="lyrics-scroll-box" id="lyrics-scroll">\n            <div class="lyrics" @click="','">\n              ',"\n            </div>\n          </div>\n          ",'\n        </div>\n        <div class="playlist-panel ','">\n          <div class="playlist">\n            ','\n          </div>\n          <a\n            class="playlist-close"\n            @click="','"\n          ><i class="icon icon-close"></i></a>\n          ','\n        </div>\n        <div class="underlay ','">\n          <div class="background"></div>\n          <div class="filter"></div>\n        </div>\n      </div>\n      <div class="small-window '," "," "," ",'"\n           style="top: ',"px; ",'"\n      >\n        <div class="cover-box"></div>\n        <div class="control-box">\n          <a class="btn" @click="','"><i\n            class="icon icon-','"\n          ></i></a>\n          <a class="btn" @click="','"><i class="icon icon-next"></i></a>\n          <a class="btn" @click="','"><i class="icon icon-previous"></i></a>\n          <a class="btn" @click="','"\n          ><i class="icon icon-lyrics','"></i></a>\n          <div\n            class="move-handle ','"\n            @mousedown="','"\n            @touchstart="','"\n          >\n            <a class="btn"><i class="icon icon-note"></i></a>\n            <div class="move-handle-bg"></div>\n          </div>\n        </div>\n      </div>\n      <div\n        class="small-window-mobile '," ",'"\n        style="top: ','px"\n        @mousedown="','"\n        @touchstart="','"\n        @click="','"\n      >\n        <i class="icon icon-note"></i>\n      </div>\n      <div\n        class="main-window mobile '," "," ",'"\n        style="','"\n        @touchstart="','"\n      >\n        <div class="disconnected-panel ','">\n          ','\n          <a class="btn" @click="','"><i class="icon icon-back"></i></a>\n        </div>\n        <div class="cover-panel ','"\n             @click="','"\n        >\n          <div class="cover-box ','">\n            ','\n            <a class="btn" @click="','"><i class="icon icon-back"></i></a>\n          </div>\n          <div class="lyrics-title-box ','">\n            <h1>',"</h1>\n            <h2>",'</h2>\n          </div>\n          <div class="lyric">','</div>\n          <div class="lyric translation">','</div>\n        </div>\n        <div class="lyrics-panel ','"\n             @click="','"\n        >\n          <div class="back">\n            <a class="btn" @click="','"><i class="icon icon-back"></i></a>\n          </div>\n          <div class="lyrics-title-box">\n            <h1>',"</h1>\n            <h2>",'</h2>\n          </div>\n          <div class="lyrics-scroll-box" id="lyrics-scroll-mobile">\n            <div class="lyrics" @click="','">\n              ',"\n            </div>\n          </div>\n          ",'\n        </div>\n        <div class="control-box ','">\n          <div class="control-panel panel ','">\n            <a class="btn" @click="','"\n            ><i class="icon icon-lyrics','"></i></a>\n            <a class="btn" @click="','"><i class="icon icon-','"></i></a>\n            <a class="btn" @click="','"><i class="icon icon-previous"></i></a>\n            <a class="btn play" @click="','"><i\n              class="icon icon-','-circle"\n            ></i></a>\n            <a class="btn" @click="','"><i class="icon icon-next"></i></a>\n            <a class="btn" @click="','"\n            ><i class="icon icon-volume"></i></a>\n            <a class="btn" @click="','"\n            ><i class="icon icon-playlist"></i></a>\n          </div>\n          <div class="volume-playback-panel panel ','">\n            <a class="btn volume"\n               @mouseenter="','"\n               @mouseleave="','"\n            >\n              <i class="icon icon-volume"></i>\n              <kokoro-track\n                id="volume-track"\n                .played="','"\n                .buffered="','"\n                @kokoro-change="','"\n              ></kokoro-track>\n            </a>\n            <a class="volume-playback-panel-close"\n               @click="','"\n            ><i class="icon icon-close"></i></a>\n          </div>\n          <kokoro-progress\n            .played="','"\n            .buffered="','"\n            .currentTime="','"\n            .totalTime="','"\n            @kokoro-change="','"\n          ></kokoro-progress>\n        </div>\n        <div\n          class="playlist-panel-mask ','"\n          @click="','"\n        ></div>\n        <div class="playlist-panel ','">\n          <div class="playlist">\n            ','\n          </div>\n          <a\n            class="playlist-close"\n            @click="','"\n          ><i class="icon icon-close"></i></a>\n          ','\n        </div>\n        <div class="underlay ','">\n          <div class="background"></div>\n          <div class="filter"></div>\n        </div>\n      </div>\n      <kokoro-desktop-lyrics\n        class="','"\n        .lyrics="','"\n        .currentTime="','"\n        .verticalCenter="','"\n        .horizontalCenter="','"\n        .colorSchemes="','"\n        .colorSchemeIndex="','"\n        .fontSize="','"\n        .mobileFontSize="','"\n        .paused="','"\n        .langAvailable="','"\n        @kokoro-action="','"\n        @kokoro-change="','"\n      ></kokoro-desktop-lyrics>\n    ']);return Ze=function(){return n},n}function $e(){var n=no(["\n      ","\n      :host {\n        position: fixed;\n      }\n\n      .move-handle, .btn {\n        user-select: none;\n      }\n\n      .move-handle.dragging {\n        cursor: grabbing !important;\n      }\n\n      .main-window {\n        position: fixed;\n        width: 315px;\n        height: 560px;\n        border-radius: 15px;\n        box-shadow: 0 0.3px 0.96px #666;\n        background-color: #fbfbfb;\n        color: var(--kokoro-primary-color);\n        padding: 10px;\n        display: flex;\n        flex-direction: column;\n      }\n\n      .main-window.dark {\n        background-color: #000;\n      }\n\n      .main-window.disconnected {\n        opacity: 0.85;\n        backdrop-filter: blur(4px);\n      }\n\n      .main-window.dark .underlay > .background {\n        opacity: 0.94;\n        filter: blur(40px);\n      }\n\n      .underlay {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        z-index: -1;\n        border-radius: 15px;\n        overflow: hidden;\n      }\n\n      .underlay > .background {\n        position: absolute;\n        top: -50px;\n        left: -50px;\n        right: -50px;\n        bottom: -50px;\n        opacity: 0.06;\n      }\n\n      .dark .underlay > .filter {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background-color: rgba(0, 0, 0, 0.6);\n      }\n\n      .main-window .move-handle {\n        height: 8px;\n        width: 50px;\n        margin: 4px auto;\n        border-radius: 6px;\n        background-color: var(--kokoro-white);\n        opacity: 0.94;\n        cursor: grab;\n      }\n\n      .main-window .move-handle .handle-bar {\n        overflow: hidden;\n        margin-top: -4px;\n        z-index: 2;\n        position: relative;\n      }\n\n      .main-window > .control-box {\n        height: 84px;\n        min-height: 84px;\n        font-size: 24px;\n        position: relative;\n        user-select: none;\n      }\n\n      .main-window > .control-box > .panel {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        transition: top 200ms ease-in, bottom 200ms ease-in;\n        overflow: hidden;\n        display: flex;\n        justify-content: space-evenly;\n        align-items: center;\n      }\n\n      .main-window > .control-box .control-panel.hide {\n        bottom: 100%;\n      }\n\n      .main-window > .control-box .volume-playback-panel.hide {\n        top: 100%\n      }\n\n      .main-window > .control-box .volume-playback-panel > .volume-playback-panel-close {\n        position: absolute;\n        top: 4px;\n        left: 4px;\n        font-size: 20px;\n        cursor: pointer;\n      }\n\n      .main-window > .control-box .volume-playback-panel .btn {\n        width: 40%;\n        display: flex;\n        align-items: center;\n        justify-content: space-around;\n        cursor: initial;\n      }\n\n      .main-window > .control-box .volume-playback-panel .btn > kokoro-track {\n        margin: 0 10px;\n        flex: 1 1 auto;\n      }\n\n      .main-window > .control-box .btn {\n        display: inline-block;\n        line-height: 1;\n        cursor: pointer;\n      }\n\n      .main-window > .control-box .btn > .icon {\n        vertical-align: top;\n      }\n\n      .main-window > .control-box .btn.play {\n        font-size: 48px;\n      }\n\n      .main-window > .control-box kokoro-progress {\n        position: absolute;\n        bottom: 0;\n        left: -10px;\n        right: -10px;\n        transform: translateY(50%);\n        z-index: 1;\n      }\n\n      .main-window > .cover-panel,\n      .main-window > .lyrics-panel\n      {\n        flex: 1 1 auto;\n        position: relative;\n        opacity: 1;\n        transition: opacity 250ms;\n      }\n\n      .main-window > .cover-panel.hide,\n      .main-window > .lyrics-panel.hide {\n        opacity: 0;\n        display: block;\n        height: 0;\n        flex: 0 0;\n        overflow: hidden;\n      }\n\n      .main-window .cover-box {\n        box-sizing: border-box;\n        height: 315px;\n        padding: 20px;\n        margin: 8px 0;\n        user-select: none;\n      }\n\n      .main-window .cover-box > img {\n        width: 100%;\n      }\n      \n      .main-window > .cover-panel > .lyrics-title-box {\n        margin-top: -10px;\n      }\n\n      .main-window .lyrics-title-box {\n        padding: 10px;\n      }\n\n      .main-window .lyrics-title-box h1 {\n        font-size: 1.5rem;\n        line-height: 1.45;\n        margin: 0;\n        font-weight: normal;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        white-space: nowrap;\n      }\n\n      .main-window .lyrics-title-box h2 {\n        font-size: 1.125rem;\n        line-height: 1.4;\n        margin: 0;\n        font-weight: normal;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        white-space: nowrap;\n      }\n\n      .main-window > .cover-panel .lyric {\n        padding: 0 10px;\n        font-size: 0.875rem;\n        line-height: 1.4;\n      }\n\n      .main-window > .cover-panel .lyric.translation {\n        font-size: 0.75rem;\n      }\n\n      .main-window > .lyrics-panel {\n        display: flex;\n        flex-direction: column;\n        overflow: hidden;\n      }\n\n      .main-window > .lyrics-panel > .lyrics-title-box {\n        margin-top: 10px;\n        margin-bottom: -10px;\n      }\n\n      .main-window .lyrics-scroll-box {\n        flex: 1 1 auto;\n        margin: 10px;\n        padding: 10px 0;\n        overflow-y: scroll;\n        line-height: 1.18;\n      }\n\n      .main-window .lyrics-scroll-box > .lyrics {\n        position: relative;\n      }\n\n      .main-window .lyrics-scroll-box .lyric {\n        margin: 1rem 0;\n        font-size: 0.875rem;\n        transition: font-size 250ms;\n        transition-delay: 250ms;\n      }\n\n      .main-window .lyrics-scroll-box .lyric:first-child {\n        margin-top: 0;\n      }\n\n      .main-window .lyrics-scroll-box .lyric:last-child {\n        margin-bottom: 0;\n      }\n      \n      .main-window .lyrics-scroll-box .lyric.current {\n        font-size: 1.125rem;\n        color: var(--kokoro-primary-highlight);\n      }\n\n      .main-window .lyrics-scroll-box .lyric.current .translation {\n        font-size: 0.875rem;\n      }\n      \n      .main-window .lyrics-scroll-box .lyric .translation {\n        margin-top: 2px;\n        font-size: 0.75rem;\n      }\n      \n      .main-window .lyrics-control-box {\n        box-sizing: border-box;\n        height: 40px;\n        min-height: 40px;\n        text-align: right;\n        padding: 10px;\n        font-size: 16px;\n      }\n\n      .main-window .lyrics-control-box .btn {\n        cursor: pointer;\n      }\n\n      .playlist-panel.hide {\n        left: 100%;\n      }\n\n      .main-window > .playlist-panel.hide {\n        display: block;\n      }\n\n      .playlist-panel {\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        background-color: rgba(251, 251, 251, 0.94);\n        backdrop-filter: blur(1px);\n        border-radius: 15px;\n        overflow: hidden;\n        transition: left 200ms, top 200ms;\n        z-index: 1;\n      }\n\n      .playlist {\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        width: calc(100% - 36px);\n        padding: 26px 37px 26px 10px;\n        box-sizing: border-box;\n        overflow-x: hidden;\n        overflow-y: auto;\n      }\n\n      .dark .playlist-panel {\n        background-color: rgba(0, 0, 0, 0.9);\n      }\n\n      .playlist > .playlist-item-box > .playlist-item {\n        box-sizing: border-box;\n        height: 2.875rem;\n        padding: 0.25rem 10px;\n        display: inline-block;\n        white-space: nowrap;\n        max-width: 100%;\n        vertical-align: top;\n        position: relative;\n      }\n\n      .playlist > .playlist-item-box {\n        transition: transform 250ms ease-in-out;\n        transform-origin: left center;\n        line-height: 1;\n        margin: 0.375rem 0;\n        cursor: pointer;\n      }\n\n      .playlist > .playlist-item-box:hover {\n        transform: scale(1.1);\n      }\n\n      .playlist > .playlist-item-box:hover > .playlist-item {\n        border-left: 3px var(--kokoro-primary-color) solid;\n      }\n\n      .playlist .playlist-item.current {\n        background: rgba(0, 0, 0, 0.1);\n        border-left: 3px var(--kokoro-primary-color) solid;\n      }\n\n      .dark .playlist .playlist-item.current {\n        background: rgba(251, 251, 251, 0.2);\n      }\n\n      .playlist > .playlist-item-box > .playlist-item.current::after {\n        content: '';\n        position: absolute;\n        top: 0;\n        right: -10px;\n        border-top: 23px transparent solid;\n        border-left: 5px rgba(0, 0, 0, 0.1) solid;\n        border-right: 5px transparent solid;\n        border-bottom: 23px rgba(0, 0, 0, 0.1) solid;\n      }\n\n      .dark .playlist > .playlist-item-box > .playlist-item.current::after {\n        border-left: 5px rgba(251, 251, 251, 0.2) solid;\n        border-bottom: 23px rgba(251, 251, 251, 0.2) solid;\n      }\n\n      .playlist .playlist-item > .title {\n        font-size: 0.875rem;\n        line-height: 1.375rem;\n        margin-right: 24px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n\n      .playlist .playlist-item > .artist {\n        font-size: 0.75rem;\n        line-height: 1rem;\n        margin-right: 24px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n\n      .playlist > .playlist-item-box:hover > .playlist-item > .remove {\n        visibility: visible;\n        transform: rotate(0);\n      }\n\n      .playlist .playlist-item > .remove {\n        float: right;\n        display: block;\n        line-height: 2.375rem;\n        height: 2.375rem;\n        font-size: 1rem;\n        visibility: hidden;\n        transform: rotate(-180deg);\n        transition: transform 250ms;\n      }\n\n      .playlist .playlist-item > .remove > .icon {\n        vertical-align: top;\n      }\n\n      .playlist-panel > .playlist-close {\n        position: absolute;\n        top: 30px;\n        left: 12px;\n        font-size: 20px;\n        cursor: pointer;\n      }\n\n      .playlist-panel > .playlist-clear {\n        position: absolute;\n        top: 65px;\n        left: 12px;\n        font-size: 20px;\n        cursor: pointer;\n      }\n\n      .disconnected-panel {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        z-index: -1;\n      }\n\n      .main-window > div.hide {\n        display: none;\n      }\n\n      .small-window {\n        position: fixed;\n        width: 120px;\n        height: 120px;\n        border-radius: 50%;\n        overflow: hidden;\n        background-color: #fbfbfb;\n        border: 1px #bbb solid;\n        box-shadow: 0 0.3px 0.96px #666;\n        color: var(--kokoro-primary-color);\n        transform: scale(0.5);\n        transition: transform 250ms;\n      }\n\n      .small-window.dark {\n        border: none;\n        background-color: #000;\n        box-shadow: 0 0 3px #eee;\n      }\n\n      .small-window:hover, .small-window.dragging, .small-window.dragging.disconnected:hover {\n        transform: scale(1);\n      }\n\n      .small-window.disconnected:hover {\n        transform: scale(0.5);\n      }\n\n      .small-window.disconnected {\n        opacity: 0.85;\n        backdrop-filter: blur(4px);\n      }\n\n      .small-window > .cover-box {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        opacity: 0.1;\n      }\n\n      .small-window.disconnected > .cover-box {\n        display: none;\n      }\n\n      .small-window.dark > .cover-box {\n        opacity: 0.4;\n        filter: blur(40px);\n      }\n\n      .small-window > .control-box {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        margin: -1px;\n        display: grid;\n        grid-template-columns: repeat(2, 50%);\n        grid-template-rows: repeat(2, 50%);\n        transform: rotate(45deg);\n      }\n\n      .small-window > .control-box .btn {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        font-size: 20px;\n        cursor: pointer;\n      }\n\n      .small-window > .control-box .btn .icon {\n        transform: rotate(-45deg);\n      }\n\n      .small-window > .control-box > .btn {\n        border-right: 1px #bbb solid;\n        border-bottom: 1px #bbb solid;\n      }\n\n      .small-window.dark > .control-box > .btn {\n        border: none;\n        box-shadow: 0 0 2px;\n      }\n\n      .small-window > .control-box > .move-handle {\n        position: absolute;\n        left: 50%;\n        top: 50%;\n        transform: translate(-50%, -50%) rotate(-45deg) scale(2.3);\n        width: 54px;\n        height: 54px;\n        border-radius: 50%;\n        border: 1px #bbb solid;\n        margin: 0;\n        background: radial-gradient(#fff, rgba(255, 255, 255, 0.99) 70%, rgba(255, 255, 255, 0.8));\n        overflow: hidden;\n        transition: transform 250ms;\n        cursor: grab;\n      }\n\n      .small-window > .control-box > .move-handle .btn .icon {\n        transform: none;\n      }\n\n      .small-window.dark > .control-box > .move-handle {\n        border: none;\n        box-shadow: 0 0 4px;\n      }\n\n      .small-window.dark > .control-box > .move-handle {\n        background: #000;\n      }\n\n      .small-window:hover > .control-box > .move-handle {\n        transform: translate(-50%, -50%) rotate(-45deg) scale(1);\n      }\n\n      .small-window.disconnected:hover > .control-box > .move-handle {\n        transform: translate(-50%, -50%) rotate(-45deg) scale(2.3);\n      }\n\n      .small-window.spin-rev > .control-box > .move-handle > .btn {\n        animation: spin-rev 45s linear infinite;\n      }\n\n      .small-window > .control-box > .move-handle > .btn {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        font-size: 28px;\n        cursor: inherit;\n      }\n\n      .small-window > .control-box > .move-handle > .move-handle-bg {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        opacity: 0.06;\n        z-index: -1;\n      }\n\n      .small-window.dark > .control-box > .move-handle > .move-handle-bg {\n        opacity: 0.94;\n        filter: blur(36px);\n      }\n\n      .small-window.spin-rev > .control-box > .move-handle > .move-handle-bg {\n        animation: spin-rev 45s linear infinite;\n      }\n\n      .small-window.disconnected > .control-box > .move-handle > .move-handle-bg {\n        display: none;\n      }\n\n      .small-window-mobile {\n        position: fixed;\n        width: 30px;\n        height: 20px;\n        background: var(--kokoro-black);\n        backdrop-filter: blur(4px);\n        color: var(--kokoro-white);\n        font-size: 12px;\n        display: none;\n        cursor: pointer;\n      }\n\n      .small-window-mobile.left {\n        left: 0;\n        border-radius: 0 10px 10px 0;\n      }\n\n      .small-window-mobile.right {\n        right: 0;\n        border-radius: 10px 0 0 10px;\n      }\n\n      .small-window-mobile.dark {\n        background: var(--kokoro-white);\n        color: var(--kokoro-black);\n      }\n\n      .small-window-mobile > .icon {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        width: 20px;\n        border-radius: 10px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        transform: scale(0.9);\n      }\n\n      .small-window-mobile.left > .icon {\n        right: 0;\n      }\n\n      .small-window-mobile.right > .icon {\n        left: 0;\n      }\n\n      .main-window.mobile {\n        display: none;\n        flex-direction: column;\n        justify-content: space-between;\n        position: fixed;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        width: auto;\n        height: auto;\n        visibility: visible;\n        border-radius: 0;\n        transition: left 250ms, right 250ms;\n        z-index: 9999;\n      }\n\n      .main-window.mobile.hide {\n        left: calc(100% + 5px);\n        right: calc(-100% - 5px);\n      }\n\n      .main-window.mobile .cover-box .btn {\n        font-size: 24px;\n        position: relative;\n        left: -15px;\n        top: -4px;\n        cursor: pointer;\n      }\n\n      .mobile .disconnected-panel .btn {\n        font-size: 24px;\n        position: absolute;\n        top: 34px;\n        left: 20px;\n        cursor: pointer;\n      }\n\n      .main-window.mobile .cover-box img {\n        border-radius: 50%;\n        position: absolute;\n        width: 100%;\n        animation: spin 45s linear infinite;\n      }\n\n      .main-window.mobile .underlay {\n        border-radius: 0;\n      }\n\n      .main-window.mobile .cover-box {\n        width: auto;\n        height: 0;\n        padding: 28px 0 calc(100% - 28px) 0;\n        margin-left: 28px;\n        margin-right: 28px;\n        line-height: 0;\n        position: relative;\n      }\n\n      .main-window.mobile .lyrics-title-box {\n        flex: 1 1 auto;\n        max-height: 200px;\n        box-sizing: border-box;\n      }\n\n      .main-window.mobile > .lyrics-panel > .back {\n        font-size: 24px;\n        padding: 10px;\n      }\n\n      .main-window.mobile > .lyrics-panel > .lyrics-title-box {\n        margin-top: 0;\n      }\n\n      .main-window.mobile > .control-box {\n        margin: 10px 0;\n      }\n\n      .main-window.mobile > .control-box kokoro-progress {\n        position: absolute;\n        top: 0;\n        left: -10px;\n        right: -10px;\n        transform: translateY(-50%);\n      }\n\n      .main-window.mobile > .control-box .volume-playback-panel > .volume-playback-panel-close {\n        top: 50%;\n        transform: translateY(-50%);\n      }\n\n      .mobile .playlist-panel.hide {\n        top: 100%;\n        left: 0;\n      }\n\n      .mobile .playlist-panel {\n        top: 20%;\n        border-radius: 15px 15px 0 0;\n      }\n\n      .mobile .playlist > .playlist-item-box:hover {\n        transform: scale(1);\n      }\n\n      .mobile .playlist {\n        width: calc(100% - 52px);\n        margin: 60px 26px 26px 26px;\n        padding: 0;\n      }\n\n      .mobile .playlist-panel > .playlist-close {\n        top: 20px;\n        left: 26px;\n      }\n\n      .mobile .playlist-panel > .playlist-clear {\n        top: 20px;\n        left: auto;\n        right: 26px;\n      }\n\n      .mobile .playlist-panel-mask {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        cursor: pointer;\n      }\n\n      .mobile .playlist-panel-mask.hide {\n        display: none;\n      }\n\n      .mobile .playlist > .playlist-item-box > .playlist-item {\n        display: block;\n      }\n\n      .mobile .playlist > .playlist-item-box > .playlist-item > .remove {\n        visibility: visible;\n        transform: none !important;\n      }\n\n      @keyframes spin {\n        100% {\n          transform: rotate(360deg);\n        }\n      }\n\n      @keyframes spin-rev {\n        100% {\n          transform: rotate(-360deg);\n        }\n      }\n\n      @media screen and (max-width: 500px) {\n        .small-window, .main-window {\n          display: none;\n        }\n\n        .small-window-mobile {\n          display: block;\n        }\n\n        .main-window.mobile {\n          display: flex;\n        }\n      }\n\n      kokoro-desktop-lyrics.hide {\n        display: none;\n      }\n    "]);return $e=function(){return n},n}function no(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}function to(n,t,e){return(to="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(n,t,e){var o=function(n,t){for(;!Object.prototype.hasOwnProperty.call(n,t)&&null!==(n=lo(n)););return n}(n,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(e):i.value}})(n,t,e||n)}function eo(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function oo(n,t,e){return t&&eo(n.prototype,t),e&&eo(n,e),n}function io(n,t){return(io=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function ro(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,o=lo(n);if(t){var i=lo(this).constructor;e=Reflect.construct(o,arguments,i)}else e=o.apply(this,arguments);return so(this,e)}}function so(n,t){return!t||"object"!==ze(t)&&"function"!=typeof t?ao(n):t}function ao(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function lo(n){return(lo=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}window.customElements.define("kokoro-desktop-lyrics",De);var co=function(n){!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&io(n,t)}(e,n);var t=ro(e);function e(){var n,o;return function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(o=t.call(this)).drag=o.drag.bind(ao(o)),o.stopDragging=o.stopDragging.bind(ao(o)),o.onLyricsUserScroll=o.onLyricsUserScroll.bind(ao(o)),o.dragToGoBack=o.dragToGoBack.bind(ao(o)),o.stopDragToGoBack=o.stopDragToGoBack.bind(ao(o)),o.lastLyricsUserScrollTime=Date.now(),o.left=0,o.top=100,o.shouldShowSmallWindow=!0,o.shouldMobileShowMainWindow=!1,o.mobileDefaultSide="left",o.right=(document.documentElement||document.body).clientWidth-122,o.bottom=(document.documentElement||document.body).clientHeight-100-122,o.isDesktopLyricsShowing=!1,o.desktopLyricsVerticalCenter=150,o.desktopLyricsColorSchemes=[{name:"",value:"linear-gradient(-1deg, #e92201, #fb9c17, #e92201)"},{name:"",value:"linear-gradient(-1deg, #0145d3, #118cfa, #0145d3)"},{name:"",value:"linear-gradient(-1deg, #a5c9e5, #9da9eb, #c6bde2)"},{name:"",value:"linear-gradient(-1deg, #1dbf76, #67d74d, #1dbf76)"}],o.desktopLyricsColorSchemeIndex=0,o.desktopLyricsFontSize=30,o.desktopLyricsMobileFontSize=14,o.lang=null!==(n=navigator.languages)&&void 0!==n&&n.length?navigator.languages[0]:navigator.language,o}return oo(e,[{key:"paused",get:function(){return!this.currentSong||this.playing.paused}},{key:"isConnected",get:function(){return!!this.context.kokoro}},{key:"isMobile",get:function(){return(document.documentElement||document.body).clientWidth<=500}}],[{key:"properties",get:function(){return{currentSong:{type:Object},playing:{type:Object},lyrics:{type:Object},parsedLyrics:{type:Object},lang:{type:String},langAvailable:{type:Array},pnKind:{type:String},pnKindAvailable:{type:Array},index:{type:Number},player:{type:Object},playlist:{type:Array},darkMode:{type:Boolean},playOrder:{type:String},played:{type:Number},buffered:{type:Array},isVolumeControlShowing:{type:Boolean},isPlaylistShowing:{type:Boolean},isLyricsShowing:{type:Boolean},lastLyricsUserScrollTime:{type:Number},isLyricsScrollAnimating:{type:Boolean},isDesktopLyricsShowing:{type:Boolean},dragging:{type:Boolean},top:{type:Number},left:{type:Number},right:{type:Number},bottom:{type:Number},mobileDefaultSide:{type:String},mobileLeft:{type:Number},desktopLyricsVerticalCenter:{type:Number},desktopLyricsHorizontalCenter:{type:Number},desktopLyricsColorSchemes:{type:Array},desktopLyricsColorSchemeIndex:{type:Number},desktopLyricsFontSize:{type:Number},desktopLyricsMobileFontSize:{type:Number},shouldShowSmallWindow:{type:Boolean},shouldMobileShowMainWindow:{type:Boolean},shrinkToLeft:{type:Boolean}}}},{key:"styles",get:function(){return gt($e(),kt)}}]),oo(e,[{key:"firstUpdated",value:function(n){this.isMobile?("right"===this.mobileDefaultSide?(this.right=0,this.left=(document.documentElement||document.body).clientWidth-122):(this.left=0,this.right=(document.documentElement||document.body).clientWidth-122),this.shouldShowSmallWindow=!0):this.left+this.right!==(document.documentElement||document.body).clientWidth-122&&(0===this.right?this.left=(document.documentElement||document.body).clientWidth-122:this.shouldShowSmallWindow=!1),this.shouldShowSmallWindow&&this.top+this.bottom!==(document.documentElement||document.body).clientHeight-122&&(100!==this.top?this.bottom=(document.documentElement||document.body).clientHeight-this.top-122:this.top=(document.documentElement||document.body).clientHeight-this.bottom-122),this.cursorX=this.left,this.shrinkToLeft=this.cursorX<(document.documentElement||document.body).clientWidth/2,this.desktopLyricsHorizontalCenter=(document.documentElement||document.body).clientWidth/2,this.shadowRoot.querySelector("#lyrics-scroll").addEventListener("wheel",this.onLyricsUserScroll),this.shadowRoot.querySelector("#lyrics-scroll-mobile").addEventListener("wheel",this.onLyricsUserScroll),this.shadowRoot.querySelector("#lyrics-scroll").addEventListener("touchmove",this.onLyricsUserScroll),this.shadowRoot.querySelector("#lyrics-scroll-mobile").addEventListener("touchmove",this.onLyricsUserScroll)}},{key:"onLyricsUserScroll",value:function(){this.lastLyricsUserScrollTime=Date.now()}},{key:"updated",value:function(n){(n.has("playing")||n.has("lyrics")||n.has("lang"))&&(this.parsedLyrics=pe(this.lyrics,this.playing.currentTime,this.playing.totalTime,this.lang),this.scrollLyricsToCurrent())}},{key:"disconnectedCallback",value:function(){to(lo(e.prototype),"disconnectedCallback",this).call(this),this.shadowRoot.querySelector("#lyrics-scroll").removeEventListener("DOMMouseScroll",this.onLyricsUserScroll),this.shadowRoot.querySelector("#lyrics-scroll-mobile").removeEventListener("DOMMouseScroll",this.onLyricsUserScroll),this.shadowRoot.querySelector("#lyrics-scroll").removeEventListener("touchmove",this.onLyricsUserScroll),this.shadowRoot.querySelector("#lyrics-scroll-mobile").removeEventListener("touchmove",this.onLyricsUserScroll)}},{key:"requestUpdate",value:function(){for(var n,t,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];(n=to(lo(e.prototype),"requestUpdate",this)).call.apply(n,[this].concat(i)),0===i.length&&(null===(t=this.shadowRoot.querySelector("kokoro-desktop-lyrics"))||void 0===t||t.requestUpdate())}},{key:"isCurrentSong",value:function(n){var t;return Jt.same(null===(t=this.currentSong)||void 0===t?void 0:t.src,n.src)}},{key:"render",value:function(){var n,t,e,o,i,r,s,a,l,c,u,d,p,f,h,y,m,g,v,b,w,k,x,S,O,P,E,L,_,A,T=this;return tt(Ze(),null===(n=this.currentSong)||void 0===n?void 0:n.cover,this.darkMode?"#cecece":"rgba(0, 0, 0, 0.8)",this.darkMode?"#fff":"#000",this.darkMode?"#8e8e8e":"rgba(0, 0, 0, 0.4)",this.shouldShowSmallWindow?"hidden":"visible",this.shouldShowSmallWindow?"visible":"hidden",this.shrinkToLeft?"left":"right",this.darkMode?"dark":"",this.isConnected?"":"disconnected",this.top,this.left,this.dragging?"dragging":"",this.startDragging,this.startDragging,this.isConnected?"hide":"",ge.disconnected,this.isConnected?"":"hide",this.isVolumeControlShowing?"hide":"",this.toggleDesktopLyrics,this.isDesktopLyricsShowing?"-on":"",this.nextPlayOrder,this.playOrder===q?"solo":this.playOrder===X?"shuffle":"loop",this.prev,this.togglePlay,this.paused?"play":"pause",this.next,(function(){T.isVolumeControlShowing=!T.isVolumeControlShowing}),this.togglePlaylist,this.isVolumeControlShowing?"":"hide",this.showVolumeTrack,this.closeVolumeTrack,null===(t=this.player)||void 0===t?void 0:t.volume,[0,1],(function(n){return T.setVolume(n.detail.progress)}),(function(){T.isVolumeControlShowing=!T.isVolumeControlShowing}),this.played,this.buffered,this.playing.currentTime,this.playing.totalTime,(function(n){n.detail.commit&&T.setCurrentProgress(n.detail.progress)}),this.isLyricsShowing||!this.isConnected?"hide":"",(function(){T.isLyricsShowing=!T.isLyricsShowing}),this.currentSong?tt(Qe(),this.currentSong.cover):"",null===(e=this.currentSong)||void 0===e?void 0:e.title,null===(o=this.currentSong)||void 0===o?void 0:o.artist,null===(i=this.parsedLyrics)||void 0===i?void 0:i.currentSentence,null===(r=this.parsedLyrics)||void 0===r?void 0:r.currentSentenceTranslation,this.isLyricsShowing&&this.isConnected?"":"hide",(function(){T.isLyricsShowing=!T.isLyricsShowing}),null===(s=this.currentSong)||void 0===s?void 0:s.title,null===(a=this.currentSong)||void 0===a?void 0:a.artist,(function(n){n.stopPropagation()}),(null===(l=this.parsedLyrics)||void 0===l?void 0:l.lyrics.map((function(n){var t;return tt(Je(),n.timestamp===(null===(t=T.parsedLyrics)||void 0===t?void 0:t.currentSentenceStart)?"current":"",n.content,n.translation?tt(Ke(),n.translation):"")})))||ge.noLyrics,null!==(c=this.langAvailable)&&void 0!==c&&c.length?tt(Xe(),(function(n){n.stopPropagation(),T.nextLang()}),(null===(u=this.parsedLyrics)||void 0===u?void 0:u.langName)||(null===(d=this.parsedLyrics)||void 0===d?void 0:d.lang)||tt(qe())):"",this.isConnected&&this.isPlaylistShowing?"":"hide",null===(p=this.playlist)||void 0===p?void 0:p.map((function(n,t){return tt(Ge(),(function(){T.setCurrentSong(n,t)}),T.isCurrentSong(n)?"current":"",(function(){T.removeSong(t)}),n.title,n.artist,n.album)})),this.togglePlaylist,null!==(f=this.playlist)&&void 0!==f&&f.length?tt(Ye(),(function(){T.clearPlaylist()})):"",this.isConnected?"":"hide",this.isConnected&&!this.paused?"spin-rev":"",this.darkMode?"dark":"",this.isConnected?"":"disconnected",this.dragging?"dragging":"",this.top,this.shrinkToLeft?"left: ".concat(this.left,"px;"):"right: ".concat(this.right,"px"),this.togglePlay,this.paused?"play":"pause",this.next,this.prev,this.toggleDesktopLyrics,this.isDesktopLyricsShowing?"-on":"",this.dragging?"dragging":"",this.startDragging,this.startDragging,this.shrinkToLeft?"left":"right",this.darkMode?"dark":"",this.top,this.startDragging,this.startDragging,this.toggleMainWindow,this.darkMode?"dark":"",this.isConnected?"":"disconnected",this.shouldMobileShowMainWindow?"":"hide",this.shouldMobileShowMainWindow?"".concat(this.mobileLeft?"transition: none;":""," left: ").concat(this.mobileLeft<50?0:this.mobileLeft,"px; right: calc(-").concat(this.mobileLeft<50?0:this.mobileLeft,"px)"):"",this.startDragToGoBack,this.isConnected?"hide":"",ge.disconnected,this.toggleMainWindow,this.isLyricsShowing||!this.isConnected?"hide":"",(function(){T.isLyricsShowing=!T.isLyricsShowing}),this.isConnected?"":"hide",this.currentSong?tt(He(),this.currentSong.cover):"",this.toggleMainWindow,this.isConnected?"":"hide",null===(h=this.currentSong)||void 0===h?void 0:h.title,null===(y=this.currentSong)||void 0===y?void 0:y.artist,null===(m=this.parsedLyrics)||void 0===m?void 0:m.currentSentence,null===(g=this.parsedLyrics)||void 0===g?void 0:g.currentSentenceTranslation,this.isLyricsShowing&&this.isConnected?"":"hide",(function(){T.isLyricsShowing=!T.isLyricsShowing}),this.toggleMainWindow,null===(v=this.currentSong)||void 0===v?void 0:v.title,null===(b=this.currentSong)||void 0===b?void 0:b.artist,(function(n){n.stopPropagation()}),(null===(w=this.parsedLyrics)||void 0===w?void 0:w.lyrics.map((function(n){var t;return tt(Be(),n.timestamp===(null===(t=T.parsedLyrics)||void 0===t?void 0:t.currentSentenceStart)?"current":"",n.content,n.translation?tt(Fe(),n.translation):"")})))||"",null!==(k=this.langAvailable)&&void 0!==k&&k.length?tt(We(),(function(n){n.stopPropagation(),T.nextLang()}),(null===(x=this.parsedLyrics)||void 0===x?void 0:x.langName)||(null===(S=this.parsedLyrics)||void 0===S?void 0:S.lang)||tt(Ue())):"",this.isConnected?"":"hide",this.isVolumeControlShowing?"hide":"",this.toggleDesktopLyrics,this.isDesktopLyricsShowing?"-on":"",this.nextPlayOrder,this.playOrder===q?"solo":this.playOrder===X?"shuffle":"loop",this.prev,this.togglePlay,this.paused?"play":"pause",this.next,(function(){T.isVolumeControlShowing=!T.isVolumeControlShowing}),this.togglePlaylist,this.isVolumeControlShowing?"":"hide",this.showVolumeTrack,this.closeVolumeTrack,null===(O=this.player)||void 0===O?void 0:O.volume,[0,1],(function(n){return T.setVolume(n.detail.progress)}),(function(){T.isVolumeControlShowing=!T.isVolumeControlShowing}),this.played,this.buffered,null===(P=this.playing)||void 0===P?void 0:P.currentTime,null===(E=this.playing)||void 0===E?void 0:E.totalTime,(function(n){n.detail.commit&&T.setCurrentProgress(n.detail.progress)}),this.isConnected&&this.isPlaylistShowing?"":"hide",this.togglePlaylist,this.isConnected&&this.isPlaylistShowing?"":"hide",null===(L=this.playlist)||void 0===L?void 0:L.map((function(n,t){return tt(Me(),(function(){T.setCurrentSong(n,t)}),T.isCurrentSong(n)?"current":"",(function(){T.removeSong(t)}),n.title,n.artist,n.album)})),this.togglePlaylist,null!==(_=this.playlist)&&void 0!==_&&_.length?tt(Ve(),(function(){T.clearPlaylist()})):"",this.isConnected?"":"hide",this.isDesktopLyricsShowing&&this.isConnected&&this.currentSong?"":"hide",this.parsedLyrics,(null===(A=this.playing)||void 0===A?void 0:A.currentTime)||0,this.desktopLyricsVerticalCenter,this.desktopLyricsHorizontalCenter,this.desktopLyricsColorSchemes,this.desktopLyricsColorSchemeIndex,this.desktopLyricsFontSize,this.desktopLyricsMobileFontSize,this.paused,this.langAvailable,(function(n){return T[n.detail.action]()}),(function(n){T.lang=n.detail.lang}))}},{key:"toggleDesktopLyrics",value:function(){this.isDesktopLyricsShowing=!this.isDesktopLyricsShowing}},{key:"toggleMainWindow",value:function(n){n instanceof window.Event&&n.stopPropagation(),this.shouldMobileShowMainWindow=!this.shouldMobileShowMainWindow,this.shouldMobileShowMainWindow?document.body.style.overflow="hidden":document.body.style.overflow="",this.mobileLeft=0}},{key:"startDragging",value:function(n){this.dragging=!0,n.stopPropagation();var t=void 0!==window.TouchEvent&&n instanceof window.TouchEvent?n.changedTouches[0]:n;this.cursorX=t.clientX,this.shrinkToLeft=this.cursorX<(document.documentElement||document.body).clientWidth/2,this.cursorY=t.clientY,this.drag(n),"mousedown"===n.type&&(document.addEventListener("mousemove",this.drag),document.addEventListener("mouseup",this.stopDragging)),"touchstart"===n.type&&(document.addEventListener("touchmove",this.drag,{passive:!1}),document.addEventListener("touchend",this.stopDragging),document.addEventListener("touchcancel",this.stopDragging))}},{key:"drag",value:function(n){"touchmove"===n.type&&n.preventDefault(),n=void 0!==window.TouchEvent&&n instanceof window.TouchEvent?n.changedTouches[0]:n,this.left+=n.clientX-this.cursorX,this.right-=n.clientX-this.cursorX,this.top+=n.clientY-this.cursorY,this.cursorX=n.clientX,this.shrinkToLeft=this.cursorX<(document.documentElement||document.body).clientWidth/2,this.cursorY=n.clientY,this.isMobile?this.shouldShowSmallWindow=!0:this.shouldShowSmallWindow?this.left<=65||this.left>=(document.documentElement||document.body).clientWidth-187||(this.left=this.cursorX-167.5,this.top=this.cursorY-16,this.shouldShowSmallWindow=!1):(this.left<=-62.5||this.left>=(document.documentElement||document.body).clientWidth-272.5)&&(this.left=this.cursorX-61,this.top=this.cursorY-61,this.right=(document.documentElement||document.body).clientWidth-this.cursorX-61,this.shouldShowSmallWindow=!0)}},{key:"stopDragging",value:function(){this.dragging=!1,this.top<0&&(this.top=0);var n=this.isMobile?(document.documentElement||document.body).clientHeight-20:this.shouldShowSmallWindow?(document.documentElement||document.body).clientHeight-122:(document.documentElement||document.body).clientHeight-36;this.top>n&&(this.top=n),this.shouldShowSmallWindow&&this.shrinkToLeft&&(this.left=0,this.right=(document.documentElement||document.body).clientWidth-122),this.shouldShowSmallWindow&&!this.shrinkToLeft&&(this.right=0,this.left=(document.documentElement||document.body).clientWidth-122),document.removeEventListener("mousemove",this.drag),document.removeEventListener("mouseup",this.stopDragging),document.removeEventListener("touchmove",this.drag),document.removeEventListener("touchend",this.stopDragging),document.removeEventListener("touchcancel",this.stopDragging)}},{key:"togglePlaylist",value:function(){this.isPlaylistShowing=!this.isPlaylistShowing;var n=this.isMobile?".mobile .playlist":".playlist";this.isPlaylistShowing&&"number"==typeof this.index&&(0===this.index?this.shadowRoot.querySelector(n).scrollTop=0:this.shadowRoot.querySelector("".concat(n," > .playlist-item-box:nth-child(").concat(this.index,")")).scrollIntoView(!0))}},{key:"scrollLyricsToCurrent",value:function(){var n=this;if(!(Date.now()-this.lastLyricsUserScrollTime<3e3||this.isLyricsScrollAnimating)){this.isLyricsScrollAnimating=!0;var t=this.isMobile?this.shadowRoot.querySelector("#lyrics-scroll-mobile"):this.shadowRoot.querySelector("#lyrics-scroll");if(t){var e=t.querySelector(".lyric.current");e&&window.requestAnimationFrame((function o(){var i=t.scrollTop,r=t.scrollHeight-t.clientHeight,s=Math.max(0,Math.min(r,e.offsetTop+e.offsetHeight/2-.4*t.clientHeight))-i;s>1||s<-1?(i+=s>0?Math.ceil(s/15):Math.floor(s/15),t.scrollTop=i,window.requestAnimationFrame(o)):n.isLyricsScrollAnimating=!1}))}}}},{key:"startDragToGoBack",value:function(n){if(window.TouchEvent&&n instanceof window.TouchEvent){n.stopPropagation();var t=n.changedTouches[0];this.cursorX=t.clientX,this.mobileLeft=0,document.addEventListener("touchmove",this.dragToGoBack),document.addEventListener("touchend",this.stopDragToGoBack),document.addEventListener("touchcancel",this.stopDragToGoBack)}}},{key:"dragToGoBack",value:function(n){window.TouchEvent&&n instanceof window.TouchEvent&&(n=n.changedTouches[0],this.mobileLeft+=n.clientX-this.cursorX,this.mobileLeft<0&&(this.mobileLeft=0),this.cursorX=n.clientX)}},{key:"stopDragToGoBack",value:function(){this.mobileLeft<(document.documentElement||document.body).clientWidth/2?this.mobileLeft=0:this.toggleMainWindow(),document.removeEventListener("touchmove",this.dragToGoBack),document.removeEventListener("touchend",this.stopDragToGoBack),document.removeEventListener("touchcancel",this.stopDragToGoBack)}},{key:"nextLang",value:function(){var n,t=this,e=this.langAvailable.findIndex((function(n){var e;return n.lang===(null===(e=t.parsedLyrics)||void 0===e?void 0:e.lang)}));++e===this.langAvailable.length&&(e=-1),this.lang=(null===(n=this.langAvailable[e])||void 0===n?void 0:n.lang)||null}},{key:"setCurrentSong",value:function(n,t){var e;this.isCurrentSong(n)||null===(e=this.context.kokoro)||void 0===e||e.setCurrentSong(t)}},{key:"removeSong",value:function(n){var t;null===(t=this.context.kokoro)||void 0===t||t.removeSong(n)}},{key:"clearPlaylist",value:function(){var n;null===(n=this.context.kokoro)||void 0===n||n.clearPlaylist()}},{key:"prev",value:function(){var n;null===(n=this.context.kokoro)||void 0===n||n.previous()}},{key:"next",value:function(){var n;null===(n=this.context.kokoro)||void 0===n||n.next()}},{key:"togglePlay",value:function(){var n;null===(n=this.context.kokoro)||void 0===n||n.togglePlay()}},{key:"nextPlayOrder",value:function(){var n;null===(n=this.context.kokoro)||void 0===n||n.nextPlayOrder()}},{key:"setCurrentProgress",value:function(n){var t;null===(t=this.context.kokoro)||void 0===t||t.setCurrentTime(n*this.playing.totalTime)}},{key:"setVolume",value:function(n){var t;null===(t=this.context.kokoro)||void 0===t||t.setVolume(n)}}]),e}(Tt),uo=Ht((function(n){var t,e,o,i;return{currentSong:n.playing.song,lyrics:null===(t=n.playing.song)||void 0===t?void 0:t.lyrics,langAvailable:(i=null===(e=n.playing.song)||void 0===e?void 0:e.lyrics,i?"lrc"===i.type?i.translations?i.translations.map((function(n){return{lang:n.lang,name:n.name}})):[]:(console.error("Unsupported lyrics type: ".concat(i.type)),[]):null),pnKindAvailable:[],index:n.playlist.orderedIndexOfPlaying,playlist:n.playlist.orderedList.map((function(t){return n.playlist.songs[t]})),playing:n.playing,player:n.player,played:n.playing.currentTime/n.playing.totalTime,buffered:null===(o=n.playing.bufferedTime)||void 0===o?void 0:o.map((function(t){return[t[0]/n.playing.totalTime,t[1]/n.playing.totalTime]})),playOrder:n.playlist.playOrder}}))(co);window.customElements.define("kokoro-player",uo);var po=uo;function fo(n){return(fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function ho(){var n=mo(["\n      ","\n      :host {\n        display: inline-block;\n      }\n\n      .btn {\n        cursor: pointer;\n        padding: 10px 12px;\n        border-radius: 15px;\n        color: var(--kokoro-primary-color);\n      }\n      \n      .btn.disabled {\n        cursor: default;\n      }\n\n      .btn.primary {\n        background-color: var(--kokoro-primary-color);\n        color: var(--kokoro-background-color);\n        border: 1px var(--kokoro-primary-color) solid;\n      }\n\n      .btn.bordered {\n        border: 1px solid;\n      }\n\n      :host(:last-child) {\n        margin-right: 0;\n      }\n\n      .btn.medium,\n      .btn.small {\n        font-size: 12px;\n        padding: 4px 8px;\n        border-radius: 8px;\n      }\n\n      .btn.mini {\n        font-size: 10px;\n        padding: 2px 6px;\n        border-radius: 6px;\n      }\n    "]);return ho=function(){return n},n}function yo(){var n=mo(["\n      <style>\n        :host {\n          margin-right: ",'px;\n        }\n      </style>\n      <div class="btn '," "," ",'">\n        <i class="icon icon-','"></i>\n        <slot></slot>\n      </div>\n    ']);return yo=function(){return n},n}function mo(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}function go(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function vo(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function bo(n,t){return(bo=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function wo(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,o=xo(n);if(t){var i=xo(this).constructor;e=Reflect.construct(o,arguments,i)}else e=o.apply(this,arguments);return ko(this,e)}}function ko(n,t){return!t||"object"!==fo(t)&&"function"!=typeof t?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):t}function xo(n){return(xo=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}var So=function(n){!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&bo(n,t)}(r,n);var t,e,o,i=wo(r);function r(){return go(this,r),i.apply(this,arguments)}return t=r,o=[{key:"properties",get:function(){return{type:{type:String},icon:{type:String},disabled:{type:Boolean},size:{type:String}}}},{key:"styles",get:function(){return gt(ho(),kt)}}],(e=[{key:"render",value:function(){return tt(yo(),"mini"===this.size?2:"medium"===this.size||"small"===this.size?4:10,this.type,this.disabled?"disabled":"",this.size,this.icon)}}])&&vo(t.prototype,e),o&&vo(t,o),r}(bt);function Oo(n){return(Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function Po(){var n=_o(['\n        <div class="buffered" style="left: ',"%; width: ",'%"></div>\n      ']);return Po=function(){return n},n}function Eo(){var n=_o(['\n      <div class="touch-assist"\n           @touchstart="','"\n      ></div>\n      <div class="bar" id="bar"\n           @mousedown="','"\n           @touchstart="','"\n      >\n        <div class="progress"></div>\n        ','\n        <div class="played"\n             style="width: ','%">\n        </div>\n      </div>\n      <div class="track">\n        <div class="handle"\n             style="left: calc(','% - 5px)"\n             @mousedown="','"\n             @touchstart="','"\n        ></div>\n      </div>\n    ']);return Eo=function(){return n},n}function Lo(){var n=_o(["\n      :host {\n        display: block;\n        height: 3px;\n        user-select: none;\n      }\n      \n      .bar {\n        position: relative;\n        height: 100%;\n        overflow: hidden;\n        cursor: pointer;\n      }\n      \n      .touch-assist {\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: -5px;\n        bottom: -5px;\n      }\n\n      .progress {\n        height: 100%;\n        background-color: var(--kokoro-secondary-color);\n        opacity: 0.3;\n      }\n      \n      .played {\n        position: absolute;\n        top: 0;\n        height: 100%;\n        background-color: var(--kokoro-primary-color);\n      }\n      \n      .buffered {\n        position: absolute;\n        top: 0;\n        height: 100%;\n        background-color: var(--kokoro-secondary-color);\n        opacity: 0.6;\n      }\n      \n      .track {\n        position: relative;\n        margin: 0 4px;\n      }\n      \n      .handle {\n        position: absolute;\n        top: -6px;\n        width: 6px;\n        height: 6px;\n        border: 2px var(--kokoro-primary-color) solid;\n        border-radius: 50%;\n        background-color: var(--kokoro-primary-color);\n        cursor: pointer;\n      }\n    "]);return Lo=function(){return n},n}function _o(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}function Ao(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function To(n,t,e){return t&&Ao(n.prototype,t),e&&Ao(n,e),n}function Co(n,t){return(Co=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function jo(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,o=Ro(n);if(t){var i=Ro(this).constructor;e=Reflect.construct(o,arguments,i)}else e=o.apply(this,arguments);return Io(this,e)}}function Io(n,t){return!t||"object"!==Oo(t)&&"function"!=typeof t?No(n):t}function No(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ro(n){return(Ro=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}window.customElements.define("kokoro-button",So);var Do=function(n){!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&Co(n,t)}(e,n);var t=jo(e);function e(){var n;return function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=t.call(this)).drag=n.drag.bind(No(n)),n.stopDragging=n.stopDragging.bind(No(n)),n}return To(e,null,[{key:"properties",get:function(){return{played:{type:Number},buffered:{type:Array},currentTime:{type:Number},totalTime:{type:Number},dirtyPlayed:{type:Number},dragging:{type:Boolean}}}},{key:"styles",get:function(){return gt(Lo())}}]),To(e,[{key:"render",value:function(){var n;return tt(Eo(),this.startDragging,this.startDragging,this.startDragging,null===(n=this.buffered)||void 0===n?void 0:n.map((function(n){return tt(Po(),100*n[0],100*(n[1]-n[0]))})),100*(this.dragging?this.dirtyPlayed:this.played||0),100*(this.dragging?this.dirtyPlayed:this.played||0),this.startDragging,this.startDragging)}},{key:"startDragging",value:function(n){this.dragging=!0,n.stopPropagation(),this.drag(n),"mousedown"===n.type&&(document.addEventListener("mousemove",this.drag),document.addEventListener("mouseup",this.stopDragging)),"touchstart"===n.type&&(document.addEventListener("touchmove",this.drag),document.addEventListener("touchend",this.stopDragging),document.addEventListener("touchcancel",this.stopDragging))}},{key:"drag",value:function(n){n=void 0!==window.TouchEvent&&n instanceof window.TouchEvent?n.changedTouches[0]:n;var t=this.shadowRoot.querySelector("#bar").getBoundingClientRect();this.dirtyPlayed=Math.max(Math.min((n.clientX-t.left-3)/(t.width-6),1),0),this.syncDirtyPlayed()}},{key:"stopDragging",value:function(){this.dragging=!1,this.commitDirtyPlayed(),document.removeEventListener("mousemove",this.drag),document.removeEventListener("mouseup",this.stopDragging),document.removeEventListener("touchmove",this.drag),document.removeEventListener("touchend",this.stopDragging),document.removeEventListener("touchcancel",this.stopDragging)}},{key:"syncDirtyPlayed",value:function(){this.dispatchEvent(new window.CustomEvent("kokoro-change",{detail:{progress:this.dirtyPlayed,commit:!1}}))}},{key:"commitDirtyPlayed",value:function(){this.dispatchEvent(new window.CustomEvent("kokoro-change",{detail:{progress:this.dirtyPlayed,commit:!0}}))}}]),e}(bt);function zo(n){return(zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function Vo(){var n=Uo(["\n      ","\n      :host(:hover) {\n        height: 5px;\n      }\n\n      :host(:hover) .handle {\n        top: -7px;\n      }\n      \n      .bar {\n        border-radius: 0 0 var(--kokoro-border-radius, 4px) var(--kokoro-border-radius, 4px);\n      }\n      \n      .handle {\n        border: 2px var(--kokoro-primary-color) solid;\n        background-color: #fff;\n      }\n      \n      .handle:hover {\n        transform: scale(1.5);\n      }\n      \n      .label {\n        display: none;\n        position: absolute;\n        bottom: 3px;\n        font-size: 12px;\n      }\n      \n      .label.left {\n        left: 6px;\n      }\n\n      .label.right {\n        right: 6px;\n      }\n\n      :host(:hover) .label {\n        display: block;\n      }\n\n      @media screen and (max-width: 400px) {\n        .label {\n          bottom: 1px;\n        }\n      }\n    "]);return Vo=function(){return n},n}function Mo(){var n=Uo(["\n      ",'\n      <div class="label left">','</div>\n      <div class="label right">',"</div>\n    "]);return Mo=function(){return n},n}function Uo(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}function Wo(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Fo(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function Bo(n,t,e){return(Bo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(n,t,e){var o=function(n,t){for(;!Object.prototype.hasOwnProperty.call(n,t)&&null!==(n=qo(n)););return n}(n,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(e):i.value}})(n,t,e||n)}function Ho(n,t){return(Ho=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function Yo(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,o=qo(n);if(t){var i=qo(this).constructor;e=Reflect.construct(o,arguments,i)}else e=o.apply(this,arguments);return Go(this,e)}}function Go(n,t){return!t||"object"!==zo(t)&&"function"!=typeof t?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):t}function qo(n){return(qo=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}window.customElements.define("kokoro-track",Do);var Xo=function(n){!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&Ho(n,t)}(r,n);var t,e,o,i=Yo(r);function r(){return Wo(this,r),i.apply(this,arguments)}return t=r,o=[{key:"styles",get:function(){return gt(Vo(),Bo(qo(r),"styles",this))}}],(e=[{key:"render",value:function(){return tt(Mo(),Bo(qo(r.prototype),"render",this).call(this),this.dragging?this.formatTime(this.dirtyPlayed*this.totalTime):this.formatTime(this.currentTime),this.formatTime(this.totalTime))}},{key:"formatTime",value:function(n){if(null==n||isNaN(n))return"--:--";var t=Math.floor(n/3600),e=Math.floor(n%3600/60),o=Math.floor(n%60),i="";return i=(e<10?"0"+e:e)+":"+(i+=o<10?"0"+o:o),t>0&&(i=(t<10?"0"+t:t)+":"+i),i}}])&&Fo(t.prototype,e),o&&Fo(t,o),r}(Do);function Ko(n){return(Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function Jo(){var n=ri(['\n        <kokoro-progress\n          .played="','"\n          .buffered="','"\n          .currentTime="','"\n          .totalTime="','"\n          @kokoro-change="','"\n        ></kokoro-progress>']);return Jo=function(){return n},n}function Qo(){var n=ri(['\n              <kokoro-button\n                type="bordered"\n                icon="warn"\n                size="','"\n                disabled\n              >',"</kokoro-button>"]);return Qo=function(){return n},n}function Zo(){var n=ri(['\n                    <kokoro-button\n                      type="bordered"\n                      icon="play-next"\n                      size="','"\n                      @click="','"\n                    >',"</kokoro-button>"]);return Zo=function(){return n},n}function $o(){var n=ri(['\n                    <kokoro-button\n                      type="bordered"\n                      icon="ok"\n                      size="','"\n                      disabled\n                    >',"</kokoro-button>"]);return $o=function(){return n},n}function ni(){var n=ri(['\n                <kokoro-button\n                  type="primary"\n                  icon="play"\n                  size="','"\n                  @click="','"\n                >',"</kokoro-button>\n                ",""]);return ni=function(){return n},n}function ti(){var n=ri(['\n                <a class="btn" @click="','"><i class="icon icon-previous"></i></a>\n                <a class="btn primary" @click="','">\n                  <i class="icon icon-','"></i></a>\n                <a class="btn" @click="','"><i class="icon icon-next"></i></a>\n                <a class="btn" @click="','">\n                  <i class="icon icon-','"></i></a>\n                <a class="btn volume"\n                   @mouseenter="','"\n                   @mouseleave="','"\n                >\n                  <i class="icon icon-volume"></i>\n                  <div class="volume-track-container ','">\n                    <kokoro-track\n                      id="volume-track"\n                      .played="','"\n                      .buffered="','"\n                      @kokoro-change="','"\n                    ></kokoro-track>\n                  </div>\n                </a>\n              ']);return ti=function(){return n},n}function ei(){var n=ri(["\n            :host {\n              box-shadow: none !important;\n            }"]);return ei=function(){return n},n}function oi(){var n=ri(["\n      <style>\n        :host {\n          --kokoro-primary-color: ",";\n          --kokoro-secondary-color: ",";\n          --kokoro-background-color: ",";\n          --kokoro-border-radius: ","\n        }\n        ",'\n      </style>\n      <div class="cover">\n        <img class="cover" src="','" alt="cover" />\n      </div>\n      <div class="control-panel ','">\n        <div class="header">\n          <h1 class="title">','</h1>\n          <h2 class="artist">'," - ",'</h2>\n          <div class="artist lyrics">','</div>\n        </div>\n        <div class="control ','">\n          ',"\n        </div>\n      </div>\n      ","\n    "]);return oi=function(){return n},n}function ii(){var n=ri(["\n      ","\n      :host {\n        color: var(--kokoro-secondary-color);\n        background-color: var(--kokoro-background-color);\n        display: flex;\n        max-width: 500px;\n        max-height: 200px;\n        margin: 0 auto;\n        box-shadow: rgba(0, 0, 0, 0.1) 0.96px 0.96px 1.6px 0,\n          rgba(0, 0, 0, 0.1) -0.96px 0px 0.96px 0px;\n        border-radius: var(--kokoro-border-radius);\n        position: relative;\n      }\n\n      .cover {\n        display: inline-block;\n        width: 40%;\n        max-width: 200px;\n        position: relative;\n        border-radius: var(--kokoro-border-radius) 0 0 var(--kokoro-border-radius);\n        user-select: none;\n      }\n      \n      .cover::before {\n        content: '';\n        display: block;\n        padding-bottom: 100%;\n      }\n      \n      .cover > img {\n        position: absolute;\n        top: 0;\n        width: 100%;\n        max-height: 100%;\n      }\n      \n      .control-panel {\n        flex: 1 1 auto;\n        padding: 15px 10px 15px 20px;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        overflow: hidden;\n      }\n      \n      .title {\n        font-weight: normal;\n        font-size: 20px;\n        line-height: 1.4;\n        margin: 2px 0;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        color: var(--kokoro-primary-color);\n      }\n      \n      .artist {\n        font-weight: normal;\n        font-size: 16px;\n        line-height: 1.4;\n        margin: 2px 0;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n\n\n      .control-panel.medium {\n        padding-left: 15px;\n      }\n\n      .control-panel.medium .title,\n      .control-panel.small .title,\n      .control-panel.mini .title {\n        font-size: 16px;\n      }\n\n      .control-panel.medium .artist,\n      .control-panel.small .artist,\n      .control-panel.mini .artist {\n        font-size: 14px;\n      }\n\n      .control-panel.medium .control.current,\n      .control-panel.small .control.current,\n      .control-panel.mini .control.current {\n        margin-bottom: 0 !important;\n      }\n\n      .control-panel.small {\n        padding-left: 12px;\n      }\n\n      .control-panel.small .lyrics {\n        display: none;\n      }\n\n      .control-panel.mini {\n        padding-left: 10px;\n      }\n\n      .control-panel.mini .artist {\n        display: none;\n      }\n      \n      .control {\n        user-select: none;\n        white-space: nowrap;\n      }\n      \n      .control.current {\n        margin-bottom: 5px;\n      }\n      \n      .btn {\n        display: inline-block;\n        text-decoration: none;\n        color: inherit;\n        font-size: 24px;\n        margin: 5px;\n        cursor: pointer;\n      }\n      \n      .btn > .icon {\n        vertical-align: top;\n      }\n      \n      .btn:first-child {\n        margin-left: 0;\n      }\n\n      .btn:last-child {\n        margin-right: 0;\n      }\n      \n      .btn.primary {\n        color: var(--kokoro-primary-color);\n      }\n\n      .control-panel.medium .btn,\n      .control-panel.small .btn {\n        font-size: 20px;\n        margin: 2px;\n      }\n\n      .control-panel.medium .btn .volume-track-container,\n      .control-panel.small .btn .volume-track-container {\n        top: -1px;\n        height: 16px;\n        width: 40px;\n      }\n\n      .control-panel.mini .btn {\n        font-size: 16px;\n        margin: 2px;\n      }\n\n      .control-panel.mini .btn .volume-track-container {\n        top: 1px;\n        height: 12px;\n        width: 36px;\n        padding-left: 5px;\n      }\n\n      .control-panel.mini .btn .volume-track-container.hide {\n        padding-left: 0;\n      }\n      \n      kokoro-progress {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        right: 0;\n      }\n      \n      .btn.volume {\n        position: relative;\n      }\n      \n      .volume-track-container {\n        position: absolute;\n        left: 100%;\n        height: 20px;\n        width: 60px;\n        top: -3px;\n        margin: 5px 5px 5px 0;\n        padding: 0 20px 0 10px;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        transition: all 250ms;\n        cursor: initial;\n      }\n\n      .volume-track-container.hide {\n        width: 0 !important;\n        padding: 0;\n        margin-left: 3px;\n        overflow: hidden;\n      }\n    "]);return ii=function(){return n},n}function ri(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}function si(n,t,e){return(si="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(n,t,e){var o=function(n,t){for(;!Object.prototype.hasOwnProperty.call(n,t)&&null!==(n=fi(n)););return n}(n,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(e):i.value}})(n,t,e||n)}function ai(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function li(n,t,e){return t&&ai(n.prototype,t),e&&ai(n,e),n}function ci(n,t){return(ci=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function ui(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,o=fi(n);if(t){var i=fi(this).constructor;e=Reflect.construct(o,arguments,i)}else e=o.apply(this,arguments);return di(this,e)}}function di(n,t){return!t||"object"!==Ko(t)&&"function"!=typeof t?pi(n):t}function pi(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function fi(n){return(fi=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}window.customElements.define("kokoro-progress",Xo);var hi=function(n){!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&ci(n,t)}(e,n);var t=ui(e);function e(n){var o;return function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(o=t.call(this,n)).hideVolumeTrack=o.hideVolumeTrack.bind(pi(o)),o}return li(e,[{key:"isConnected",get:function(){return!!this.context.kokoro}},{key:"isNextSong",get:function(){return!(!this.src||!this.nextSongSrc)&&Jt.same(this.nextSongSrc,this.src)}},{key:"isCurrentSong",get:function(){return!(!this.src||!this.currentSongSrc)&&Jt.same(this.currentSongSrc,this.src)}}],[{key:"properties",get:function(){return{title:{type:String},artist:{type:String},album:{type:String},src:{type:String},cover:{type:String},lyrics:{type:String},parsedLyrics:{type:Object},primaryColor:{type:String},secondaryColor:{type:String},backgroundColor:{type:String},nextSongSrc:{type:String},currentSongSrc:{type:String},paused:{type:Boolean},playOrder:{type:String},played:{type:Number},buffered:{type:Array},currentTime:{type:Number},totalTime:{type:Number},type:{type:String},volume:{type:Number},isVolumeTrackShown:{type:Boolean},size:{type:String},needShowPlayNext:{type:Boolean}}}},{key:"styles",get:function(){return gt(ii(),kt)}}]),li(e,[{key:"firstUpdated",value:function(n){for(var t=this,e=this.parentElement;null!==(o=e)&&void 0!==o&&o.tagName.toLowerCase().startsWith("kokoro");){var o;e=e.parentElement}this.resizeObserver=new window.ResizeObserver((function(){t.size=e.offsetWidth>=500?"large":e.offsetWidth>=420?"medium":e.offsetWidth>=370?"small":"mini"})),this.resizeObserver.observe(e),this.size=e.offsetWidth>=500?"large":e.offsetWidth>=420?"medium":e.offsetWidth>=370?"small":"mini"}},{key:"updated",value:function(n){(n.has("currentTime")||n.has("totalTime")||n.has("lyrics"))&&(this.isCurrentSong?this.parsedLyrics=pe(this.lyrics,this.currentTime,this.totalTime):this.parsedLyrics=null)}},{key:"disconnectedCallback",value:function(){var n;si(fi(e.prototype),"disconnectedCallback",this).call(this),null===(n=this.resizeObserver)||void 0===n||n.disconnect()}},{key:"render",value:function(){var n,t=this;return tt(oi(),this.primaryColor,this.secondaryColor,this.backgroundColor,"flat"===this.type?"0":"4px","flat"===this.type?gt(ei()):"",this.cover,this.size,this.title,this.artist,this.album,null===(n=this.parsedLyrics)||void 0===n?void 0:n.currentSentence,this.isCurrentSong?"current":"",this.isConnected?this.isCurrentSong?tt(ti(),this.prev,this.togglePlay,this.paused?"play":"pause",this.next,this.nextPlayOrder,this.playOrder===q?"solo":this.playOrder===X?"shuffle":"loop",this.showVolumeTrack,this.closeVolumeTrack,this.isVolumeTrackShown?"":"hide",this.volume,[0,1],(function(n){return t.setVolume(n.detail.progress)})):tt(ni(),this.size,this.playNow,ge.playNow,this.needShowPlayNext?this.isNextSong?tt($o(),this.size,ge.added):tt(Zo(),this.size,this.playNext,ge.playNext):""):tt(Qo(),this.size,ge.disconnected),this.isConnected&&this.isCurrentSong?tt(Jo(),this.played,this.buffered,this.currentTime,this.totalTime,(function(n){t.setCurrentProgress(n.detail.progress,n.detail.commit)})):"")}},{key:"showVolumeTrack",value:function(){this.isVolumeTrackShown=!0,document.removeEventListener("mouseup",this.hideVolumeTrack)}},{key:"closeVolumeTrack",value:function(){this.shadowRoot.querySelector("#volume-track").dragging?document.addEventListener("mouseup",this.hideVolumeTrack):this.isVolumeTrackShown=!1}},{key:"hideVolumeTrack",value:function(){var n=this;setTimeout((function(){n.isVolumeTrackShown=!1}),250),document.removeEventListener("mouseup",this.hideVolumeTrack)}},{key:"playNow",value:function(){var n;null===(n=this.context.kokoro)||void 0===n||n.setCurrentSong({title:this.title,artist:this.artist,album:this.album,src:this.src,lyrics:this.lyrics,cover:this.cover})}},{key:"playNext",value:function(){var n;null===(n=this.context.kokoro)||void 0===n||n.setNextSong({title:this.title,artist:this.artist,album:this.album,src:this.src,lyrics:this.lyrics,cover:this.cover})}},{key:"prev",value:function(){var n;null===(n=this.context.kokoro)||void 0===n||n.previous()}},{key:"next",value:function(){var n;null===(n=this.context.kokoro)||void 0===n||n.next()}},{key:"togglePlay",value:function(){var n;null===(n=this.context.kokoro)||void 0===n||n.togglePlay()}},{key:"nextPlayOrder",value:function(){var n;null===(n=this.context.kokoro)||void 0===n||n.nextPlayOrder()}},{key:"setCurrentProgress",value:function(n,t){var e;t?null===(e=this.context.kokoro)||void 0===e||e.setCurrentTime(n*this.totalTime):this.currentTime=n*this.totalTime}},{key:"setVolume",value:function(n){var t;null===(t=this.context.kokoro)||void 0===t||t.setVolume(n)}}]),e}(Tt);function yi(n){return n.playlist.playOrder===X?n.playlist.shuffledList[n.playlist.shuffledIndexOfPlaying+1]:n.playlist.orderedIndexOfPlaying+1===n.playlist.orderedList.length?n.playlist.orderedList[0]:n.playlist.orderedList[n.playlist.orderedIndexOfPlaying+1]}var mi=Ht((function(n){var t;return{nextSongSrc:yi(n),currentSongSrc:n.playing.src,paused:n.playing.paused,playOrder:n.playlist.playOrder,played:n.playing.currentTime/n.playing.totalTime,buffered:null===(t=n.playing.bufferedTime)||void 0===t?void 0:t.map((function(t){return[t[0]/n.playing.totalTime,t[1]/n.playing.totalTime]})),currentTime:n.playing.currentTime,totalTime:n.playing.totalTime,volume:n.player.volume,needShowPlayNext:!(n.playing.paused&&0===n.playing.currentTime)}}))(hi);window.customElements.define("kokoro-single-card",mi);var gi=mi;function vi(n){return(vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function bi(){var n=ji(["\n      ","\n      :host {\n        color: var(--kokoro-secondary-color);\n        background-color: var(--kokoro-background-color);\n        display: flex;\n        max-width: 500px;\n        max-height: 200px;\n        margin: 0 auto;\n        box-shadow: rgba(0, 0, 0, 0.1) 0.96px 0.96px 1.6px 0,\n          rgba(0, 0, 0, 0.1) -0.96px 0px 0.96px 0px;\n        border-radius: var(--kokoro-border-radius);\n        position: relative;\n      }\n\n      .cover {\n        display: inline-block;\n        width: 40%;\n        max-width: 200px;\n        position: relative;\n        border-radius: var(--kokoro-border-radius) 0 0 var(--kokoro-border-radius);\n        user-select: none;\n      }\n      \n      .cover::before {\n        content: '';\n        display: block;\n        padding-bottom: 100%;\n      }\n      \n      .cover > img {\n        position: absolute;\n        top: 0;\n        width: 100%;\n        max-height: 100%;\n      }\n      \n      .control-panel {\n        box-sizing: border-box;\n        width: 60%;\n        max-width: 300px;\n        padding: 15px 10px 15px 20px;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        overflow: hidden;\n      }\n      \n      .title {\n        font-weight: normal;\n        font-size: 20px;\n        line-height: 1.4;\n        margin: 2px 0;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        color: var(--kokoro-primary-color);\n      }\n      \n      .song {\n        font-weight: normal;\n        font-size: 16px;\n        line-height: 1.4;\n        margin: 2px 0;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n\n      .control-panel.medium {\n        padding-left: 15px;\n      }\n\n      .control-panel.medium .title,\n      .control-panel.small .title,\n      .control-panel.mini .title {\n        font-size: 16px;\n      }\n\n      .control-panel.medium .song,\n      .control-panel.small .song,\n      .control-panel.mini .song {\n        font-size: 14px;\n      }\n\n      .control-panel.medium .control.current,\n      .control-panel.small .control.current,\n      .control-panel.mini .control.current {\n        margin-bottom: 0 !important;\n      }\n\n      .control-panel.small {\n        padding-left: 12px;\n      }\n\n      .control-panel.small .lyrics {\n        display: none;\n      }\n\n      .control-panel.mini {\n        padding-left: 10px;\n      }\n\n      .control-panel.mini .song {\n        display: none;\n      }\n      \n      .control {\n        user-select: none;\n        white-space: nowrap;\n      }\n      \n      .control.current {\n        margin-bottom: 5px;\n      }\n      \n      .btn {\n        display: inline-block;\n        text-decoration: none;\n        color: inherit;\n        font-size: 24px;\n        margin: 5px;\n        cursor: pointer;\n      }\n      \n      .btn > .icon {\n        vertical-align: top;\n      }\n      \n      .btn:first-child {\n        margin-left: 0;\n      }\n\n      .btn:last-child {\n        margin-right: 0;\n      }\n      \n      .btn.primary {\n        color: var(--kokoro-primary-color);\n      }\n\n      .control-panel.medium .btn,\n      .control-panel.small .btn {\n        font-size: 20px;\n        margin: 2px;\n      }\n\n      .control-panel.medium .btn .volume-track-container,\n      .control-panel.small .btn .volume-track-container {\n        top: -1px;\n        height: 16px;\n        width: 40px;\n      }\n\n      .control-panel.mini .btn {\n        font-size: 16px;\n        margin: 2px;\n      }\n\n      .control-panel.mini .btn .volume-track-container {\n        top: 1px;\n        height: 12px;\n        width: 36px;\n        padding-left: 5px;\n      }\n\n      .control-panel.mini .btn .volume-track-container.hide {\n        padding-left: 0;\n      }\n      \n      kokoro-progress {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        right: 0;\n      }\n      \n      .btn.volume {\n        position: relative;\n      }\n      \n      .volume-track-container {\n        position: absolute;\n        left: 100%;\n        height: 20px;\n        width: 60px;\n        top: -3px;\n        margin: 5px 5px 5px 0;\n        padding: 0 20px 0 10px;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        transition: all 250ms;\n        cursor: initial;\n      }\n\n      .volume-track-container.hide {\n        width: 0 !important;\n        padding: 0;\n        margin-left: 3px;\n        overflow: hidden;\n      }\n      \n      .playlist-mask.hide {\n        opacity: 0;\n        visibility: hidden;\n      }\n      \n      .playlist-mask {\n        cursor: pointer;\n        width: 60%;\n        overflow: hidden;\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        background-color: rgba(0, 0, 0, 0.5);\n        backdrop-filter: blur(8px);\n        opacity: 1;\n        transition: opacity 250ms;\n        border-radius: 0 var(--kokoro-border-radius) var(--kokoro-border-radius) 0;\n      }\n      \n      .playlist-close {\n        display: block;\n        font-size: 20px;\n        position: relative;\n        top: 5px;\n        left: 5px;\n        color: rgba(255, 255, 255, 0.8);\n        text-decoration: none;\n      }\n      \n      .playlist.hide {\n        width: 0;\n      }\n      \n      .playlist {\n        width: calc(60% - 30px);\n        overflow-x: hidden;\n        overflow-y: auto;\n        cursor: default;\n        counter-reset: songs;\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        background-color: var(--kokoro-background-color);\n        border-radius: 0 var(--kokoro-border-radius) var(--kokoro-border-radius) 0;\n        transition: width 250ms;\n      }\n      \n      .playlist.expand {\n        border-left: 1px solid rgba(51,51,51,0.05);\n        width: 250px;\n        position: static;\n        transition: none;\n      }\n      \n      .playlist > .playlist-item {\n        height: 40px;\n        line-height: 40px;\n        padding: 0 10px;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        font-size: 14px;\n        cursor: pointer;\n      }\n\n      .playlist.mini > .playlist-item {\n        height: 35px;\n        line-height: 35px;\n        font-size: 12px;\n      }\n      \n      .playlist > .playlist-item::before {\n        counter-increment: songs;\n        content: counter(songs);\n        margin-right: 10px;\n      }\n      \n      .playlist > .playlist-item:hover {\n        background: rgba(0, 0, 0, 0.1);\n      }\n      \n      .playlist > .playlist-item.current {\n        background: rgba(0, 0, 0, 0.1);\n        border-left: 3px var(--kokoro-primary-color) solid;\n      }\n      \n      .playlist-toggle {\n        text-decoration: none;\n      }\n      \n      .playlist-toggle .icon {\n        margin-left: 1ex;\n      }\n    "]);return bi=function(){return n},n}function wi(n,t){var e;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(e=function(n,t){if(n){if("string"==typeof n)return ki(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?ki(n,t):void 0}}(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var o=0,i=function(){};return{s:i,n:function(){return o>=n.length?{done:!0}:{done:!1,value:n[o++]}},e:function(n){throw n},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){e=n[Symbol.iterator]()},n:function(){var n=e.next();return s=n.done,n},e:function(n){a=!0,r=n},f:function(){try{s||null==e.return||e.return()}finally{if(a)throw r}}}}function ki(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=n[e];return o}function xi(){var n=ji(['\n        <kokoro-progress\n          .played="','"\n          .buffered="','"\n          .currentTime="','"\n          .totalTime="','"\n          @kokoro-change="','"\n        ></kokoro-progress>']);return xi=function(){return n},n}function Si(){var n=ji(['\n          <div\n            class="playlist-item ','"\n            @click="','"\n          >'," - ","\n          </div>\n        "]);return Si=function(){return n},n}function Oi(){var n=ji(['\n              <kokoro-button\n                type="bordered"\n                icon="warn"\n                size="','"\n                disabled\n              >',"\n              </kokoro-button>"]);return Oi=function(){return n},n}function Pi(){var n=ji(['\n                    <kokoro-button\n                      type="bordered"\n                      icon="play-next"\n                      size="','"\n                      @click="','"\n                    >',"\n                    </kokoro-button>"]);return Pi=function(){return n},n}function Ei(){var n=ji(['\n                    <kokoro-button\n                      type="bordered"\n                      icon="ok"\n                      size="','"\n                      disabled\n                    >',"\n                    </kokoro-button>"]);return Ei=function(){return n},n}function Li(){var n=ji(['\n                <kokoro-button\n                  type="primary"\n                  icon="play"\n                  size="','"\n                  @click="','"\n                >',"\n                </kokoro-button>\n                ",""]);return Li=function(){return n},n}function _i(){var n=ji(['\n                <a class="btn" @click="','"><i class="icon icon-previous"></i></a>\n                <a class="btn primary" @click="','">\n                  <i class="icon icon-','"></i></a>\n                <a class="btn" @click="','"><i class="icon icon-next"></i></a>\n                <a class="btn" @click="','">\n                  <i class="icon icon-','"></i></a>\n                <a class="btn volume"\n                   @mouseenter="','"\n                   @mouseleave="','"\n                >\n                  <i class="icon icon-volume"></i>\n                  <div class="volume-track-container ','">\n                    <kokoro-track\n                      id="volume-track"\n                      .played="','"\n                      .buffered="','"\n                      @kokoro-change="','"\n                    ></kokoro-track>\n                  </div>\n                </a>']);return _i=function(){return n},n}function Ai(){var n=ji(["\n            :host {\n              max-width: 750px !important;\n            }"]);return Ai=function(){return n},n}function Ti(){var n=ji(["\n            :host {\n              box-shadow: none !important;\n            }"]);return Ti=function(){return n},n}function Ci(){var n=ji(["\n      <style>\n        :host {\n          --kokoro-primary-color: ",";\n          --kokoro-secondary-color: ",";\n          --kokoro-background-color: ",";\n          --kokoro-border-radius: ","\n        }\n\n        ","\n\n        ",'\n      </style>\n      <div class="cover">\n        <img class="cover" src="','" alt="cover" />\n      </div>\n      <div class="control-panel ','">\n        <div class="header">\n          <a class="playlist-toggle" href="" @click="','">\n            <h1 class="title">','<i class="icon icon-playlist"></i></h1>\n          </a>\n          <h2 class="song">\n            ',"\n            -\n            ",'\n          </h2>\n          <div class="song lyrics">','</div>\n        </div>\n        <div class="control ','">\n          ','\n        </div>\n      </div>\n      <div class="playlist-mask ','"\n           @click="','"\n      >\n        <a class="playlist-close"><i class="icon icon-close"></i></a>\n      </div>\n      <div class="playlist '," "," ",'">\n        ',"\n      </div>\n      ","\n    "]);return Ci=function(){return n},n}function ji(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}function Ii(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Ni(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function Ri(n,t,e){return(Ri="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(n,t,e){var o=function(n,t){for(;!Object.prototype.hasOwnProperty.call(n,t)&&null!==(n=Mi(n)););return n}(n,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(e):i.value}})(n,t,e||n)}function Di(n,t){return(Di=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function zi(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,o=Mi(n);if(t){var i=Mi(this).constructor;e=Reflect.construct(o,arguments,i)}else e=o.apply(this,arguments);return Vi(this,e)}}function Vi(n,t){return!t||"object"!==vi(t)&&"function"!=typeof t?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):t}function Mi(n){return(Mi=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}var Ui=function(n){!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&Di(n,t)}(r,n);var t,e,o,i=zi(r);function r(){return Ii(this,r),i.apply(this,arguments)}return t=r,o=[{key:"properties",get:function(){return{title:{type:String},songs:{type:Array},parsedLyrics:{type:Object},primaryColor:{type:String},secondaryColor:{type:String},backgroundColor:{type:String},songSrcList:{type:Array},songListIndex:{type:Number},currentSongSrc:{type:String},paused:{type:Boolean},playOrder:{type:String},played:{type:Number},buffered:{type:Array},currentTime:{type:Number},totalTime:{type:Number},type:{type:String},volume:{type:Number},isVolumeTrackShown:{type:Boolean},isPlaylistShowing:{type:Boolean},size:{type:String},needShowPlayNext:{type:Boolean}}}},{key:"styles",get:function(){return gt(bi(),kt)}}],(e=[{key:"isCurrentSong",value:function(n){return!!this.isConnected&&Jt.same(this.currentSongSrc,n.src)}},{key:"firstUpdated",value:function(n){for(var t=this,e=this.parentElement;null!==(o=e)&&void 0!==o&&o.tagName.toLowerCase().startsWith("kokoro");){var o;e=e.parentElement}this.resizeObserver=new window.ResizeObserver((function(){t.size=e.offsetWidth>=750?"expand":e.offsetWidth>=500?"large":e.offsetWidth>=420?"medium":e.offsetWidth>=370?"small":"mini"})),this.resizeObserver.observe(e),this.size=e.offsetWidth>=750?"expand":e.offsetWidth>=500?"large":e.offsetWidth>=420?"medium":e.offsetWidth>=370?"small":"mini"}},{key:"updated",value:function(n){(n.has("currentTime")||n.has("totalTime")||n.has("lyrics"))&&(this.isCurrentPlaylist?this.parsedLyrics=pe(this.displayedSong.lyrics,this.currentTime,this.totalTime):this.parsedLyrics=null)}},{key:"disconnectedCallback",value:function(){var n;Ri(Mi(r.prototype),"disconnectedCallback",this).call(this),null===(n=this.resizeObserver)||void 0===n||n.disconnect()}},{key:"render",value:function(){var n,t,e=this;return tt(Ci(),this.displayedSong.primaryColor||this.primaryColor,this.displayedSong.secondaryColor||this.secondaryColor,this.displayedSong.backgroundColor||this.backgroundColor,"flat"===this.type?"0":"4px","flat"===this.type?gt(Ti()):"",this.expand?gt(Ai()):"",this.displayedSong.cover,this.size,this.togglePlaylist,this.title||this.displayedSong.title,this.title?this.displayedSong.title:this.displayedSong.artist,this.title?this.displayedSong.artist:this.displayedSong.album,null===(n=this.parsedLyrics)||void 0===n?void 0:n.currentSentence,this.isCurrentPlaylist?"current":"",this.isConnected?this.isCurrentPlaylist?tt(_i(),this.prev,this.togglePlay,this.paused?"play":"pause",this.next,this.nextPlayOrder,this.playOrder===q?"solo":this.playOrder===X?"shuffle":"loop",this.showVolumeTrack,this.closeVolumeTrack,this.isVolumeTrackShown?"":"hide",this.volume,[0,1],(function(n){return e.setVolume(n.detail.progress)})):tt(Li(),this.size,this.playNow,ge.playAll,null!==(t=this.songSrcList)&&void 0!==t&&t.length?this.isFollowingPlaylist?tt(Ei(),this.size,ge.added):tt(Pi(),this.size,this.playNext,ge.addToPlaylist):""):tt(Oi(),this.size,ge.disconnected),!this.isPlaylistShowing||this.expand?"hide":"",this.togglePlaylist,this.isPlaylistShowing||this.expand?"":"hide",this.expand?"expand":"",this.size,this.songs.map((function(n){return tt(Si(),e.isCurrentSong(n)?"current":"",(function(){return e.setCurrentSong(n)}),n.title,n.artist)})),this.isConnected&&this.isCurrentPlaylist?tt(xi(),this.played,this.buffered,this.currentTime,this.totalTime,(function(n){e.setCurrentProgress(n.detail.progress,n.detail.commit)})):"")}},{key:"showVolumeTrack",value:function(){this.isVolumeTrackShown=!0,document.removeEventListener("mouseup",this.hideVolumeTrack)}},{key:"closeVolumeTrack",value:function(){this.shadowRoot.querySelector("#volume-track").dragging?document.addEventListener("mouseup",this.hideVolumeTrack):this.isVolumeTrackShown=!1}},{key:"hideVolumeTrack",value:function(){var n=this;setTimeout((function(){n.isVolumeTrackShown=!1}),250),document.removeEventListener("mouseup",this.hideVolumeTrack)}},{key:"setCurrentSong",value:function(n){var t;this.isCurrentSong(n)||null===(t=this.context.kokoro)||void 0===t||t.setCurrentSong(n)}},{key:"playNow",value:function(){var n,t;null===(n=this.context.kokoro)||void 0===n||n.setPlaylist(this.songs,0,G),null===(t=this.context.kokoro)||void 0===t||t.play()}},{key:"playNext",value:function(){var n,t,e=wi(this.songs.slice().reverse());try{for(e.s();!(n=e.n()).done;){var o,i=n.value;null===(o=this.context.kokoro)||void 0===o||o.setNextSong(i)}}catch(n){e.e(n)}finally{e.f()}this.isCurrentPlaylist||this.needShowPlayNext||null===(t=this.context.kokoro)||void 0===t||t.next()}},{key:"prev",value:function(){var n;null===(n=this.context.kokoro)||void 0===n||n.previous()}},{key:"next",value:function(){var n;null===(n=this.context.kokoro)||void 0===n||n.next()}},{key:"togglePlay",value:function(){var n;null===(n=this.context.kokoro)||void 0===n||n.togglePlay()}},{key:"nextPlayOrder",value:function(){var n;null===(n=this.context.kokoro)||void 0===n||n.nextPlayOrder()}},{key:"setCurrentProgress",value:function(n,t){var e;t?null===(e=this.context.kokoro)||void 0===e||e.setCurrentTime(n*this.totalTime):this.currentTime=n*this.totalTime}},{key:"setVolume",value:function(n){var t;null===(t=this.context.kokoro)||void 0===t||t.setVolume(n)}},{key:"togglePlaylist",value:function(n){n.preventDefault(),this.expand||(this.isPlaylistShowing=!this.isPlaylistShowing)}},{key:"isConnected",get:function(){return!!this.context.kokoro}},{key:"isFollowingPlaylist",get:function(){if(!this.songs||!this.songSrcList)return!1;for(var n=this.songSrcList.slice(this.songListIndex+1,this.songListIndex+1+this.songs.length),t=!0,e=0;e<this.songs.length;e++)if(!Jt.same(n[e],this.songs[e].src)){t=!1;break}return t}},{key:"isCurrentPlaylist",get:function(){if(!this.songs||!this.currentSongSrc)return!1;if(this.currentSongSrc instanceof Array){var n,t=wi(this.currentSongSrc);try{for(t.s();!(n=t.n()).done;){var e=n.value;if(-1!==Jt.indexOf(this.songs.map((function(n){return n.src})),e))return!0}}catch(n){t.e(n)}finally{t.f()}return!1}return-1!==Jt.indexOf(this.songs.map((function(n){return n.src})),this.currentSongSrc)}},{key:"displayedSong",get:function(){if(!this.isConnected||!this.currentSongSrc)return this.songs[0];if(this.currentSongSrc instanceof Array){var n,t=wi(this.currentSongSrc);try{for(t.s();!(n=t.n()).done;){var e=n.value;if(-1!==Jt.indexOf(this.songs.map((function(n){return n.src})),e))return this.songs[Jt.indexOf(this.songs.map((function(n){return n.src})),e)]}}catch(n){t.e(n)}finally{t.f()}return this.songs[0]}return-1!==Jt.indexOf(this.songs.map((function(n){return n.src})),this.currentSongSrc)?this.songs[Jt.indexOf(this.songs.map((function(n){return n.src})),this.currentSongSrc)]:this.songs[0]}},{key:"expand",get:function(){return"expand"===this.size}}])&&Ni(t.prototype,e),o&&Ni(t,o),r}(Tt);function Wi(n){return n.playlist.playOrder===X?n.playlist.shuffledList.map((function(t){return n.playlist.songs[t].src})):n.playlist.orderedList.map((function(t){return n.playlist.songs[t].src}))}function Fi(n){return n.playlist.playOrder===X?n.playlist.shuffledIndexOfPlaying:n.playlist.orderedIndexOfPlaying}var Bi=Ht((function(n){var t;return{songSrcList:Wi(n),songListIndex:Fi(n),currentSongSrc:n.playing.src,paused:n.playing.paused,playOrder:n.playlist.playOrder,played:n.playing.currentTime/n.playing.totalTime,buffered:null===(t=n.playing.bufferedTime)||void 0===t?void 0:t.map((function(t){return[t[0]/n.playing.totalTime,t[1]/n.playing.totalTime]})),currentTime:n.playing.currentTime,totalTime:n.playing.totalTime,volume:n.player.volume,needShowPlayNext:!(n.playing.paused&&0===n.playing.currentTime)}}))(Ui);window.customElements.define("kokoro-playlist-card",Bi);var Hi=Bi;function Yi(n){return(Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function Gi(){var n,t,e=(n=["<slot/>"],t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}})));return Gi=function(){return e},e}function qi(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Xi(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function Ki(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&Ji(n,t)}function Ji(n,t){return(Ji=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function Qi(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,o=$i(n);if(t){var i=$i(this).constructor;e=Reflect.construct(o,arguments,i)}else e=o.apply(this,arguments);return Zi(this,e)}}function Zi(n,t){return!t||"object"!==Yi(t)&&"function"!=typeof t?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):t}function $i(n){return($i=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}var nr=function(n){Ki(r,n);var t,e,o,i=Qi(r);function r(){return qi(this,r),i.apply(this,arguments)}return t=r,o=[{key:"connect",value:function(n){return function(t){Ki(o,t);var e=Qi(o);function o(){var t;return qi(this,o),(t=e.call(this)).kokoro=n,t}return o}(r)}},{key:"properties",get:function(){return{kokoro:{type:Object}}}},{key:"providedContexts",get:function(){return{kokoro:{property:"kokoro"}}}}],(e=[{key:"connect",value:function(n){this.kokoro=n}},{key:"disconnect",value:function(){this.kokoro=null}},{key:"render",value:function(){return tt(Gi())}}])&&Xi(t.prototype,e),o&&Xi(t,o),r}(Tt);t.default={Kokoro:gn,PLAY_ORDER_SHUFFLE:X,PLAY_ORDER_LOOP:G,PLAY_ORDER_SINGLE:q,Provider:nr,locale:o}}]).default},"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.KokoroPlayer=t():n.KokoroPlayer=t()}));
//# sourceMappingURL=kokoro-player.min.js.map