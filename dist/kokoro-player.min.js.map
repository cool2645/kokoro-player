{"version":3,"sources":["webpack://KokoroPlayer/webpack/universalModuleDefinition","webpack://KokoroPlayer/webpack/bootstrap","webpack://KokoroPlayer/./node_modules/redux/es/redux.js","webpack://KokoroPlayer/./src/iconfont/iconfont.css","webpack://KokoroPlayer/./node_modules/redux-devtools-extension/index.js","webpack://KokoroPlayer/./node_modules/symbol-observable/es/index.js","webpack://KokoroPlayer/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://KokoroPlayer/./node_modules/css-loader/dist/runtime/cssWithMappingToString.js","webpack://KokoroPlayer/./node_modules/css-loader/dist/runtime/api.js","webpack://KokoroPlayer/./node_modules/symbol-observable/es/ponyfill.js","webpack://KokoroPlayer/(webpack)/buildin/global.js","webpack://KokoroPlayer/(webpack)/buildin/harmony-module.js","webpack://KokoroPlayer/./src/iconfont/iconfont.css?a69e","webpack://KokoroPlayer/./node_modules/redux-thunk/es/index.js","webpack://KokoroPlayer/./node_modules/kokoro/dist/kokoro.esm.js","webpack://KokoroPlayer/./node_modules/lit-html/lib/dom.js","webpack://KokoroPlayer/./node_modules/lit-html/lib/template.js","webpack://KokoroPlayer/./node_modules/lit-html/lib/modify-template.js","webpack://KokoroPlayer/./node_modules/lit-html/lib/directive.js","webpack://KokoroPlayer/./node_modules/lit-html/lib/part.js","webpack://KokoroPlayer/./node_modules/lit-html/lib/template-instance.js","webpack://KokoroPlayer/./node_modules/lit-html/lib/template-result.js","webpack://KokoroPlayer/./node_modules/lit-html/lib/parts.js","webpack://KokoroPlayer/./node_modules/lit-html/lib/template-factory.js","webpack://KokoroPlayer/./node_modules/lit-html/lib/render.js","webpack://KokoroPlayer/./node_modules/lit-html/lib/default-template-processor.js","webpack://KokoroPlayer/./node_modules/lit-html/lit-html.js","webpack://KokoroPlayer/./node_modules/lit-html/lib/shady-render.js","webpack://KokoroPlayer/./node_modules/lit-element/lib/updating-element.js","webpack://KokoroPlayer/./node_modules/lit-element/lib/decorators.js","webpack://KokoroPlayer/./node_modules/lit-element/lib/css-tag.js","webpack://KokoroPlayer/./node_modules/lit-element/lit-element.js","webpack://KokoroPlayer/./src/iconfont.js","webpack://KokoroPlayer/./node_modules/wc-context/lit-element.js","webpack://KokoroPlayer/./src/utils/component.js","webpack://KokoroPlayer/./src/utils/lit-redux.js","webpack://KokoroPlayer/./src/utils/srcutil.js","webpack://KokoroPlayer/./node_modules/lrc-kit/lib/esm/line-parser.js","webpack://KokoroPlayer/./node_modules/lrc-kit/lib/esm/lrc.js","webpack://KokoroPlayer/./src/utils/lyrics.js","webpack://KokoroPlayer/./node_modules/lrc-kit/lib/esm/runner.js","webpack://KokoroPlayer/./src/utils/locale.js","webpack://KokoroPlayer/./src/components/desktop-lyrics.js","webpack://KokoroPlayer/./src/components/player.js","webpack://KokoroPlayer/./src/components/icon-button.js","webpack://KokoroPlayer/./src/components/track.js","webpack://KokoroPlayer/./src/components/progress.js","webpack://KokoroPlayer/./src/components/single-card.js","webpack://KokoroPlayer/./src/components/playlist-card.js","webpack://KokoroPlayer/./src/utils/provider.js","webpack://KokoroPlayer/./src/index.js"],"names":["root","factory","window","installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","randomString","Math","random","toString","substring","split","join","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","isPlainObject","obj","proto","getPrototypeOf","createStore","reducer","preloadedState","enhancer","_ref2","arguments","Error","undefined","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","slice","getState","subscribe","listener","isSubscribed","push","index","indexOf","splice","dispatch","action","type","listeners","length","replaceReducer","nextReducer","observable","_ref","outerSubscribe","observer","TypeError","observeState","next","unsubscribe","this","getUndefinedStateErrorMessage","actionType","String","combineReducers","reducers","reducerKeys","keys","finalReducers","shapeAssertionError","finalReducerKeys","forEach","assertReducerShape","e","state","hasChanged","nextState","_i","_key","previousStateForKey","nextStateForKey","errorMessage","bindActionCreator","actionCreator","apply","bindActionCreators","actionCreators","boundActionCreators","_defineProperty","configurable","writable","ownKeys","enumerableOnly","getOwnPropertySymbols","filter","sym","getOwnPropertyDescriptor","_objectSpread2","target","source","getOwnPropertyDescriptors","defineProperties","compose","_len","funcs","Array","arg","reduce","a","b","applyMiddleware","middlewares","store","_dispatch","middlewareAPI","chain","map","middleware","___CSS_LOADER_EXPORT___","composeWithDevTools","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","devToolsEnhancer","__REDUX_DEVTOOLS_EXTENSION__","noop","self","global","result","memo","isOldIE","Boolean","document","all","atob","getTarget","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","stylesInDom","getIndexByIdentifier","identifier","modulesToDom","list","options","idCountMap","identifiers","item","id","base","count","concat","css","media","sourceMap","references","updater","addStyle","insertStyleElement","style","createElement","attributes","nonce","setAttribute","insert","appendChild","textStore","replaceText","replacement","applyToSingletonTag","remove","styleSheet","cssText","cssNode","createTextNode","childNodes","removeChild","insertBefore","applyToTag","removeAttribute","btoa","unescape","encodeURIComponent","JSON","stringify","firstChild","singleton","singletonCounter","update","styleIndex","parentNode","removeStyleElement","newObj","lastIdentifiers","newList","newLastIdentifiers","_index","_slicedToArray","arr","isArray","_arrayWithHoles","iterator","_arr","_n","_d","_e","_s","done","err","_iterableToArrayLimit","minLen","_arrayLikeToArray","constructor","from","test","_unsupportedIterableToArray","_nonIterableRest","len","arr2","_item","content","cssMapping","base64","data","sourceMapping","sourceURLs","sources","sourceRoot","cssWithMappingToString","mediaQuery","dedupe","alreadyImportedModules","symbolObservablePonyfill","g","Function","originalModule","webpackPolyfill","children","locals","createThunkMiddleware","extraArgument","thunk","withExtraArgument","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","symbols","_toConsumableArray","_arrayWithoutHoles","iter","_iterableToArray","_nonIterableSpread","_createForOfIteratorHelper","allowArrayLike","it","F","f","normalCompletion","didErr","step","return","Song","song","src","encodeURI","good","decodeURI","TimeRanges","timeRanges","start","end","cloneDeep","parse","SET_VOLUME","SET_SPEED","setVolume","volume","payload","setSpeed","speedRate","PAUSE","PLAY","SET_CURRENT_TIME","SET_TOTAL_TIME","SET_BUFFERED_TIME","SET_TIMES","NEXT_SRC","UPDATE_SONG","pause","play","setCurrentTime","time","setTotalTime","setBufferedTime","buffered","setTimes","times","nextSrc","updateSong","PLAY_ORDER_LOOP","PLAY_ORDER_SINGLE","PLAY_ORDER_SHUFFLE","PLAY_ORDER","SET_PLAYLIST","CLEAR_PLAYLIST","shuffle","original","shuffled","sort","swap","swapped","createSetPlaylistAction","pushHistory","historyList","newHistoryList","historyIndex","unshift","setPlayOrder","playOrder","playlist","newPlaylistState","shuffledList","orderedList","shuffledIndexOfPlaying","playing","nextPlayOrder","currentPlayOrder","currentPlayOrderIndex","nextPlayOrderIndex","_newPlaylistState$shu","newShuffledList","orderedIndexOfPlaying","autoNext","previous","_newPlaylistState$shu2","setCurrentSong","songId","songs","setNextSong","orderedIndexReduction","removeSong","shuffledIndexReduction","setPlaylist","currentSong","_step","_iterator","_songId","currentSongValid","clearPlaylist","initialState","speed","initialState$1","initialState$2","srcIndex","currentTime","totalTime","bufferedTime","paused","player","srcId","newSong","newSongs","Kokoro","initializeState","importedState","_this","_store","Audio","addEventListener","toArray","duration","_onSrcProbablyChanged","_triggerPlay","playbackRate","muted","_listeners","_destroyed","unsub","unmount","load","_this2","find","exportedState","HTMLElement","body","isCEPolyfill","customElements","polyfillWrapFlushCallback","removeNodes","container","nextSibling","marker","nodeMarker","markerRegex","RegExp","boundAttributeSuffix","Template","element","parts","nodesToRemove","stack","walker","createTreeWalker","lastPartIndex","partIndex","strings","values","node","nextNode","nodeType","hasAttributes","endsWith","stringForPart","lastAttributeNameRegex","exec","attributeLookupName","toLowerCase","attributeValue","getAttribute","statics","tagName","currentNode","parent","lastIndex","createMarker","match","previousSibling","pop","str","suffix","isTemplatePartActive","part","createComment","removeNodesFromTemplate","template","nextActiveIndexInTemplateParts","nodeIndex","removeCount","nodesToRemoveInTemplate","currentRemovingNode","has","countNodes","startIndex","directives","WeakMap","isDirective","noChange","nothing","processor","__parts","setValue","commit","fragment","cloneNode","importNode","nodeName","handleTextExpression","insertAfterNode","handleAttributeExpressions","adoptNode","upgrade","policy","trustedTypes","createPolicy","createHTML","commentMarker","html","isCommentBinding","commentOpen","lastIndexOf","attributeMatch","substr","getHTML","innerHTML","isPrimitive","isIterable","AttributeCommitter","dirty","_createPart","v","text","_getValue","committer","directive","__pendingValue","startNode","endNode","ref","__insert","__commitText","__commitTemplateResult","Node","__commitNode","__commitIterable","clear","valueAsString","templateFactory","_clone","itemParts","itemPart","appendIntoPart","insertAfterPart","PropertyCommitter","super","single","PropertyPart","eventOptionsSupported","removeEventListener","eventName","eventContext","__boundHandleEvent","handleEvent","newListener","oldListener","shouldRemoveListener","capture","once","passive","shouldAddListener","__options","getOptions","event","templateCache","templateCaches","stringsArray","keyString","Map","set","getTemplateElement","defaultTemplateProcessor","prefix","getTemplateCacheKey","scopeName","compatibleShadyCSSVersion","ShadyCSS","prepareTemplateDom","console","warn","shadyTemplateFactory","cacheKey","TEMPLATE_TYPES","shadyRenderSet","Set","prepareTemplateStyles","renderedDOM","add","templateElement","styles","querySelectorAll","condensedStyle","textContent","templates","removeStylesFromLitTemplates","refNode","insertCount","walkerIndex","insertNodeIntoTemplate","nativeShadow","removes","JSCompiler_renameProperty","prop","_obj","defaultConverter","Number","notEqual","old","defaultPropertyDeclaration","attribute","converter","reflect","finalized","UpdatingElement","initialize","finalize","_classProperties","attr","_attributeNameForProperty","_attributeToPropertyMap","superProperties","k","_ensureClassProperties","noAccessor","getPropertyDescriptor","oldValue","requestUpdateInternal","superCtor","properties","propKeys","getOwnPropertyNames","createProperty","fromAttribute","toAttribute","_updateState","_updatePromise","Promise","res","_enableUpdatingResolver","_changedProperties","_saveInstanceProperties","_v","_instanceProperties","enableUpdating","_attributeToProperty","ctor","attrValue","_propertyValueToAttribute","propName","getPropertyOptions","_propertyValueFromAttribute","shouldRequestUpdate","_valueHasChanged","_reflectingProperties","_hasRequestedUpdate","_enqueueUpdate","updateComplete","performUpdate","_applyInstanceProperties","shouldUpdate","changedProperties","_markUpdated","firstUpdated","updated","_getUpdateComplete","size","_propertyToAttribute","ElementProto","Element","msMatchesSelector","webkitMatchesSelector","supportsAdoptingStyleSheets","Document","CSSStyleSheet","constructionToken","CSSResult","safeToken","_styleSheet","replaceSync","acc","idx","textFromCSSResult","renderNotImplemented","userStyles","getStyles","addStyles","reduceRight","_styles","cssRules","rule","_getUniqueStyles","renderRoot","createRenderRoot","ShadowRoot","adoptStyles","attachShadow","adoptedStyleSheets","_needsShimAdoptedStyleSheets","ScopingShim","prepareAdoptedCssText","localName","connectedCallback","hasUpdated","styleElement","templateResult","render","hasRendered","needsScoping","host","firstScopeRender","renderContainer","createDocumentFragment","assign","appendInto","delete","iconfont","orphanMap","resolved","resolve","orphanResolveQueue","contexts","running","context","then","orphans","orphan","sendContextEvent","detail","handled","el","CustomEvent","bubbles","cancelable","composed","dispatchEvent","observeContext","addOrphan","unobserveContext","removeOrphan","initializedElements","WeakSet","Base","Component","LitElement","__wcContext","observedContexts","providedContextConfigs","providedContexts","__wcProvidedContexts","mappedProps","__wcMappedProps","config","observerMap","__wcContextObserverMap","observers","stopPropagation","targetEl","contextChangedCallback","registerProvidedContext","disconnectedCallback","shouldChange","contextName","notifyContextChange","connect","mapStateToProps","ClassName","___updateProps","oc","updatedProps","kokoro","updatedProperties","___updateStateContext","requestUpdate","LineType","SafeUri","uri","u","safe","safeUri","array","SrcUtil","same","src1","src2","TAGS_REGEXP","INFO_REGEXP","TIME_REGEXP","parseLine","line","tag","matches","parsedTags","trim","parseTags","tags","timestamps","minutes","parseFloat","seconds","replace","TIME","parseTime","INFO","INVALID","padZero","num","timestampToString","timestamp","floor","toFixed","lrcRunner","translationLrcRunner","originalLyrics","originalTranslationLyrics","parsedLyrics","parsedTranslationLyrics","Lrc","info","lyrics","lrc","offset","offsetTime","lyric","clone","clonePlainObject","ret","opts","combine","lineFormat","lines","lyricsMap","lyricsList","Runner","_currentIndex","setLrc","lrcUpdate","_offsetAlign","_sort","parseInt","isNaN","timeUpdate","_findIndex","curFrontTimestamp","NEGATIVE_INFINITY","curBackTimestamp","POSITIVE_INFINITY","getInfo","getLyrics","getLyric","curIndex","curLyric","parseLrcLyrics","lang","transLyrics","translations","startsWith","nextLyric","currentLyric","j","trans","translation","langName","currentSentence","currentSentenceStart","currentSentenceEnd","currentSentenceTranslation","nextSentence","nextSentenceTranslation","parseLyrics","pnKind","error","zh_Hans","playNow","playNext","playAll","added","addToPlaylist","banner","disconnected","noLyrics","en","using","use","locale","DesktopLyrics","drag","stopDragging","isLocked","dragging","verticalCenter","horizontalCenter","colorSchemes","colorSchemeIndex","fontSize","mobileFontSize","langAvailable","isSettingsBarShowing","shadowRoot","scrollLeft","scrollWidth","clientWidth","startDragging","notStartedYet","prev","togglePlay","nextDesktopLyricsColorScheme","nextLang","toggleDesktopLyrics","colorScheme","setLang","findIndex","e1","TouchEvent","changedTouches","cursorX","clientX","cursorY","clientY","preventDefault","define","Player","onLyricsUserScroll","dragToGoBack","stopDragToGoBack","hideLyricsIfClicked","lyricsMouseTouchDown","lastLyricsUserScrollTime","Date","now","left","top","shouldShowSmallWindow","shouldMobileShowMainWindow","mobileDefaultSide","right","documentElement","bottom","clientHeight","isDesktopLyricsShowing","desktopLyricsVerticalCenter","desktopLyricsColorSchemes","desktopLyricsColorSchemeIndex","desktopLyricsFontSize","desktopLyricsMobileFontSize","language","navigator","languages","pnKindAvailable","darkMode","played","isVolumeControlShowing","isPlaylistShowing","isLyricsShowing","isLyricsScrollAnimating","mobileLeft","desktopLyricsHorizontalCenter","shrinkToLeft","_","isMobile","scrollLyricsToCurrent","args","cover","isConnected","togglePlaylist","showVolumeTrack","closeVolumeTrack","progress","setCurrentProgress","title","artist","isCurrentSong","album","toggleMainWindow","startDragToGoBack","lyricsMouseTouchDownY","lyricsMouseTouchDownX","abs","Event","overflow","bottomSafeArea","selector","scrollTop","scrollIntoView","scrollDom","needScrollToDom","requestAnimationFrame","scroll","currentY","scrollHeight","needScrollTop","max","min","offsetTop","offsetHeight","ceil","KokoroPlayer","buf","Button","icon","disabled","Track","dirtyPlayed","rect","getBoundingClientRect","width","syncDirtyPlayed","commitDirtyPlayed","Progress","formatTime","h","fmtStr","SingleCard","hideVolumeTrack","nextSongSrc","currentSongSrc","primaryColor","secondaryColor","backgroundColor","isVolumeTrackShown","needShowPlayNext","parentElement","resizeObserver","ResizeObserver","offsetWidth","observe","disconnect","isNextSong","setTimeout","getNextSongSrc","KokoroSingleCard","PlaylistCard","songSrcList","songListIndex","isCurrentPlaylist","displayedSong","expand","isFollowingPlaylist","reverse","nextSongsSrc","identical","getSongSrcList","getSongListIndex","KokoroPlaylistCard","Provider","amd"],"mappings":"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","file":"kokoro-player.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"KokoroPlayer\"] = factory();\n\telse\n\t\troot[\"KokoroPlayer\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n","import $$observable from 'symbol-observable';\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error('It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected the listener to be a function.');\n    }\n\n    if (isDispatching) {\n      throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionDescription = actionType && \"action \\\"\" + String(actionType) + \"\\\"\" || 'an action';\n  return \"Given \" + actionDescription + \", reducer \\\"\" + key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\";\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle \" + ActionTypes.INIT + \" or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(\"bindActionCreators expected an object or a function, instead received \" + (actionCreators === null ? 'null' : typeof actionCreators) + \". \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    keys.push.apply(keys, Object.getOwnPropertySymbols(object));\n  }\n\n  if (enumerableOnly) keys = keys.filter(function (sym) {\n    return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n  });\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error('Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread2({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore };\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"@font-face {font-family: \\\"iconfont\\\";\\n  /*src: url('iconfont.eot?t=1612710375505'); !* IE9 *!*/\\n  /*src: url('iconfont.eot?t=1612710375505#iefix') format('embedded-opentype'), !* IE6-IE8 *!*/\\n  src: url('data:application/x-font-woff2;charset=utf-8;base64,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') format('woff2')/*,*/\\n  /*url('iconfont.woff?t=1612710375505') format('woff'),*/\\n  /*url('iconfont.ttf?t=1612710375505') format('truetype'), !* chrome, firefox, opera, Safari, Android, iOS 4.2+ *!*/\\n  /*url('iconfont.svg?t=1612710375505#iconfont') format('svg'); !* iOS 4.1- *!*/\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/iconfont/iconfont.css\"],\"names\":[],\"mappings\":\"AAAA,YAAY,uBAAuB;EACjC,sDAAsD;EACtD,4FAA4F;EAC5F,0wKAA0wK,CAAC,IAAI;EAC/wK,uDAAuD;EACvD,kHAAkH;EAClH,6EAA6E;AAC/E\",\"sourcesContent\":[\"@font-face {font-family: \\\"iconfont\\\";\\n  /*src: url('iconfont.eot?t=1612710375505'); !* IE9 *!*/\\n  /*src: url('iconfont.eot?t=1612710375505#iefix') format('embedded-opentype'), !* IE6-IE8 *!*/\\n  src: url('data:application/x-font-woff2;charset=utf-8;base64,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') format('woff2')/*,*/\\n  /*url('iconfont.woff?t=1612710375505') format('woff'),*/\\n  /*url('iconfont.ttf?t=1612710375505') format('truetype'), !* chrome, firefox, opera, Safari, Android, iOS 4.2+ *!*/\\n  /*url('iconfont.svg?t=1612710375505#iconfont') format('svg'); !* iOS 4.1- *!*/\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\nvar compose = require('redux').compose;\n\nexports.__esModule = true;\nexports.composeWithDevTools = (\n  typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ :\n    function() {\n      if (arguments.length === 0) return undefined;\n      if (typeof arguments[0] === 'object') return compose;\n      return compose.apply(null, arguments);\n    }\n);\n\nexports.devToolsEnhancer = (\n  typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION__ ?\n    window.__REDUX_DEVTOOLS_EXTENSION__ :\n    function() { return function(noop) { return noop; } }\n);\n","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nmodule.exports = function cssWithMappingToString(item) {\n  var _item = _slicedToArray(item, 4),\n      content = _item[1],\n      cssMapping = _item[3];\n\n  if (typeof btoa === 'function') {\n    // eslint-disable-next-line no-undef\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n};","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import api from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../node_modules/css-loader/dist/cjs.js!./iconfont.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","function createThunkMiddleware(extraArgument) {\n  return function (_ref) {\n    var dispatch = _ref.dispatch,\n        getState = _ref.getState;\n    return function (next) {\n      return function (action) {\n        if (typeof action === 'function') {\n          return action(dispatch, getState, extraArgument);\n        }\n\n        return next(action);\n      };\n    };\n  };\n}\n\nvar thunk = createThunkMiddleware();\nthunk.withExtraArgument = createThunkMiddleware;\n\nexport default thunk;","/*!\n * kokoro - Headless music player written with redux.\n * --------\n * @version 0.1.0-beta.10\n * @homepage: https://github.com/cool2645/kokoro#readme\n * @license MIT\n * @author rikakomoe\n *\n */\nimport { combineReducers, createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function () {};\n\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function () {\n      it = o[Symbol.iterator]();\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (e) {\n      didErr = true;\n      err = e;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nvar version = \"0.1.0-beta.10\";\n\nvar Song = /*#__PURE__*/function () {\n  function Song() {\n    _classCallCheck(this, Song);\n  }\n\n  _createClass(Song, null, [{\n    key: \"id\",\n    value: function id(song) {\n      var src = song.src instanceof Array ? encodeURI(song.src[0]) : encodeURI(song.src);\n      var good = decodeURI(src);\n\n      while (good !== src) {\n        src = good;\n        good = decodeURI(src);\n      }\n\n      return encodeURI(good);\n    }\n  }]);\n\n  return Song;\n}();\nvar TimeRanges = /*#__PURE__*/function () {\n  function TimeRanges() {\n    _classCallCheck(this, TimeRanges);\n  }\n\n  _createClass(TimeRanges, null, [{\n    key: \"toArray\",\n    value: function toArray(timeRanges) {\n      var length = timeRanges.length;\n      var arr = [];\n\n      for (var i = 0; i < length; i++) {\n        arr.push([timeRanges.start(i), timeRanges.end(i)]);\n      }\n\n      return arr;\n    }\n  }]);\n\n  return TimeRanges;\n}();\nfunction cloneDeep(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n\nvar helpers = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  Song: Song,\n  TimeRanges: TimeRanges,\n  cloneDeep: cloneDeep\n});\n\nvar SET_VOLUME = 'SET_VOLUME';\nvar SET_SPEED = 'SET_SPEED';\nfunction setVolume(volume) {\n  return {\n    type: SET_VOLUME,\n    payload: volume\n  };\n}\nfunction setSpeed(speedRate) {\n  return {\n    type: SET_SPEED,\n    payload: speedRate\n  };\n}\n\nvar PAUSE = 'PAUSE';\nvar PLAY = 'PLAY';\nvar SET_CURRENT_TIME = 'SET_CURRENT_TIME';\nvar SET_TOTAL_TIME = 'SET_TOTAL_TIME';\nvar SET_BUFFERED_TIME = 'SET_BUFFERED_TIME';\nvar SET_TIMES = 'SET_TIMES';\nvar NEXT_SRC = 'NEXT_SRC';\nvar UPDATE_SONG = 'UPDATE_SONG';\nfunction pause() {\n  return {\n    type: PAUSE\n  };\n}\nfunction play() {\n  return {\n    type: PLAY\n  };\n}\nfunction setCurrentTime(time) {\n  return {\n    type: SET_CURRENT_TIME,\n    payload: time\n  };\n}\nfunction setTotalTime(time) {\n  return {\n    type: SET_TOTAL_TIME,\n    payload: time\n  };\n}\nfunction setBufferedTime(buffered) {\n  return {\n    type: SET_BUFFERED_TIME,\n    payload: buffered\n  };\n}\nfunction setTimes(times) {\n  return {\n    type: SET_TIMES,\n    payload: times\n  };\n}\nfunction nextSrc() {\n  return {\n    type: NEXT_SRC\n  };\n}\nfunction updateSong(song) {\n  return {\n    type: UPDATE_SONG,\n    payload: song\n  };\n}\n\nvar PLAY_ORDER_LOOP = 'PLAY_ORDER_LOOP';\nvar PLAY_ORDER_SINGLE = 'PLAY_ORDER_SINGLE';\nvar PLAY_ORDER_SHUFFLE = 'PLAY_ORDER_SHUFFLE';\nvar PLAY_ORDER = [PLAY_ORDER_LOOP, PLAY_ORDER_SHUFFLE, PLAY_ORDER_SINGLE];\n\nvar SET_PLAYLIST = 'SET_PLAYLIST';\nvar CLEAR_PLAYLIST = 'CLEAR_PLAYLIST';\n\nfunction shuffle(original) {\n  var shuffled = _toConsumableArray(original);\n\n  shuffled.sort(function () {\n    return Math.random() - 0.5;\n  });\n  return shuffled;\n}\n\nfunction swap(original) {\n  var swapped = _toConsumableArray(original);\n\n  var a = swapped[0];\n  swapped[0] = swapped[swapped.length - 1];\n  swapped[swapped.length - 1] = a;\n  return swapped;\n}\n\nfunction createSetPlaylistAction(payload) {\n  return {\n    type: SET_PLAYLIST,\n    payload: payload\n  };\n}\n\nfunction pushHistory(historyList, song) {\n  if (!song) return historyList;\n\n  var newHistoryList = _toConsumableArray(historyList);\n\n  var historyIndex = historyList.indexOf(song);\n\n  if (historyIndex !== -1) {\n    newHistoryList.splice(historyIndex, 1);\n  }\n\n  newHistoryList.unshift(song);\n  return newHistoryList;\n}\n\nfunction setPlayOrder(playOrder) {\n  return function (dispatch, getState) {\n    var _getState = getState(),\n        playlist = _getState.playlist;\n\n    var newPlaylistState = _objectSpread2(_objectSpread2({}, playlist), {}, {\n      playOrder: playOrder\n    });\n\n    if (playOrder === PLAY_ORDER_SHUFFLE) {\n      var shuffledList = shuffle(playlist.orderedList);\n      var shuffledIndexOfPlaying = shuffledList.indexOf(playlist.playing);\n      newPlaylistState.shuffledList = shuffledList;\n      newPlaylistState.shuffledIndexOfPlaying = shuffledIndexOfPlaying;\n    }\n\n    dispatch(createSetPlaylistAction(newPlaylistState));\n  };\n}\nfunction nextPlayOrder() {\n  return function (dispatch, getState) {\n    var _getState2 = getState(),\n        playlist = _getState2.playlist;\n\n    var currentPlayOrder = playlist.playOrder;\n    var currentPlayOrderIndex = PLAY_ORDER.indexOf(currentPlayOrder);\n    var nextPlayOrderIndex = currentPlayOrderIndex + 1 >= PLAY_ORDER.length ? 0 : currentPlayOrderIndex + 1;\n    var nextPlayOrder = PLAY_ORDER[nextPlayOrderIndex];\n    setPlayOrder(nextPlayOrder)(dispatch, getState);\n  };\n}\nfunction next() {\n  return function (dispatch, getState) {\n    var _getState3 = getState(),\n        playlist = _getState3.playlist;\n\n    var newPlaylistState = _objectSpread2({}, playlist);\n\n    if (playlist.orderedList.length) {\n      if (playlist.playOrder === PLAY_ORDER_SHUFFLE) {\n        if (playlist.shuffledIndexOfPlaying + 1 === playlist.shuffledList.length) {\n          var _newPlaylistState$shu;\n\n          var newShuffledList = shuffle(playlist.orderedList);\n\n          if (newShuffledList[0] === playlist.shuffledList[playlist.shuffledList.length - 1]) {\n            newShuffledList = swap(newShuffledList);\n          }\n\n          (_newPlaylistState$shu = newPlaylistState.shuffledList).push.apply(_newPlaylistState$shu, _toConsumableArray(newShuffledList));\n        }\n\n        newPlaylistState.shuffledIndexOfPlaying++;\n        newPlaylistState.playing = newPlaylistState.shuffledList[newPlaylistState.shuffledIndexOfPlaying];\n        newPlaylistState.orderedIndexOfPlaying = playlist.orderedList.indexOf(newPlaylistState.playing);\n      } else {\n        if (playlist.orderedIndexOfPlaying + 1 >= playlist.orderedList.length) {\n          newPlaylistState.orderedIndexOfPlaying = 0;\n        } else {\n          newPlaylistState.orderedIndexOfPlaying++;\n        }\n\n        newPlaylistState.playing = newPlaylistState.orderedList[newPlaylistState.orderedIndexOfPlaying];\n      }\n\n      newPlaylistState.historyList = pushHistory(playlist.historyList, newPlaylistState.playing);\n    }\n\n    dispatch(createSetPlaylistAction(newPlaylistState));\n  };\n}\nfunction autoNext() {\n  return function (dispatch, getState) {\n    var _getState4 = getState(),\n        playlist = _getState4.playlist;\n\n    if (playlist.playOrder === PLAY_ORDER_SINGLE) {\n      dispatch(createSetPlaylistAction(playlist));\n    } else {\n      next()(dispatch, getState);\n    }\n  };\n}\nfunction previous() {\n  return function (dispatch, getState) {\n    var _getState5 = getState(),\n        playlist = _getState5.playlist;\n\n    var newPlaylistState = _objectSpread2({}, playlist);\n\n    if (playlist.orderedList.length) {\n      if (playlist.playOrder === PLAY_ORDER_SHUFFLE) {\n        if (playlist.shuffledIndexOfPlaying - 1 === -1) {\n          var _newPlaylistState$shu2;\n\n          var newShuffledList = shuffle(playlist.orderedList);\n\n          if (newShuffledList[newShuffledList.length - 1] === playlist.shuffledList[0]) {\n            newShuffledList = swap(newShuffledList);\n          }\n\n          (_newPlaylistState$shu2 = newPlaylistState.shuffledList).unshift.apply(_newPlaylistState$shu2, _toConsumableArray(newShuffledList));\n\n          newPlaylistState.shuffledIndexOfPlaying += newShuffledList.length;\n        }\n\n        newPlaylistState.shuffledIndexOfPlaying--;\n        newPlaylistState.playing = newPlaylistState.shuffledList[newPlaylistState.shuffledIndexOfPlaying];\n        newPlaylistState.orderedIndexOfPlaying = playlist.orderedList.indexOf(newPlaylistState.playing);\n      } else {\n        if (playlist.orderedIndexOfPlaying - 1 === -1) {\n          newPlaylistState.orderedIndexOfPlaying = playlist.orderedList.length - 1;\n        } else {\n          newPlaylistState.orderedIndexOfPlaying--;\n        }\n\n        newPlaylistState.playing = newPlaylistState.orderedList[newPlaylistState.orderedIndexOfPlaying];\n      }\n\n      newPlaylistState.historyList = pushHistory(playlist.historyList, newPlaylistState.playing);\n    }\n\n    dispatch(createSetPlaylistAction(newPlaylistState));\n  };\n}\nfunction setCurrentSong(song) {\n  return function (dispatch, getState) {\n    var _getState6 = getState(),\n        playlist = _getState6.playlist;\n\n    var newPlaylistState = _objectSpread2({}, playlist);\n\n    var songId;\n\n    if (typeof song === 'number') {\n      songId = playlist.orderedList[song];\n    } else if (typeof song === 'string') {\n      songId = song;\n    } else {\n      songId = Song.id(song);\n      newPlaylistState.songs[songId] = song;\n\n      if (playlist.orderedList.indexOf(songId) === -1) {\n        newPlaylistState.orderedList.splice(newPlaylistState.orderedIndexOfPlaying + 1, 0, songId);\n      }\n    }\n\n    newPlaylistState.playing = songId;\n    newPlaylistState.orderedIndexOfPlaying = playlist.orderedList.indexOf(songId);\n\n    if (playlist.playOrder === PLAY_ORDER_SHUFFLE) {\n      newPlaylistState.shuffledList = shuffle(newPlaylistState.orderedList);\n      newPlaylistState.shuffledIndexOfPlaying = newPlaylistState.shuffledList.indexOf(songId);\n    }\n\n    newPlaylistState.historyList = pushHistory(playlist.historyList, newPlaylistState.playing);\n    dispatch(createSetPlaylistAction(newPlaylistState));\n  };\n}\nfunction setNextSong(song) {\n  return function (dispatch, getState) {\n    var _getState7 = getState(),\n        playlist = _getState7.playlist;\n\n    var newPlaylistState = _objectSpread2({}, playlist);\n\n    var songId;\n\n    if (typeof song === 'number') {\n      songId = playlist.orderedList[song];\n    } else if (typeof song === 'string') {\n      songId = song;\n    } else {\n      songId = Song.id(song);\n      newPlaylistState.songs[songId] = song;\n    }\n\n    if (songId !== playlist.playing) {\n      var orderedIndexReduction = playlist.orderedList.slice(0, playlist.orderedIndexOfPlaying).filter(function (item) {\n        return item === songId;\n      }).length;\n      newPlaylistState.orderedList = playlist.orderedList.filter(function (item) {\n        return item !== songId;\n      });\n      newPlaylistState.orderedIndexOfPlaying -= orderedIndexReduction;\n      newPlaylistState.orderedList.splice(newPlaylistState.orderedIndexOfPlaying + 1, 0, songId);\n\n      if (playlist.playOrder === PLAY_ORDER_SHUFFLE && !(playlist.shuffledIndexOfPlaying + 1 < playlist.shuffledList.length && playlist.shuffledList[playlist.shuffledIndexOfPlaying + 1] === songId)) {\n        newPlaylistState.shuffledList.splice(playlist.shuffledIndexOfPlaying + 1, 0, songId);\n      }\n\n      if (newPlaylistState.orderedList.length === 1) {\n        newPlaylistState.playing = newPlaylistState.orderedList[0];\n      }\n    }\n\n    dispatch(createSetPlaylistAction(newPlaylistState));\n  };\n}\nfunction removeSong(song) {\n  return function (dispatch, getState) {\n    var _getState8 = getState(),\n        playlist = _getState8.playlist;\n\n    var newPlaylistState = _objectSpread2({}, playlist);\n\n    var songId;\n\n    if (typeof song === 'number') {\n      songId = playlist.orderedList[song];\n    } else if (typeof song === 'string') {\n      songId = song;\n    } else {\n      songId = Song.id(song);\n    }\n\n    var orderedIndexReduction = playlist.orderedList.slice(0, playlist.orderedIndexOfPlaying).filter(function (item) {\n      return item === songId;\n    }).length;\n    newPlaylistState.orderedList = playlist.orderedList.filter(function (item) {\n      return item !== songId;\n    });\n\n    if (playlist.playOrder === PLAY_ORDER_SHUFFLE) {\n      var shuffledIndexReduction = playlist.shuffledList.slice(0, playlist.shuffledIndexOfPlaying).filter(function (item) {\n        return item === songId;\n      }).length;\n      newPlaylistState.shuffledList = playlist.shuffledList.filter(function (item) {\n        return item !== songId;\n      });\n      newPlaylistState.shuffledIndexOfPlaying -= shuffledIndexReduction;\n\n      if (newPlaylistState.shuffledIndexOfPlaying >= newPlaylistState.shuffledList.length) {\n        newPlaylistState.shuffledIndexOfPlaying = newPlaylistState.shuffledList.length - 1 > 0 ? newPlaylistState.shuffledList.length - 1 : 0;\n      }\n\n      newPlaylistState.orderedIndexOfPlaying = newPlaylistState.shuffledList.length - 1 > 0 ? newPlaylistState.orderedList.indexOf(newPlaylistState.shuffledList[newPlaylistState.shuffledIndexOfPlaying]) : 0;\n    } else {\n      newPlaylistState.orderedIndexOfPlaying -= orderedIndexReduction;\n\n      if (newPlaylistState.orderedIndexOfPlaying >= newPlaylistState.orderedList.length) {\n        newPlaylistState.orderedIndexOfPlaying = newPlaylistState.orderedList.length - 1 > 0 ? newPlaylistState.orderedList.length - 1 : 0;\n      }\n    }\n\n    newPlaylistState.playing = newPlaylistState.orderedList.length ? newPlaylistState.orderedList[newPlaylistState.orderedIndexOfPlaying] : null;\n    newPlaylistState.historyList = pushHistory(playlist.historyList, newPlaylistState.playing);\n    dispatch(createSetPlaylistAction(newPlaylistState));\n  };\n}\nfunction setPlaylist(songs, currentSong, playOrder) {\n  return function (dispatch, getState) {\n    var _getState9 = getState(),\n        playlist = _getState9.playlist;\n\n    var newPlaylistState = _objectSpread2(_objectSpread2({}, playlist), {}, {\n      songs: {},\n      orderedList: [],\n      orderedIndexOfPlaying: null,\n      shuffledList: [],\n      shuffledIndexOfPlaying: null,\n      playing: null,\n      playOrder: playOrder || playlist.playOrder\n    });\n\n    var _iterator = _createForOfIteratorHelper(songs),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var song = _step.value;\n\n        var _songId = Song.id(song);\n\n        newPlaylistState.songs[_songId] = song;\n        newPlaylistState.orderedList.push(_songId);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    if (newPlaylistState.orderedList.length) {\n      var songId;\n      var currentSongValid = false;\n\n      if (typeof currentSong === 'number') {\n        songId = newPlaylistState.orderedList[currentSong];\n        currentSongValid = true;\n      } else if (typeof currentSong === 'string') {\n        songId = currentSong;\n        currentSongValid = true;\n      } else if (currentSong) {\n        songId = Song.id(currentSong);\n        currentSongValid = true;\n      }\n\n      if (currentSongValid) {\n        newPlaylistState.orderedIndexOfPlaying = newPlaylistState.orderedList.indexOf(songId);\n\n        if (newPlaylistState.playOrder === PLAY_ORDER_SHUFFLE) {\n          newPlaylistState.shuffledList = shuffle(newPlaylistState.orderedList);\n          newPlaylistState.shuffledIndexOfPlaying = newPlaylistState.shuffledList.indexOf(songId);\n        }\n\n        newPlaylistState.playing = songId;\n      } else {\n        if (newPlaylistState.playOrder === PLAY_ORDER_SHUFFLE) {\n          newPlaylistState.shuffledList = shuffle(newPlaylistState.orderedList);\n          newPlaylistState.shuffledIndexOfPlaying = 0;\n          newPlaylistState.playing = newPlaylistState.shuffledList[newPlaylistState.shuffledIndexOfPlaying];\n          newPlaylistState.orderedIndexOfPlaying = newPlaylistState.orderedList.indexOf(newPlaylistState.playing);\n        } else {\n          newPlaylistState.orderedIndexOfPlaying = 0;\n          newPlaylistState.playing = newPlaylistState.orderedList[newPlaylistState.orderedIndexOfPlaying];\n        }\n      }\n\n      newPlaylistState.historyList = pushHistory(playlist.historyList, newPlaylistState.playing);\n    }\n\n    dispatch(createSetPlaylistAction(newPlaylistState));\n  };\n}\nfunction clearPlaylist() {\n  return {\n    type: CLEAR_PLAYLIST\n  };\n}\n\n\n\nvar index = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  SET_VOLUME: SET_VOLUME,\n  SET_SPEED: SET_SPEED,\n  setVolume: setVolume,\n  setSpeed: setSpeed,\n  PAUSE: PAUSE,\n  PLAY: PLAY,\n  SET_CURRENT_TIME: SET_CURRENT_TIME,\n  SET_TOTAL_TIME: SET_TOTAL_TIME,\n  SET_BUFFERED_TIME: SET_BUFFERED_TIME,\n  SET_TIMES: SET_TIMES,\n  NEXT_SRC: NEXT_SRC,\n  UPDATE_SONG: UPDATE_SONG,\n  pause: pause,\n  play: play,\n  setCurrentTime: setCurrentTime,\n  setTotalTime: setTotalTime,\n  setBufferedTime: setBufferedTime,\n  setTimes: setTimes,\n  nextSrc: nextSrc,\n  updateSong: updateSong,\n  SET_PLAYLIST: SET_PLAYLIST,\n  CLEAR_PLAYLIST: CLEAR_PLAYLIST,\n  setPlayOrder: setPlayOrder,\n  nextPlayOrder: nextPlayOrder,\n  next: next,\n  autoNext: autoNext,\n  previous: previous,\n  setCurrentSong: setCurrentSong,\n  setNextSong: setNextSong,\n  removeSong: removeSong,\n  setPlaylist: setPlaylist,\n  clearPlaylist: clearPlaylist\n});\n\nvar initialState = {\n  volume: 1,\n  speed: 1\n};\nfunction player () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case SET_VOLUME:\n      return _objectSpread2(_objectSpread2({}, state), {}, {\n        volume: action.payload\n      });\n\n    case SET_SPEED:\n      return _objectSpread2(_objectSpread2({}, state), {}, {\n        speed: action.payload\n      });\n\n    default:\n      return state;\n  }\n}\n\nvar initialState$1 = {\n  songs: {},\n  orderedList: [],\n  orderedIndexOfPlaying: null,\n  shuffledList: [],\n  shuffledIndexOfPlaying: null,\n  historyList: [],\n  playing: null,\n  playOrder: PLAY_ORDER_LOOP\n};\nfunction playlist () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState$1;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case SET_PLAYLIST:\n      return cloneDeep(action.payload);\n\n    case UPDATE_SONG:\n      {\n        var newSong = cloneDeep(action.payload);\n        var newSongs = cloneDeep(state.songs);\n        newSongs[Song.id(newSong)] = newSong;\n        return _objectSpread2(_objectSpread2({}, cloneDeep(state)), {}, {\n          songs: newSongs\n        });\n      }\n\n    case CLEAR_PLAYLIST:\n      return _objectSpread2(_objectSpread2({}, cloneDeep(initialState$1)), {}, {\n        playOrder: state.playOrder\n      });\n\n    default:\n      return state;\n  }\n}\n\nvar initialState$2 = {\n  src: '',\n  srcIndex: 0,\n  song: null,\n  currentTime: 0,\n  totalTime: 0,\n  bufferedTime: null,\n  paused: true\n};\nfunction playing () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState$2;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case CLEAR_PLAYLIST:\n      return cloneDeep(initialState$2);\n\n    case SET_PLAYLIST:\n      return _objectSpread2(_objectSpread2({}, state), {}, {\n        song: action.payload.playing ? cloneDeep(action.payload.songs[action.payload.playing]) : null,\n        src: action.payload.playing ? action.payload.songs[action.payload.playing].src instanceof Array ? action.payload.songs[action.payload.playing].src[0] : action.payload.songs[action.payload.playing].src : '',\n        srcIndex: 0\n      });\n\n    case UPDATE_SONG:\n      return _objectSpread2(_objectSpread2({}, state), {}, {\n        song: state.song ? Song.id(state.song) === Song.id(action.payload) ? cloneDeep(action.payload) : cloneDeep(state.song) : null\n      });\n\n    case NEXT_SRC:\n      {\n        var srcId = state.srcIndex + 1;\n        return _objectSpread2(_objectSpread2({}, cloneDeep(state)), {}, {\n          srcIndex: srcId,\n          src: state.song.src[srcId]\n        });\n      }\n\n    case SET_CURRENT_TIME:\n      return _objectSpread2(_objectSpread2({}, cloneDeep(state)), {}, {\n        currentTime: action.payload\n      });\n\n    case SET_TOTAL_TIME:\n      return _objectSpread2(_objectSpread2({}, cloneDeep(state)), {}, {\n        totalTime: action.payload\n      });\n\n    case SET_BUFFERED_TIME:\n      return _objectSpread2(_objectSpread2({}, cloneDeep(state)), {}, {\n        bufferedTime: cloneDeep(action.payload)\n      });\n\n    case SET_TIMES:\n      return _objectSpread2(_objectSpread2({}, cloneDeep(state)), {}, {\n        currentTime: action.payload.currentTime,\n        totalTime: action.payload.totalTime,\n        bufferedTime: cloneDeep(action.payload.bufferedTime)\n      });\n\n    case PAUSE:\n      return _objectSpread2(_objectSpread2({}, cloneDeep(state)), {}, {\n        paused: true\n      });\n\n    case PLAY:\n      return _objectSpread2(_objectSpread2({}, cloneDeep(state)), {}, {\n        paused: false\n      });\n\n    default:\n      return state;\n  }\n}\n\nvar reducers = combineReducers({\n  player: player,\n  playing: playing,\n  playlist: playlist\n});\nfunction saveState(state) {\n  var exportedState = cloneDeep(state);\n  delete exportedState.playing;\n  return exportedState;\n}\nfunction loadState(state) {\n  var importedState = cloneDeep(state);\n  importedState.playing = initialState$2;\n  importedState.playing.song = importedState.playlist.playing ? importedState.playlist.songs[importedState.playlist.playing] : null;\n  importedState.playing.src = importedState.playing.song ? importedState.playing.song.src instanceof Array ? importedState.playing.song.src[0] : importedState.playing.song.src : null;\n  return importedState;\n}\n\nvar Kokoro = /*#__PURE__*/function () {\n  _createClass(Kokoro, [{\n    key: \"ref\",\n    get: function get() {\n      return this._ref;\n    }\n  }, {\n    key: \"store\",\n    get: function get() {\n      return this._store;\n    }\n  }, {\n    key: \"_dispatch\",\n    get: function get() {\n      return this._store.dispatch;\n    }\n  }, {\n    key: \"getState\",\n    get: function get() {\n      return this._store.getState;\n    }\n  }, {\n    key: \"destroyed\",\n    get: function get() {\n      return this._destroyed || false;\n    }\n  }, {\n    key: \"version\",\n    get: function get() {\n      return version;\n    }\n  }]);\n\n  function Kokoro(initializeState) {\n    var _this = this;\n\n    _classCallCheck(this, Kokoro);\n\n    this._store = initializeState ? createStore(reducers, loadState(initializeState), composeWithDevTools(applyMiddleware(thunk))) : createStore(reducers, composeWithDevTools(applyMiddleware(thunk)));\n    this._ref = new window.Audio();\n\n    this._ref.addEventListener('canplay', function () {\n      _this._dispatch(setBufferedTime(TimeRanges.toArray(_this._ref.buffered)));\n    });\n\n    this._ref.addEventListener('canplaythrough', function () {\n      _this._dispatch(setBufferedTime(TimeRanges.toArray(_this._ref.buffered)));\n    });\n\n    this._ref.addEventListener('durationchange', function () {\n      _this._dispatch(setTotalTime(_this._ref.duration));\n    });\n\n    this._ref.addEventListener('ended', function () {\n      _this._dispatch(autoNext());\n\n      _this._onSrcProbablyChanged();\n\n      _this._triggerPlay();\n    });\n\n    this._ref.addEventListener('error', function () {\n      var state = _this.getState();\n\n      if (state.playing.song === null) return;\n\n      if (state.playing.song.src instanceof Array && state.playing.srcIndex + 1 < state.playing.song.src.length) {\n        _this._dispatch(nextSrc());\n      } else {\n        _this._dispatch(autoNext());\n      }\n\n      _this._onSrcProbablyChanged();\n\n      if (!state.playing.paused) _this._triggerPlay();\n    });\n\n    this._ref.addEventListener('loadedmetadata', function () {\n      _this._dispatch(setTotalTime(_this._ref.duration));\n    });\n\n    this._ref.addEventListener('pause', function () {\n      _this._dispatch(pause());\n    });\n\n    this._ref.addEventListener('play', function () {\n      _this._dispatch(play());\n    });\n\n    this._ref.addEventListener('progress', function () {\n      _this._dispatch(setBufferedTime(TimeRanges.toArray(_this._ref.buffered)));\n    });\n\n    this._ref.addEventListener('ratechange', function () {\n      _this._dispatch(setSpeed(_this._ref.playbackRate));\n    });\n\n    this._ref.addEventListener('timeupdate', function () {\n      _this._dispatch(setTimes({\n        currentTime: _this._ref.currentTime,\n        totalTime: _this._ref.duration,\n        bufferedTime: TimeRanges.toArray(_this._ref.buffered)\n      }));\n    });\n\n    this._ref.addEventListener('volumechange', function () {\n      if (_this._ref.muted) _this._dispatch(setVolume(0));else _this._dispatch(setVolume(_this._ref.volume));\n    });\n\n    this._listeners = [];\n  }\n\n  _createClass(Kokoro, [{\n    key: \"destroy\",\n    value: function destroy() {\n      this._destroyed = true;\n\n      var _iterator = _createForOfIteratorHelper(this._listeners),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var item = _step.value;\n          item.unsub();\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      this._listeners = [];\n      this.unmount();\n\n      this._ref.removeAttribute('src');\n\n      this._ref.load();\n    }\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(listener) {\n      var _this2 = this;\n\n      var o = this._listeners.find(function (item) {\n        return item.listener === listener;\n      });\n\n      if (o) {\n        return o.unsub;\n      }\n\n      var unsub = this._store.subscribe(function () {\n        return listener(_this2.getState());\n      });\n\n      this._listeners.push({\n        listener: listener,\n        unsub: unsub\n      });\n\n      return unsub;\n    }\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe(listener) {\n      var o = this._listeners.find(function (item) {\n        return item.listener === listener;\n      });\n\n      if (o) {\n        o.unsub();\n        this._listeners = this._listeners.filter(function (item) {\n          return item.listener !== listener;\n        });\n      }\n    }\n  }, {\n    key: \"dumpState\",\n    value: function dumpState() {\n      return saveState(this.getState());\n    }\n  }, {\n    key: \"mount\",\n    value: function mount(parentNode, id) {\n      if (typeof parentNode === 'string' || id) {\n        this._ref.id = typeof parentNode === 'string' ? parentNode : id;\n      }\n\n      var parent = parentNode instanceof window.HTMLElement ? parentNode : document.body;\n      parent.appendChild(this._ref);\n    }\n  }, {\n    key: \"unmount\",\n    value: function unmount() {\n      this._ref.remove();\n    }\n  }, {\n    key: \"_onSrcProbablyChanged\",\n    value: function _onSrcProbablyChanged() {\n      var state = this.getState();\n\n      if (Song.id(state.playing) !== Song.id(this._ref)) {\n        if (state.playing.src) this._ref.src = state.playing.src;else {\n          this._ref.removeAttribute('src');\n\n          this._ref.load();\n        }\n      }\n    }\n  }, {\n    key: \"_triggerPlay\",\n    value: function _triggerPlay() {\n      this._ref.currentTime = 0;\n\n      this._ref.play();\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this._ref.pause();\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      this._ref.play();\n    }\n  }, {\n    key: \"togglePlay\",\n    value: function togglePlay() {\n      var state = this.getState();\n\n      if (state.playing.paused) {\n        this._ref.play();\n      } else this._ref.pause();\n    }\n  }, {\n    key: \"setCurrentTime\",\n    value: function setCurrentTime$1(time) {\n      this._ref.currentTime = time;\n\n      this._dispatch(setCurrentTime(time));\n    }\n  }, {\n    key: \"next\",\n    value: function next$1() {\n      this._dispatch(next());\n\n      this._onSrcProbablyChanged();\n\n      this._triggerPlay();\n    }\n  }, {\n    key: \"previous\",\n    value: function previous$1() {\n      this._dispatch(previous());\n\n      this._onSrcProbablyChanged();\n\n      this._triggerPlay();\n    }\n  }, {\n    key: \"setPlayOrder\",\n    value: function setPlayOrder$1(playOrder) {\n      this._dispatch(setPlayOrder(playOrder));\n    }\n  }, {\n    key: \"nextPlayOrder\",\n    value: function nextPlayOrder$1() {\n      this._dispatch(nextPlayOrder());\n    }\n  }, {\n    key: \"setCurrentSong\",\n    value: function setCurrentSong$1(song) {\n      this._dispatch(setCurrentSong(song));\n\n      this._onSrcProbablyChanged();\n\n      this._triggerPlay();\n    }\n  }, {\n    key: \"setNextSong\",\n    value: function setNextSong$1(song) {\n      this._dispatch(setNextSong(song));\n\n      this._onSrcProbablyChanged();\n    }\n  }, {\n    key: \"removeSong\",\n    value: function removeSong$1(song) {\n      this._dispatch(removeSong(song));\n\n      this._onSrcProbablyChanged();\n    }\n  }, {\n    key: \"setPlaylist\",\n    value: function setPlaylist$1(songs, currentSong, playOrder) {\n      this._dispatch(setPlaylist(songs, currentSong, playOrder));\n\n      this._onSrcProbablyChanged();\n    }\n  }, {\n    key: \"clearPlaylist\",\n    value: function clearPlaylist$1() {\n      this._dispatch(clearPlaylist());\n\n      this._onSrcProbablyChanged();\n    }\n  }, {\n    key: \"updateSong\",\n    value: function updateSong$1(song) {\n      this._dispatch(updateSong(song));\n    }\n  }, {\n    key: \"setVolume\",\n    value: function setVolume$1(volume) {\n      this._dispatch(setVolume(volume));\n\n      this._ref.volume = volume;\n    }\n  }, {\n    key: \"setSpeed\",\n    value: function setSpeed$1(speedRate) {\n      this._dispatch(setSpeed(speedRate));\n\n      this._ref.playbackRate = speedRate;\n    }\n  }]);\n\n  return Kokoro;\n}();\n\nexport default Kokoro;\nexport { Kokoro, PLAY_ORDER, PLAY_ORDER_LOOP, PLAY_ORDER_SHUFFLE, PLAY_ORDER_SINGLE, index as actions, helpers };\n//# sourceMappingURL=kokoro.esm.js.map\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * True if the custom elements polyfill is in use.\n */\nexport const isCEPolyfill = typeof window !== 'undefined' &&\n    window.customElements != null &&\n    window.customElements.polyfillWrapFlushCallback !==\n        undefined;\n/**\n * Reparents nodes, starting from `start` (inclusive) to `end` (exclusive),\n * into another container (could be the same container), before `before`. If\n * `before` is null, it appends the nodes to the container.\n */\nexport const reparentNodes = (container, start, end = null, before = null) => {\n    while (start !== end) {\n        const n = start.nextSibling;\n        container.insertBefore(start, before);\n        start = n;\n    }\n};\n/**\n * Removes nodes, starting from `start` (inclusive) to `end` (exclusive), from\n * `container`.\n */\nexport const removeNodes = (container, start, end = null) => {\n    while (start !== end) {\n        const n = start.nextSibling;\n        container.removeChild(start);\n        start = n;\n    }\n};\n//# sourceMappingURL=dom.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * An expression marker with embedded unique key to avoid collision with\n * possible text in templates.\n */\nexport const marker = `{{lit-${String(Math.random()).slice(2)}}}`;\n/**\n * An expression marker used text-positions, multi-binding attributes, and\n * attributes with markup-like text values.\n */\nexport const nodeMarker = `<!--${marker}-->`;\nexport const markerRegex = new RegExp(`${marker}|${nodeMarker}`);\n/**\n * Suffix appended to all bound attribute names.\n */\nexport const boundAttributeSuffix = '$lit$';\n/**\n * An updatable Template that tracks the location of dynamic parts.\n */\nexport class Template {\n    constructor(result, element) {\n        this.parts = [];\n        this.element = element;\n        const nodesToRemove = [];\n        const stack = [];\n        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n        const walker = document.createTreeWalker(element.content, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);\n        // Keeps track of the last index associated with a part. We try to delete\n        // unnecessary nodes, but we never want to associate two different parts\n        // to the same index. They must have a constant node between.\n        let lastPartIndex = 0;\n        let index = -1;\n        let partIndex = 0;\n        const { strings, values: { length } } = result;\n        while (partIndex < length) {\n            const node = walker.nextNode();\n            if (node === null) {\n                // We've exhausted the content inside a nested template element.\n                // Because we still have parts (the outer for-loop), we know:\n                // - There is a template in the stack\n                // - The walker will find a nextNode outside the template\n                walker.currentNode = stack.pop();\n                continue;\n            }\n            index++;\n            if (node.nodeType === 1 /* Node.ELEMENT_NODE */) {\n                if (node.hasAttributes()) {\n                    const attributes = node.attributes;\n                    const { length } = attributes;\n                    // Per\n                    // https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap,\n                    // attributes are not guaranteed to be returned in document order.\n                    // In particular, Edge/IE can return them out of order, so we cannot\n                    // assume a correspondence between part index and attribute index.\n                    let count = 0;\n                    for (let i = 0; i < length; i++) {\n                        if (endsWith(attributes[i].name, boundAttributeSuffix)) {\n                            count++;\n                        }\n                    }\n                    while (count-- > 0) {\n                        // Get the template literal section leading up to the first\n                        // expression in this attribute\n                        const stringForPart = strings[partIndex];\n                        // Find the attribute name\n                        const name = lastAttributeNameRegex.exec(stringForPart)[2];\n                        // Find the corresponding attribute\n                        // All bound attributes have had a suffix added in\n                        // TemplateResult#getHTML to opt out of special attribute\n                        // handling. To look up the attribute value we also need to add\n                        // the suffix.\n                        const attributeLookupName = name.toLowerCase() + boundAttributeSuffix;\n                        const attributeValue = node.getAttribute(attributeLookupName);\n                        node.removeAttribute(attributeLookupName);\n                        const statics = attributeValue.split(markerRegex);\n                        this.parts.push({ type: 'attribute', index, name, strings: statics });\n                        partIndex += statics.length - 1;\n                    }\n                }\n                if (node.tagName === 'TEMPLATE') {\n                    stack.push(node);\n                    walker.currentNode = node.content;\n                }\n            }\n            else if (node.nodeType === 3 /* Node.TEXT_NODE */) {\n                const data = node.data;\n                if (data.indexOf(marker) >= 0) {\n                    const parent = node.parentNode;\n                    const strings = data.split(markerRegex);\n                    const lastIndex = strings.length - 1;\n                    // Generate a new text node for each literal section\n                    // These nodes are also used as the markers for node parts\n                    for (let i = 0; i < lastIndex; i++) {\n                        let insert;\n                        let s = strings[i];\n                        if (s === '') {\n                            insert = createMarker();\n                        }\n                        else {\n                            const match = lastAttributeNameRegex.exec(s);\n                            if (match !== null && endsWith(match[2], boundAttributeSuffix)) {\n                                s = s.slice(0, match.index) + match[1] +\n                                    match[2].slice(0, -boundAttributeSuffix.length) + match[3];\n                            }\n                            insert = document.createTextNode(s);\n                        }\n                        parent.insertBefore(insert, node);\n                        this.parts.push({ type: 'node', index: ++index });\n                    }\n                    // If there's no text, we must insert a comment to mark our place.\n                    // Else, we can trust it will stick around after cloning.\n                    if (strings[lastIndex] === '') {\n                        parent.insertBefore(createMarker(), node);\n                        nodesToRemove.push(node);\n                    }\n                    else {\n                        node.data = strings[lastIndex];\n                    }\n                    // We have a part for each match found\n                    partIndex += lastIndex;\n                }\n            }\n            else if (node.nodeType === 8 /* Node.COMMENT_NODE */) {\n                if (node.data === marker) {\n                    const parent = node.parentNode;\n                    // Add a new marker node to be the startNode of the Part if any of\n                    // the following are true:\n                    //  * We don't have a previousSibling\n                    //  * The previousSibling is already the start of a previous part\n                    if (node.previousSibling === null || index === lastPartIndex) {\n                        index++;\n                        parent.insertBefore(createMarker(), node);\n                    }\n                    lastPartIndex = index;\n                    this.parts.push({ type: 'node', index });\n                    // If we don't have a nextSibling, keep this node so we have an end.\n                    // Else, we can remove it to save future costs.\n                    if (node.nextSibling === null) {\n                        node.data = '';\n                    }\n                    else {\n                        nodesToRemove.push(node);\n                        index--;\n                    }\n                    partIndex++;\n                }\n                else {\n                    let i = -1;\n                    while ((i = node.data.indexOf(marker, i + 1)) !== -1) {\n                        // Comment node has a binding marker inside, make an inactive part\n                        // The binding won't work, but subsequent bindings will\n                        // TODO (justinfagnani): consider whether it's even worth it to\n                        // make bindings in comments work\n                        this.parts.push({ type: 'node', index: -1 });\n                        partIndex++;\n                    }\n                }\n            }\n        }\n        // Remove text binding nodes after the walk to not disturb the TreeWalker\n        for (const n of nodesToRemove) {\n            n.parentNode.removeChild(n);\n        }\n    }\n}\nconst endsWith = (str, suffix) => {\n    const index = str.length - suffix.length;\n    return index >= 0 && str.slice(index) === suffix;\n};\nexport const isTemplatePartActive = (part) => part.index !== -1;\n// Allows `document.createComment('')` to be renamed for a\n// small manual size-savings.\nexport const createMarker = () => document.createComment('');\n/**\n * This regex extracts the attribute name preceding an attribute-position\n * expression. It does this by matching the syntax allowed for attributes\n * against the string literal directly preceding the expression, assuming that\n * the expression is in an attribute-value position.\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#elements-attributes\n *\n * \" \\x09\\x0a\\x0c\\x0d\" are HTML space characters:\n * https://www.w3.org/TR/html5/infrastructure.html#space-characters\n *\n * \"\\0-\\x1F\\x7F-\\x9F\" are Unicode control characters, which includes every\n * space character except \" \".\n *\n * So an attribute is:\n *  * The name: any character except a control character, space character, ('),\n *    (\"), \">\", \"=\", or \"/\"\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nexport const lastAttributeNameRegex = \n// eslint-disable-next-line no-control-regex\n/([ \\x09\\x0a\\x0c\\x0d])([^\\0-\\x1F\\x7F-\\x9F \"'>=/]+)([ \\x09\\x0a\\x0c\\x0d]*=[ \\x09\\x0a\\x0c\\x0d]*(?:[^ \\x09\\x0a\\x0c\\x0d\"'`<>=]*|\"[^\"]*|'[^']*))$/;\n//# sourceMappingURL=template.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { isTemplatePartActive } from './template.js';\nconst walkerNodeFilter = 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */;\n/**\n * Removes the list of nodes from a Template safely. In addition to removing\n * nodes from the Template, the Template part indices are updated to match\n * the mutated Template DOM.\n *\n * As the template is walked the removal state is tracked and\n * part indices are adjusted as needed.\n *\n * div\n *   div#1 (remove) <-- start removing (removing node is div#1)\n *     div\n *       div#2 (remove)  <-- continue removing (removing node is still div#1)\n *         div\n * div <-- stop removing since previous sibling is the removing node (div#1,\n * removed 4 nodes)\n */\nexport function removeNodesFromTemplate(template, nodesToRemove) {\n    const { element: { content }, parts } = template;\n    const walker = document.createTreeWalker(content, walkerNodeFilter, null, false);\n    let partIndex = nextActiveIndexInTemplateParts(parts);\n    let part = parts[partIndex];\n    let nodeIndex = -1;\n    let removeCount = 0;\n    const nodesToRemoveInTemplate = [];\n    let currentRemovingNode = null;\n    while (walker.nextNode()) {\n        nodeIndex++;\n        const node = walker.currentNode;\n        // End removal if stepped past the removing node\n        if (node.previousSibling === currentRemovingNode) {\n            currentRemovingNode = null;\n        }\n        // A node to remove was found in the template\n        if (nodesToRemove.has(node)) {\n            nodesToRemoveInTemplate.push(node);\n            // Track node we're removing\n            if (currentRemovingNode === null) {\n                currentRemovingNode = node;\n            }\n        }\n        // When removing, increment count by which to adjust subsequent part indices\n        if (currentRemovingNode !== null) {\n            removeCount++;\n        }\n        while (part !== undefined && part.index === nodeIndex) {\n            // If part is in a removed node deactivate it by setting index to -1 or\n            // adjust the index as needed.\n            part.index = currentRemovingNode !== null ? -1 : part.index - removeCount;\n            // go to the next active part.\n            partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n            part = parts[partIndex];\n        }\n    }\n    nodesToRemoveInTemplate.forEach((n) => n.parentNode.removeChild(n));\n}\nconst countNodes = (node) => {\n    let count = (node.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */) ? 0 : 1;\n    const walker = document.createTreeWalker(node, walkerNodeFilter, null, false);\n    while (walker.nextNode()) {\n        count++;\n    }\n    return count;\n};\nconst nextActiveIndexInTemplateParts = (parts, startIndex = -1) => {\n    for (let i = startIndex + 1; i < parts.length; i++) {\n        const part = parts[i];\n        if (isTemplatePartActive(part)) {\n            return i;\n        }\n    }\n    return -1;\n};\n/**\n * Inserts the given node into the Template, optionally before the given\n * refNode. In addition to inserting the node into the Template, the Template\n * part indices are updated to match the mutated Template DOM.\n */\nexport function insertNodeIntoTemplate(template, node, refNode = null) {\n    const { element: { content }, parts } = template;\n    // If there's no refNode, then put node at end of template.\n    // No part indices need to be shifted in this case.\n    if (refNode === null || refNode === undefined) {\n        content.appendChild(node);\n        return;\n    }\n    const walker = document.createTreeWalker(content, walkerNodeFilter, null, false);\n    let partIndex = nextActiveIndexInTemplateParts(parts);\n    let insertCount = 0;\n    let walkerIndex = -1;\n    while (walker.nextNode()) {\n        walkerIndex++;\n        const walkerNode = walker.currentNode;\n        if (walkerNode === refNode) {\n            insertCount = countNodes(node);\n            refNode.parentNode.insertBefore(node, refNode);\n        }\n        while (partIndex !== -1 && parts[partIndex].index === walkerIndex) {\n            // If we've inserted the node, simply adjust all subsequent parts\n            if (insertCount > 0) {\n                while (partIndex !== -1) {\n                    parts[partIndex].index += insertCount;\n                    partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n                }\n                return;\n            }\n            partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n        }\n    }\n}\n//# sourceMappingURL=modify-template.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nconst directives = new WeakMap();\n/**\n * Brands a function as a directive factory function so that lit-html will call\n * the function during template rendering, rather than passing as a value.\n *\n * A _directive_ is a function that takes a Part as an argument. It has the\n * signature: `(part: Part) => void`.\n *\n * A directive _factory_ is a function that takes arguments for data and\n * configuration and returns a directive. Users of directive usually refer to\n * the directive factory as the directive. For example, \"The repeat directive\".\n *\n * Usually a template author will invoke a directive factory in their template\n * with relevant arguments, which will then return a directive function.\n *\n * Here's an example of using the `repeat()` directive factory that takes an\n * array and a function to render an item:\n *\n * ```js\n * html`<ul><${repeat(items, (item) => html`<li>${item}</li>`)}</ul>`\n * ```\n *\n * When `repeat` is invoked, it returns a directive function that closes over\n * `items` and the template function. When the outer template is rendered, the\n * return directive function is called with the Part for the expression.\n * `repeat` then performs it's custom logic to render multiple items.\n *\n * @param f The directive factory function. Must be a function that returns a\n * function of the signature `(part: Part) => void`. The returned function will\n * be called with the part object.\n *\n * @example\n *\n * import {directive, html} from 'lit-html';\n *\n * const immutable = directive((v) => (part) => {\n *   if (part.value !== v) {\n *     part.setValue(v)\n *   }\n * });\n */\nexport const directive = (f) => ((...args) => {\n    const d = f(...args);\n    directives.set(d, true);\n    return d;\n});\nexport const isDirective = (o) => {\n    return typeof o === 'function' && directives.has(o);\n};\n//# sourceMappingURL=directive.js.map","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nexport const noChange = {};\n/**\n * A sentinel value that signals a NodePart to fully clear its content.\n */\nexport const nothing = {};\n//# sourceMappingURL=part.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { isCEPolyfill } from './dom.js';\nimport { isTemplatePartActive } from './template.js';\n/**\n * An instance of a `Template` that can be attached to the DOM and updated\n * with new values.\n */\nexport class TemplateInstance {\n    constructor(template, processor, options) {\n        this.__parts = [];\n        this.template = template;\n        this.processor = processor;\n        this.options = options;\n    }\n    update(values) {\n        let i = 0;\n        for (const part of this.__parts) {\n            if (part !== undefined) {\n                part.setValue(values[i]);\n            }\n            i++;\n        }\n        for (const part of this.__parts) {\n            if (part !== undefined) {\n                part.commit();\n            }\n        }\n    }\n    _clone() {\n        // There are a number of steps in the lifecycle of a template instance's\n        // DOM fragment:\n        //  1. Clone - create the instance fragment\n        //  2. Adopt - adopt into the main document\n        //  3. Process - find part markers and create parts\n        //  4. Upgrade - upgrade custom elements\n        //  5. Update - set node, attribute, property, etc., values\n        //  6. Connect - connect to the document. Optional and outside of this\n        //     method.\n        //\n        // We have a few constraints on the ordering of these steps:\n        //  * We need to upgrade before updating, so that property values will pass\n        //    through any property setters.\n        //  * We would like to process before upgrading so that we're sure that the\n        //    cloned fragment is inert and not disturbed by self-modifying DOM.\n        //  * We want custom elements to upgrade even in disconnected fragments.\n        //\n        // Given these constraints, with full custom elements support we would\n        // prefer the order: Clone, Process, Adopt, Upgrade, Update, Connect\n        //\n        // But Safari does not implement CustomElementRegistry#upgrade, so we\n        // can not implement that order and still have upgrade-before-update and\n        // upgrade disconnected fragments. So we instead sacrifice the\n        // process-before-upgrade constraint, since in Custom Elements v1 elements\n        // must not modify their light DOM in the constructor. We still have issues\n        // when co-existing with CEv0 elements like Polymer 1, and with polyfills\n        // that don't strictly adhere to the no-modification rule because shadow\n        // DOM, which may be created in the constructor, is emulated by being placed\n        // in the light DOM.\n        //\n        // The resulting order is on native is: Clone, Adopt, Upgrade, Process,\n        // Update, Connect. document.importNode() performs Clone, Adopt, and Upgrade\n        // in one step.\n        //\n        // The Custom Elements v1 polyfill supports upgrade(), so the order when\n        // polyfilled is the more ideal: Clone, Process, Adopt, Upgrade, Update,\n        // Connect.\n        const fragment = isCEPolyfill ?\n            this.template.element.content.cloneNode(true) :\n            document.importNode(this.template.element.content, true);\n        const stack = [];\n        const parts = this.template.parts;\n        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n        const walker = document.createTreeWalker(fragment, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);\n        let partIndex = 0;\n        let nodeIndex = 0;\n        let part;\n        let node = walker.nextNode();\n        // Loop through all the nodes and parts of a template\n        while (partIndex < parts.length) {\n            part = parts[partIndex];\n            if (!isTemplatePartActive(part)) {\n                this.__parts.push(undefined);\n                partIndex++;\n                continue;\n            }\n            // Progress the tree walker until we find our next part's node.\n            // Note that multiple parts may share the same node (attribute parts\n            // on a single element), so this loop may not run at all.\n            while (nodeIndex < part.index) {\n                nodeIndex++;\n                if (node.nodeName === 'TEMPLATE') {\n                    stack.push(node);\n                    walker.currentNode = node.content;\n                }\n                if ((node = walker.nextNode()) === null) {\n                    // We've exhausted the content inside a nested template element.\n                    // Because we still have parts (the outer for-loop), we know:\n                    // - There is a template in the stack\n                    // - The walker will find a nextNode outside the template\n                    walker.currentNode = stack.pop();\n                    node = walker.nextNode();\n                }\n            }\n            // We've arrived at our part's node.\n            if (part.type === 'node') {\n                const part = this.processor.handleTextExpression(this.options);\n                part.insertAfterNode(node.previousSibling);\n                this.__parts.push(part);\n            }\n            else {\n                this.__parts.push(...this.processor.handleAttributeExpressions(node, part.name, part.strings, this.options));\n            }\n            partIndex++;\n        }\n        if (isCEPolyfill) {\n            document.adoptNode(fragment);\n            customElements.upgrade(fragment);\n        }\n        return fragment;\n    }\n}\n//# sourceMappingURL=template-instance.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { reparentNodes } from './dom.js';\nimport { boundAttributeSuffix, lastAttributeNameRegex, marker, nodeMarker } from './template.js';\n/**\n * Our TrustedTypePolicy for HTML which is declared using the html template\n * tag function.\n *\n * That HTML is a developer-authored constant, and is parsed with innerHTML\n * before any untrusted expressions have been mixed in. Therefor it is\n * considered safe by construction.\n */\nconst policy = window.trustedTypes &&\n    trustedTypes.createPolicy('lit-html', { createHTML: (s) => s });\nconst commentMarker = ` ${marker} `;\n/**\n * The return type of `html`, which holds a Template and the values from\n * interpolated expressions.\n */\nexport class TemplateResult {\n    constructor(strings, values, type, processor) {\n        this.strings = strings;\n        this.values = values;\n        this.type = type;\n        this.processor = processor;\n    }\n    /**\n     * Returns a string of HTML used to create a `<template>` element.\n     */\n    getHTML() {\n        const l = this.strings.length - 1;\n        let html = '';\n        let isCommentBinding = false;\n        for (let i = 0; i < l; i++) {\n            const s = this.strings[i];\n            // For each binding we want to determine the kind of marker to insert\n            // into the template source before it's parsed by the browser's HTML\n            // parser. The marker type is based on whether the expression is in an\n            // attribute, text, or comment position.\n            //   * For node-position bindings we insert a comment with the marker\n            //     sentinel as its text content, like <!--{{lit-guid}}-->.\n            //   * For attribute bindings we insert just the marker sentinel for the\n            //     first binding, so that we support unquoted attribute bindings.\n            //     Subsequent bindings can use a comment marker because multi-binding\n            //     attributes must be quoted.\n            //   * For comment bindings we insert just the marker sentinel so we don't\n            //     close the comment.\n            //\n            // The following code scans the template source, but is *not* an HTML\n            // parser. We don't need to track the tree structure of the HTML, only\n            // whether a binding is inside a comment, and if not, if it appears to be\n            // the first binding in an attribute.\n            const commentOpen = s.lastIndexOf('<!--');\n            // We're in comment position if we have a comment open with no following\n            // comment close. Because <-- can appear in an attribute value there can\n            // be false positives.\n            isCommentBinding = (commentOpen > -1 || isCommentBinding) &&\n                s.indexOf('-->', commentOpen + 1) === -1;\n            // Check to see if we have an attribute-like sequence preceding the\n            // expression. This can match \"name=value\" like structures in text,\n            // comments, and attribute values, so there can be false-positives.\n            const attributeMatch = lastAttributeNameRegex.exec(s);\n            if (attributeMatch === null) {\n                // We're only in this branch if we don't have a attribute-like\n                // preceding sequence. For comments, this guards against unusual\n                // attribute values like <div foo=\"<!--${'bar'}\">. Cases like\n                // <!-- foo=${'bar'}--> are handled correctly in the attribute branch\n                // below.\n                html += s + (isCommentBinding ? commentMarker : nodeMarker);\n            }\n            else {\n                // For attributes we use just a marker sentinel, and also append a\n                // $lit$ suffix to the name to opt-out of attribute-specific parsing\n                // that IE and Edge do for style and certain SVG attributes.\n                html += s.substr(0, attributeMatch.index) + attributeMatch[1] +\n                    attributeMatch[2] + boundAttributeSuffix + attributeMatch[3] +\n                    marker;\n            }\n        }\n        html += this.strings[l];\n        return html;\n    }\n    getTemplateElement() {\n        const template = document.createElement('template');\n        let value = this.getHTML();\n        if (policy !== undefined) {\n            // this is secure because `this.strings` is a TemplateStringsArray.\n            // TODO: validate this when\n            // https://github.com/tc39/proposal-array-is-template-object is\n            // implemented.\n            value = policy.createHTML(value);\n        }\n        template.innerHTML = value;\n        return template;\n    }\n}\n/**\n * A TemplateResult for SVG fragments.\n *\n * This class wraps HTML in an `<svg>` tag in order to parse its contents in the\n * SVG namespace, then modifies the template to remove the `<svg>` tag so that\n * clones only container the original fragment.\n */\nexport class SVGTemplateResult extends TemplateResult {\n    getHTML() {\n        return `<svg>${super.getHTML()}</svg>`;\n    }\n    getTemplateElement() {\n        const template = super.getTemplateElement();\n        const content = template.content;\n        const svgElement = content.firstChild;\n        content.removeChild(svgElement);\n        reparentNodes(content, svgElement.firstChild);\n        return template;\n    }\n}\n//# sourceMappingURL=template-result.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { isDirective } from './directive.js';\nimport { removeNodes } from './dom.js';\nimport { noChange, nothing } from './part.js';\nimport { TemplateInstance } from './template-instance.js';\nimport { TemplateResult } from './template-result.js';\nimport { createMarker } from './template.js';\nexport const isPrimitive = (value) => {\n    return (value === null ||\n        !(typeof value === 'object' || typeof value === 'function'));\n};\nexport const isIterable = (value) => {\n    return Array.isArray(value) ||\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        !!(value && value[Symbol.iterator]);\n};\n/**\n * Writes attribute values to the DOM for a group of AttributeParts bound to a\n * single attribute. The value is only set once even if there are multiple parts\n * for an attribute.\n */\nexport class AttributeCommitter {\n    constructor(element, name, strings) {\n        this.dirty = true;\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n        this.parts = [];\n        for (let i = 0; i < strings.length - 1; i++) {\n            this.parts[i] = this._createPart();\n        }\n    }\n    /**\n     * Creates a single part. Override this to create a differnt type of part.\n     */\n    _createPart() {\n        return new AttributePart(this);\n    }\n    _getValue() {\n        const strings = this.strings;\n        const l = strings.length - 1;\n        const parts = this.parts;\n        // If we're assigning an attribute via syntax like:\n        //    attr=\"${foo}\"  or  attr=${foo}\n        // but not\n        //    attr=\"${foo} ${bar}\" or attr=\"${foo} baz\"\n        // then we don't want to coerce the attribute value into one long\n        // string. Instead we want to just return the value itself directly,\n        // so that sanitizeDOMValue can get the actual value rather than\n        // String(value)\n        // The exception is if v is an array, in which case we do want to smash\n        // it together into a string without calling String() on the array.\n        //\n        // This also allows trusted values (when using TrustedTypes) being\n        // assigned to DOM sinks without being stringified in the process.\n        if (l === 1 && strings[0] === '' && strings[1] === '') {\n            const v = parts[0].value;\n            if (typeof v === 'symbol') {\n                return String(v);\n            }\n            if (typeof v === 'string' || !isIterable(v)) {\n                return v;\n            }\n        }\n        let text = '';\n        for (let i = 0; i < l; i++) {\n            text += strings[i];\n            const part = parts[i];\n            if (part !== undefined) {\n                const v = part.value;\n                if (isPrimitive(v) || !isIterable(v)) {\n                    text += typeof v === 'string' ? v : String(v);\n                }\n                else {\n                    for (const t of v) {\n                        text += typeof t === 'string' ? t : String(t);\n                    }\n                }\n            }\n        }\n        text += strings[l];\n        return text;\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            this.element.setAttribute(this.name, this._getValue());\n        }\n    }\n}\n/**\n * A Part that controls all or part of an attribute value.\n */\nexport class AttributePart {\n    constructor(committer) {\n        this.value = undefined;\n        this.committer = committer;\n    }\n    setValue(value) {\n        if (value !== noChange && (!isPrimitive(value) || value !== this.value)) {\n            this.value = value;\n            // If the value is a not a directive, dirty the committer so that it'll\n            // call setAttribute. If the value is a directive, it'll dirty the\n            // committer if it calls setValue().\n            if (!isDirective(value)) {\n                this.committer.dirty = true;\n            }\n        }\n    }\n    commit() {\n        while (isDirective(this.value)) {\n            const directive = this.value;\n            this.value = noChange;\n            directive(this);\n        }\n        if (this.value === noChange) {\n            return;\n        }\n        this.committer.commit();\n    }\n}\n/**\n * A Part that controls a location within a Node tree. Like a Range, NodePart\n * has start and end locations and can set and update the Nodes between those\n * locations.\n *\n * NodeParts support several value types: primitives, Nodes, TemplateResults,\n * as well as arrays and iterables of those types.\n */\nexport class NodePart {\n    constructor(options) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        this.options = options;\n    }\n    /**\n     * Appends this part into a container.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendInto(container) {\n        this.startNode = container.appendChild(createMarker());\n        this.endNode = container.appendChild(createMarker());\n    }\n    /**\n     * Inserts this part after the `ref` node (between `ref` and `ref`'s next\n     * sibling). Both `ref` and its next sibling must be static, unchanging nodes\n     * such as those that appear in a literal section of a template.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterNode(ref) {\n        this.startNode = ref;\n        this.endNode = ref.nextSibling;\n    }\n    /**\n     * Appends this part into a parent part.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendIntoPart(part) {\n        part.__insert(this.startNode = createMarker());\n        part.__insert(this.endNode = createMarker());\n    }\n    /**\n     * Inserts this part after the `ref` part.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterPart(ref) {\n        ref.__insert(this.startNode = createMarker());\n        this.endNode = ref.endNode;\n        ref.endNode = this.startNode;\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        if (this.startNode.parentNode === null) {\n            return;\n        }\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        const value = this.__pendingValue;\n        if (value === noChange) {\n            return;\n        }\n        if (isPrimitive(value)) {\n            if (value !== this.value) {\n                this.__commitText(value);\n            }\n        }\n        else if (value instanceof TemplateResult) {\n            this.__commitTemplateResult(value);\n        }\n        else if (value instanceof Node) {\n            this.__commitNode(value);\n        }\n        else if (isIterable(value)) {\n            this.__commitIterable(value);\n        }\n        else if (value === nothing) {\n            this.value = nothing;\n            this.clear();\n        }\n        else {\n            // Fallback, will render the string representation\n            this.__commitText(value);\n        }\n    }\n    __insert(node) {\n        this.endNode.parentNode.insertBefore(node, this.endNode);\n    }\n    __commitNode(value) {\n        if (this.value === value) {\n            return;\n        }\n        this.clear();\n        this.__insert(value);\n        this.value = value;\n    }\n    __commitText(value) {\n        const node = this.startNode.nextSibling;\n        value = value == null ? '' : value;\n        // If `value` isn't already a string, we explicitly convert it here in case\n        // it can't be implicitly converted - i.e. it's a symbol.\n        const valueAsString = typeof value === 'string' ? value : String(value);\n        if (node === this.endNode.previousSibling &&\n            node.nodeType === 3 /* Node.TEXT_NODE */) {\n            // If we only have a single text node between the markers, we can just\n            // set its value, rather than replacing it.\n            // TODO(justinfagnani): Can we just check if this.value is primitive?\n            node.data = valueAsString;\n        }\n        else {\n            this.__commitNode(document.createTextNode(valueAsString));\n        }\n        this.value = value;\n    }\n    __commitTemplateResult(value) {\n        const template = this.options.templateFactory(value);\n        if (this.value instanceof TemplateInstance &&\n            this.value.template === template) {\n            this.value.update(value.values);\n        }\n        else {\n            // Make sure we propagate the template processor from the TemplateResult\n            // so that we use its syntax extension, etc. The template factory comes\n            // from the render function options so that it can control template\n            // caching and preprocessing.\n            const instance = new TemplateInstance(template, value.processor, this.options);\n            const fragment = instance._clone();\n            instance.update(value.values);\n            this.__commitNode(fragment);\n            this.value = instance;\n        }\n    }\n    __commitIterable(value) {\n        // For an Iterable, we create a new InstancePart per item, then set its\n        // value to the item. This is a little bit of overhead for every item in\n        // an Iterable, but it lets us recurse easily and efficiently update Arrays\n        // of TemplateResults that will be commonly returned from expressions like:\n        // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n        // If _value is an array, then the previous render was of an\n        // iterable and _value will contain the NodeParts from the previous\n        // render. If _value is not an array, clear this part and make a new\n        // array for NodeParts.\n        if (!Array.isArray(this.value)) {\n            this.value = [];\n            this.clear();\n        }\n        // Lets us keep track of how many items we stamped so we can clear leftover\n        // items from a previous render\n        const itemParts = this.value;\n        let partIndex = 0;\n        let itemPart;\n        for (const item of value) {\n            // Try to reuse an existing part\n            itemPart = itemParts[partIndex];\n            // If no existing part, create a new one\n            if (itemPart === undefined) {\n                itemPart = new NodePart(this.options);\n                itemParts.push(itemPart);\n                if (partIndex === 0) {\n                    itemPart.appendIntoPart(this);\n                }\n                else {\n                    itemPart.insertAfterPart(itemParts[partIndex - 1]);\n                }\n            }\n            itemPart.setValue(item);\n            itemPart.commit();\n            partIndex++;\n        }\n        if (partIndex < itemParts.length) {\n            // Truncate the parts array so _value reflects the current state\n            itemParts.length = partIndex;\n            this.clear(itemPart && itemPart.endNode);\n        }\n    }\n    clear(startNode = this.startNode) {\n        removeNodes(this.startNode.parentNode, startNode.nextSibling, this.endNode);\n    }\n}\n/**\n * Implements a boolean attribute, roughly as defined in the HTML\n * specification.\n *\n * If the value is truthy, then the attribute is present with a value of\n * ''. If the value is falsey, the attribute is removed.\n */\nexport class BooleanAttributePart {\n    constructor(element, name, strings) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        if (strings.length !== 2 || strings[0] !== '' || strings[1] !== '') {\n            throw new Error('Boolean attributes can only contain a single expression');\n        }\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        if (this.__pendingValue === noChange) {\n            return;\n        }\n        const value = !!this.__pendingValue;\n        if (this.value !== value) {\n            if (value) {\n                this.element.setAttribute(this.name, '');\n            }\n            else {\n                this.element.removeAttribute(this.name);\n            }\n            this.value = value;\n        }\n        this.__pendingValue = noChange;\n    }\n}\n/**\n * Sets attribute values for PropertyParts, so that the value is only set once\n * even if there are multiple parts for a property.\n *\n * If an expression controls the whole property value, then the value is simply\n * assigned to the property under control. If there are string literals or\n * multiple expressions, then the strings are expressions are interpolated into\n * a string first.\n */\nexport class PropertyCommitter extends AttributeCommitter {\n    constructor(element, name, strings) {\n        super(element, name, strings);\n        this.single =\n            (strings.length === 2 && strings[0] === '' && strings[1] === '');\n    }\n    _createPart() {\n        return new PropertyPart(this);\n    }\n    _getValue() {\n        if (this.single) {\n            return this.parts[0].value;\n        }\n        return super._getValue();\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.element[this.name] = this._getValue();\n        }\n    }\n}\nexport class PropertyPart extends AttributePart {\n}\n// Detect event listener options support. If the `capture` property is read\n// from the options object, then options are supported. If not, then the third\n// argument to add/removeEventListener is interpreted as the boolean capture\n// value so we should only pass the `capture` property.\nlet eventOptionsSupported = false;\n// Wrap into an IIFE because MS Edge <= v41 does not support having try/catch\n// blocks right into the body of a module\n(() => {\n    try {\n        const options = {\n            get capture() {\n                eventOptionsSupported = true;\n                return false;\n            }\n        };\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        window.addEventListener('test', options, options);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        window.removeEventListener('test', options, options);\n    }\n    catch (_e) {\n        // event options not supported\n    }\n})();\nexport class EventPart {\n    constructor(element, eventName, eventContext) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        this.element = element;\n        this.eventName = eventName;\n        this.eventContext = eventContext;\n        this.__boundHandleEvent = (e) => this.handleEvent(e);\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        if (this.__pendingValue === noChange) {\n            return;\n        }\n        const newListener = this.__pendingValue;\n        const oldListener = this.value;\n        const shouldRemoveListener = newListener == null ||\n            oldListener != null &&\n                (newListener.capture !== oldListener.capture ||\n                    newListener.once !== oldListener.once ||\n                    newListener.passive !== oldListener.passive);\n        const shouldAddListener = newListener != null && (oldListener == null || shouldRemoveListener);\n        if (shouldRemoveListener) {\n            this.element.removeEventListener(this.eventName, this.__boundHandleEvent, this.__options);\n        }\n        if (shouldAddListener) {\n            this.__options = getOptions(newListener);\n            this.element.addEventListener(this.eventName, this.__boundHandleEvent, this.__options);\n        }\n        this.value = newListener;\n        this.__pendingValue = noChange;\n    }\n    handleEvent(event) {\n        if (typeof this.value === 'function') {\n            this.value.call(this.eventContext || this.element, event);\n        }\n        else {\n            this.value.handleEvent(event);\n        }\n    }\n}\n// We copy options because of the inconsistent behavior of browsers when reading\n// the third argument of add/removeEventListener. IE11 doesn't support options\n// at all. Chrome 41 only reads `capture` if the argument is an object.\nconst getOptions = (o) => o &&\n    (eventOptionsSupported ?\n        { capture: o.capture, passive: o.passive, once: o.once } :\n        o.capture);\n//# sourceMappingURL=parts.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { marker, Template } from './template.js';\n/**\n * The default TemplateFactory which caches Templates keyed on\n * result.type and result.strings.\n */\nexport function templateFactory(result) {\n    let templateCache = templateCaches.get(result.type);\n    if (templateCache === undefined) {\n        templateCache = {\n            stringsArray: new WeakMap(),\n            keyString: new Map()\n        };\n        templateCaches.set(result.type, templateCache);\n    }\n    let template = templateCache.stringsArray.get(result.strings);\n    if (template !== undefined) {\n        return template;\n    }\n    // If the TemplateStringsArray is new, generate a key from the strings\n    // This key is shared between all templates with identical content\n    const key = result.strings.join(marker);\n    // Check if we already have a Template for this key\n    template = templateCache.keyString.get(key);\n    if (template === undefined) {\n        // If we have not seen this key before, create a new Template\n        template = new Template(result, result.getTemplateElement());\n        // Cache the Template for this key\n        templateCache.keyString.set(key, template);\n    }\n    // Cache all future queries for this TemplateStringsArray\n    templateCache.stringsArray.set(result.strings, template);\n    return template;\n}\nexport const templateCaches = new Map();\n//# sourceMappingURL=template-factory.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { removeNodes } from './dom.js';\nimport { NodePart } from './parts.js';\nimport { templateFactory } from './template-factory.js';\nexport const parts = new WeakMap();\n/**\n * Renders a template result or other value to a container.\n *\n * To update a container with new values, reevaluate the template literal and\n * call `render` with the new result.\n *\n * @param result Any value renderable by NodePart - typically a TemplateResult\n *     created by evaluating a template tag like `html` or `svg`.\n * @param container A DOM parent to render to. The entire contents are either\n *     replaced, or efficiently updated if the same result type was previous\n *     rendered there.\n * @param options RenderOptions for the entire render tree rendered to this\n *     container. Render options must *not* change between renders to the same\n *     container, as those changes will not effect previously rendered DOM.\n */\nexport const render = (result, container, options) => {\n    let part = parts.get(container);\n    if (part === undefined) {\n        removeNodes(container, container.firstChild);\n        parts.set(container, part = new NodePart(Object.assign({ templateFactory }, options)));\n        part.appendInto(container);\n    }\n    part.setValue(result);\n    part.commit();\n};\n//# sourceMappingURL=render.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { AttributeCommitter, BooleanAttributePart, EventPart, NodePart, PropertyCommitter } from './parts.js';\n/**\n * Creates Parts when a template is instantiated.\n */\nexport class DefaultTemplateProcessor {\n    /**\n     * Create parts for an attribute-position binding, given the event, attribute\n     * name, and string literals.\n     *\n     * @param element The element containing the binding\n     * @param name  The attribute name\n     * @param strings The string literals. There are always at least two strings,\n     *   event for fully-controlled bindings with a single expression.\n     */\n    handleAttributeExpressions(element, name, strings, options) {\n        const prefix = name[0];\n        if (prefix === '.') {\n            const committer = new PropertyCommitter(element, name.slice(1), strings);\n            return committer.parts;\n        }\n        if (prefix === '@') {\n            return [new EventPart(element, name.slice(1), options.eventContext)];\n        }\n        if (prefix === '?') {\n            return [new BooleanAttributePart(element, name.slice(1), strings)];\n        }\n        const committer = new AttributeCommitter(element, name, strings);\n        return committer.parts;\n    }\n    /**\n     * Create parts for a text-position binding.\n     * @param templateFactory\n     */\n    handleTextExpression(options) {\n        return new NodePart(options);\n    }\n}\nexport const defaultTemplateProcessor = new DefaultTemplateProcessor();\n//# sourceMappingURL=default-template-processor.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n *\n * Main lit-html module.\n *\n * Main exports:\n *\n * -  [[html]]\n * -  [[svg]]\n * -  [[render]]\n *\n * @packageDocumentation\n */\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport { defaultTemplateProcessor } from './lib/default-template-processor.js';\nimport { SVGTemplateResult, TemplateResult } from './lib/template-result.js';\nexport { DefaultTemplateProcessor, defaultTemplateProcessor } from './lib/default-template-processor.js';\nexport { directive, isDirective } from './lib/directive.js';\n// TODO(justinfagnani): remove line when we get NodePart moving methods\nexport { removeNodes, reparentNodes } from './lib/dom.js';\nexport { noChange, nothing } from './lib/part.js';\nexport { AttributeCommitter, AttributePart, BooleanAttributePart, EventPart, isIterable, isPrimitive, NodePart, PropertyCommitter, PropertyPart } from './lib/parts.js';\nexport { parts, render } from './lib/render.js';\nexport { templateCaches, templateFactory } from './lib/template-factory.js';\nexport { TemplateInstance } from './lib/template-instance.js';\nexport { SVGTemplateResult, TemplateResult } from './lib/template-result.js';\nexport { createMarker, isTemplatePartActive, Template } from './lib/template.js';\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for lit-html usage.\n// TODO(justinfagnani): inject version number at build time\nif (typeof window !== 'undefined') {\n    (window['litHtmlVersions'] || (window['litHtmlVersions'] = [])).push('1.3.0');\n}\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n */\nexport const html = (strings, ...values) => new TemplateResult(strings, values, 'html', defaultTemplateProcessor);\n/**\n * Interprets a template literal as an SVG template that can efficiently\n * render to and update a container.\n */\nexport const svg = (strings, ...values) => new SVGTemplateResult(strings, values, 'svg', defaultTemplateProcessor);\n//# sourceMappingURL=lit-html.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * Module to add shady DOM/shady CSS polyfill support to lit-html template\n * rendering. See the [[render]] method for details.\n *\n * @packageDocumentation\n */\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport { removeNodes } from './dom.js';\nimport { insertNodeIntoTemplate, removeNodesFromTemplate } from './modify-template.js';\nimport { parts, render as litRender } from './render.js';\nimport { templateCaches } from './template-factory.js';\nimport { TemplateInstance } from './template-instance.js';\nimport { marker, Template } from './template.js';\nexport { html, svg, TemplateResult } from '../lit-html.js';\n// Get a key to lookup in `templateCaches`.\nconst getTemplateCacheKey = (type, scopeName) => `${type}--${scopeName}`;\nlet compatibleShadyCSSVersion = true;\nif (typeof window.ShadyCSS === 'undefined') {\n    compatibleShadyCSSVersion = false;\n}\nelse if (typeof window.ShadyCSS.prepareTemplateDom === 'undefined') {\n    console.warn(`Incompatible ShadyCSS version detected. ` +\n        `Please update to at least @webcomponents/webcomponentsjs@2.0.2 and ` +\n        `@webcomponents/shadycss@1.3.1.`);\n    compatibleShadyCSSVersion = false;\n}\n/**\n * Template factory which scopes template DOM using ShadyCSS.\n * @param scopeName {string}\n */\nexport const shadyTemplateFactory = (scopeName) => (result) => {\n    const cacheKey = getTemplateCacheKey(result.type, scopeName);\n    let templateCache = templateCaches.get(cacheKey);\n    if (templateCache === undefined) {\n        templateCache = {\n            stringsArray: new WeakMap(),\n            keyString: new Map()\n        };\n        templateCaches.set(cacheKey, templateCache);\n    }\n    let template = templateCache.stringsArray.get(result.strings);\n    if (template !== undefined) {\n        return template;\n    }\n    const key = result.strings.join(marker);\n    template = templateCache.keyString.get(key);\n    if (template === undefined) {\n        const element = result.getTemplateElement();\n        if (compatibleShadyCSSVersion) {\n            window.ShadyCSS.prepareTemplateDom(element, scopeName);\n        }\n        template = new Template(result, element);\n        templateCache.keyString.set(key, template);\n    }\n    templateCache.stringsArray.set(result.strings, template);\n    return template;\n};\nconst TEMPLATE_TYPES = ['html', 'svg'];\n/**\n * Removes all style elements from Templates for the given scopeName.\n */\nconst removeStylesFromLitTemplates = (scopeName) => {\n    TEMPLATE_TYPES.forEach((type) => {\n        const templates = templateCaches.get(getTemplateCacheKey(type, scopeName));\n        if (templates !== undefined) {\n            templates.keyString.forEach((template) => {\n                const { element: { content } } = template;\n                // IE 11 doesn't support the iterable param Set constructor\n                const styles = new Set();\n                Array.from(content.querySelectorAll('style')).forEach((s) => {\n                    styles.add(s);\n                });\n                removeNodesFromTemplate(template, styles);\n            });\n        }\n    });\n};\nconst shadyRenderSet = new Set();\n/**\n * For the given scope name, ensures that ShadyCSS style scoping is performed.\n * This is done just once per scope name so the fragment and template cannot\n * be modified.\n * (1) extracts styles from the rendered fragment and hands them to ShadyCSS\n * to be scoped and appended to the document\n * (2) removes style elements from all lit-html Templates for this scope name.\n *\n * Note, <style> elements can only be placed into templates for the\n * initial rendering of the scope. If <style> elements are included in templates\n * dynamically rendered to the scope (after the first scope render), they will\n * not be scoped and the <style> will be left in the template and rendered\n * output.\n */\nconst prepareTemplateStyles = (scopeName, renderedDOM, template) => {\n    shadyRenderSet.add(scopeName);\n    // If `renderedDOM` is stamped from a Template, then we need to edit that\n    // Template's underlying template element. Otherwise, we create one here\n    // to give to ShadyCSS, which still requires one while scoping.\n    const templateElement = !!template ? template.element : document.createElement('template');\n    // Move styles out of rendered DOM and store.\n    const styles = renderedDOM.querySelectorAll('style');\n    const { length } = styles;\n    // If there are no styles, skip unnecessary work\n    if (length === 0) {\n        // Ensure prepareTemplateStyles is called to support adding\n        // styles via `prepareAdoptedCssText` since that requires that\n        // `prepareTemplateStyles` is called.\n        //\n        // ShadyCSS will only update styles containing @apply in the template\n        // given to `prepareTemplateStyles`. If no lit Template was given,\n        // ShadyCSS will not be able to update uses of @apply in any relevant\n        // template. However, this is not a problem because we only create the\n        // template for the purpose of supporting `prepareAdoptedCssText`,\n        // which doesn't support @apply at all.\n        window.ShadyCSS.prepareTemplateStyles(templateElement, scopeName);\n        return;\n    }\n    const condensedStyle = document.createElement('style');\n    // Collect styles into a single style. This helps us make sure ShadyCSS\n    // manipulations will not prevent us from being able to fix up template\n    // part indices.\n    // NOTE: collecting styles is inefficient for browsers but ShadyCSS\n    // currently does this anyway. When it does not, this should be changed.\n    for (let i = 0; i < length; i++) {\n        const style = styles[i];\n        style.parentNode.removeChild(style);\n        condensedStyle.textContent += style.textContent;\n    }\n    // Remove styles from nested templates in this scope.\n    removeStylesFromLitTemplates(scopeName);\n    // And then put the condensed style into the \"root\" template passed in as\n    // `template`.\n    const content = templateElement.content;\n    if (!!template) {\n        insertNodeIntoTemplate(template, condensedStyle, content.firstChild);\n    }\n    else {\n        content.insertBefore(condensedStyle, content.firstChild);\n    }\n    // Note, it's important that ShadyCSS gets the template that `lit-html`\n    // will actually render so that it can update the style inside when\n    // needed (e.g. @apply native Shadow DOM case).\n    window.ShadyCSS.prepareTemplateStyles(templateElement, scopeName);\n    const style = content.querySelector('style');\n    if (window.ShadyCSS.nativeShadow && style !== null) {\n        // When in native Shadow DOM, ensure the style created by ShadyCSS is\n        // included in initially rendered output (`renderedDOM`).\n        renderedDOM.insertBefore(style.cloneNode(true), renderedDOM.firstChild);\n    }\n    else if (!!template) {\n        // When no style is left in the template, parts will be broken as a\n        // result. To fix this, we put back the style node ShadyCSS removed\n        // and then tell lit to remove that node from the template.\n        // There can be no style in the template in 2 cases (1) when Shady DOM\n        // is in use, ShadyCSS removes all styles, (2) when native Shadow DOM\n        // is in use ShadyCSS removes the style if it contains no content.\n        // NOTE, ShadyCSS creates its own style so we can safely add/remove\n        // `condensedStyle` here.\n        content.insertBefore(condensedStyle, content.firstChild);\n        const removes = new Set();\n        removes.add(condensedStyle);\n        removeNodesFromTemplate(template, removes);\n    }\n};\n/**\n * Extension to the standard `render` method which supports rendering\n * to ShadowRoots when the ShadyDOM (https://github.com/webcomponents/shadydom)\n * and ShadyCSS (https://github.com/webcomponents/shadycss) polyfills are used\n * or when the webcomponentsjs\n * (https://github.com/webcomponents/webcomponentsjs) polyfill is used.\n *\n * Adds a `scopeName` option which is used to scope element DOM and stylesheets\n * when native ShadowDOM is unavailable. The `scopeName` will be added to\n * the class attribute of all rendered DOM. In addition, any style elements will\n * be automatically re-written with this `scopeName` selector and moved out\n * of the rendered DOM and into the document `<head>`.\n *\n * It is common to use this render method in conjunction with a custom element\n * which renders a shadowRoot. When this is done, typically the element's\n * `localName` should be used as the `scopeName`.\n *\n * In addition to DOM scoping, ShadyCSS also supports a basic shim for css\n * custom properties (needed only on older browsers like IE11) and a shim for\n * a deprecated feature called `@apply` that supports applying a set of css\n * custom properties to a given location.\n *\n * Usage considerations:\n *\n * * Part values in `<style>` elements are only applied the first time a given\n * `scopeName` renders. Subsequent changes to parts in style elements will have\n * no effect. Because of this, parts in style elements should only be used for\n * values that will never change, for example parts that set scope-wide theme\n * values or parts which render shared style elements.\n *\n * * Note, due to a limitation of the ShadyDOM polyfill, rendering in a\n * custom element's `constructor` is not supported. Instead rendering should\n * either done asynchronously, for example at microtask timing (for example\n * `Promise.resolve()`), or be deferred until the first time the element's\n * `connectedCallback` runs.\n *\n * Usage considerations when using shimmed custom properties or `@apply`:\n *\n * * Whenever any dynamic changes are made which affect\n * css custom properties, `ShadyCSS.styleElement(element)` must be called\n * to update the element. There are two cases when this is needed:\n * (1) the element is connected to a new parent, (2) a class is added to the\n * element that causes it to match different custom properties.\n * To address the first case when rendering a custom element, `styleElement`\n * should be called in the element's `connectedCallback`.\n *\n * * Shimmed custom properties may only be defined either for an entire\n * shadowRoot (for example, in a `:host` rule) or via a rule that directly\n * matches an element with a shadowRoot. In other words, instead of flowing from\n * parent to child as do native css custom properties, shimmed custom properties\n * flow only from shadowRoots to nested shadowRoots.\n *\n * * When using `@apply` mixing css shorthand property names with\n * non-shorthand names (for example `border` and `border-width`) is not\n * supported.\n */\nexport const render = (result, container, options) => {\n    if (!options || typeof options !== 'object' || !options.scopeName) {\n        throw new Error('The `scopeName` option is required.');\n    }\n    const scopeName = options.scopeName;\n    const hasRendered = parts.has(container);\n    const needsScoping = compatibleShadyCSSVersion &&\n        container.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */ &&\n        !!container.host;\n    // Handle first render to a scope specially...\n    const firstScopeRender = needsScoping && !shadyRenderSet.has(scopeName);\n    // On first scope render, render into a fragment; this cannot be a single\n    // fragment that is reused since nested renders can occur synchronously.\n    const renderContainer = firstScopeRender ? document.createDocumentFragment() : container;\n    litRender(result, renderContainer, Object.assign({ templateFactory: shadyTemplateFactory(scopeName) }, options));\n    // When performing first scope render,\n    // (1) We've rendered into a fragment so that there's a chance to\n    // `prepareTemplateStyles` before sub-elements hit the DOM\n    // (which might cause them to render based on a common pattern of\n    // rendering in a custom element's `connectedCallback`);\n    // (2) Scope the template with ShadyCSS one time only for this scope.\n    // (3) Render the fragment into the container and make sure the\n    // container knows its `part` is the one we just rendered. This ensures\n    // DOM will be re-used on subsequent renders.\n    if (firstScopeRender) {\n        const part = parts.get(renderContainer);\n        parts.delete(renderContainer);\n        // ShadyCSS might have style sheets (e.g. from `prepareAdoptedCssText`)\n        // that should apply to `renderContainer` even if the rendered value is\n        // not a TemplateInstance. However, it will only insert scoped styles\n        // into the document if `prepareTemplateStyles` has already been called\n        // for the given scope name.\n        const template = part.value instanceof TemplateInstance ?\n            part.value.template :\n            undefined;\n        prepareTemplateStyles(scopeName, renderContainer, template);\n        removeNodes(container, container.firstChild);\n        container.appendChild(renderContainer);\n        parts.set(container, part);\n    }\n    // After elements have hit the DOM, update styling if this is the\n    // initial render to this container.\n    // This is needed whenever dynamic changes are made so it would be\n    // safest to do every render; however, this would regress performance\n    // so we leave it up to the user to call `ShadyCSS.styleElement`\n    // for dynamic changes.\n    if (!hasRendered && needsScoping) {\n        window.ShadyCSS.styleElement(container.host);\n    }\n};\n//# sourceMappingURL=shady-render.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nvar _a;\n/**\n * Use this module if you want to create your own base class extending\n * [[UpdatingElement]].\n * @packageDocumentation\n */\n/*\n * When using Closure Compiler, JSCompiler_renameProperty(property, object) is\n * replaced at compile time by the munged name for object[property]. We cannot\n * alias this function, so we have to use a small shim that has the same\n * behavior when not compiling.\n */\nwindow.JSCompiler_renameProperty =\n    (prop, _obj) => prop;\nexport const defaultConverter = {\n    toAttribute(value, type) {\n        switch (type) {\n            case Boolean:\n                return value ? '' : null;\n            case Object:\n            case Array:\n                // if the value is `null` or `undefined` pass this through\n                // to allow removing/no change behavior.\n                return value == null ? value : JSON.stringify(value);\n        }\n        return value;\n    },\n    fromAttribute(value, type) {\n        switch (type) {\n            case Boolean:\n                return value !== null;\n            case Number:\n                return value === null ? null : Number(value);\n            case Object:\n            case Array:\n                return JSON.parse(value);\n        }\n        return value;\n    }\n};\n/**\n * Change function that returns true if `value` is different from `oldValue`.\n * This method is used as the default for a property's `hasChanged` function.\n */\nexport const notEqual = (value, old) => {\n    // This ensures (old==NaN, value==NaN) always returns false\n    return old !== value && (old === old || value === value);\n};\nconst defaultPropertyDeclaration = {\n    attribute: true,\n    type: String,\n    converter: defaultConverter,\n    reflect: false,\n    hasChanged: notEqual\n};\nconst STATE_HAS_UPDATED = 1;\nconst STATE_UPDATE_REQUESTED = 1 << 2;\nconst STATE_IS_REFLECTING_TO_ATTRIBUTE = 1 << 3;\nconst STATE_IS_REFLECTING_TO_PROPERTY = 1 << 4;\n/**\n * The Closure JS Compiler doesn't currently have good support for static\n * property semantics where \"this\" is dynamic (e.g.\n * https://github.com/google/closure-compiler/issues/3177 and others) so we use\n * this hack to bypass any rewriting by the compiler.\n */\nconst finalized = 'finalized';\n/**\n * Base element class which manages element properties and attributes. When\n * properties change, the `update` method is asynchronously called. This method\n * should be supplied by subclassers to render updates as desired.\n * @noInheritDoc\n */\nexport class UpdatingElement extends HTMLElement {\n    constructor() {\n        super();\n        this.initialize();\n    }\n    /**\n     * Returns a list of attributes corresponding to the registered properties.\n     * @nocollapse\n     */\n    static get observedAttributes() {\n        // note: piggy backing on this to ensure we're finalized.\n        this.finalize();\n        const attributes = [];\n        // Use forEach so this works even if for/of loops are compiled to for loops\n        // expecting arrays\n        this._classProperties.forEach((v, p) => {\n            const attr = this._attributeNameForProperty(p, v);\n            if (attr !== undefined) {\n                this._attributeToPropertyMap.set(attr, p);\n                attributes.push(attr);\n            }\n        });\n        return attributes;\n    }\n    /**\n     * Ensures the private `_classProperties` property metadata is created.\n     * In addition to `finalize` this is also called in `createProperty` to\n     * ensure the `@property` decorator can add property metadata.\n     */\n    /** @nocollapse */\n    static _ensureClassProperties() {\n        // ensure private storage for property declarations.\n        if (!this.hasOwnProperty(JSCompiler_renameProperty('_classProperties', this))) {\n            this._classProperties = new Map();\n            // NOTE: Workaround IE11 not supporting Map constructor argument.\n            const superProperties = Object.getPrototypeOf(this)._classProperties;\n            if (superProperties !== undefined) {\n                superProperties.forEach((v, k) => this._classProperties.set(k, v));\n            }\n        }\n    }\n    /**\n     * Creates a property accessor on the element prototype if one does not exist\n     * and stores a PropertyDeclaration for the property with the given options.\n     * The property setter calls the property's `hasChanged` property option\n     * or uses a strict identity check to determine whether or not to request\n     * an update.\n     *\n     * This method may be overridden to customize properties; however,\n     * when doing so, it's important to call `super.createProperty` to ensure\n     * the property is setup correctly. This method calls\n     * `getPropertyDescriptor` internally to get a descriptor to install.\n     * To customize what properties do when they are get or set, override\n     * `getPropertyDescriptor`. To customize the options for a property,\n     * implement `createProperty` like this:\n     *\n     * static createProperty(name, options) {\n     *   options = Object.assign(options, {myOption: true});\n     *   super.createProperty(name, options);\n     * }\n     *\n     * @nocollapse\n     */\n    static createProperty(name, options = defaultPropertyDeclaration) {\n        // Note, since this can be called by the `@property` decorator which\n        // is called before `finalize`, we ensure storage exists for property\n        // metadata.\n        this._ensureClassProperties();\n        this._classProperties.set(name, options);\n        // Do not generate an accessor if the prototype already has one, since\n        // it would be lost otherwise and that would never be the user's intention;\n        // Instead, we expect users to call `requestUpdate` themselves from\n        // user-defined accessors. Note that if the super has an accessor we will\n        // still overwrite it\n        if (options.noAccessor || this.prototype.hasOwnProperty(name)) {\n            return;\n        }\n        const key = typeof name === 'symbol' ? Symbol() : `__${name}`;\n        const descriptor = this.getPropertyDescriptor(name, key, options);\n        if (descriptor !== undefined) {\n            Object.defineProperty(this.prototype, name, descriptor);\n        }\n    }\n    /**\n     * Returns a property descriptor to be defined on the given named property.\n     * If no descriptor is returned, the property will not become an accessor.\n     * For example,\n     *\n     *   class MyElement extends LitElement {\n     *     static getPropertyDescriptor(name, key, options) {\n     *       const defaultDescriptor =\n     *           super.getPropertyDescriptor(name, key, options);\n     *       const setter = defaultDescriptor.set;\n     *       return {\n     *         get: defaultDescriptor.get,\n     *         set(value) {\n     *           setter.call(this, value);\n     *           // custom action.\n     *         },\n     *         configurable: true,\n     *         enumerable: true\n     *       }\n     *     }\n     *   }\n     *\n     * @nocollapse\n     */\n    static getPropertyDescriptor(name, key, options) {\n        return {\n            // tslint:disable-next-line:no-any no symbol in index\n            get() {\n                return this[key];\n            },\n            set(value) {\n                const oldValue = this[name];\n                this[key] = value;\n                this\n                    .requestUpdateInternal(name, oldValue, options);\n            },\n            configurable: true,\n            enumerable: true\n        };\n    }\n    /**\n     * Returns the property options associated with the given property.\n     * These options are defined with a PropertyDeclaration via the `properties`\n     * object or the `@property` decorator and are registered in\n     * `createProperty(...)`.\n     *\n     * Note, this method should be considered \"final\" and not overridden. To\n     * customize the options for a given property, override `createProperty`.\n     *\n     * @nocollapse\n     * @final\n     */\n    static getPropertyOptions(name) {\n        return this._classProperties && this._classProperties.get(name) ||\n            defaultPropertyDeclaration;\n    }\n    /**\n     * Creates property accessors for registered properties and ensures\n     * any superclasses are also finalized.\n     * @nocollapse\n     */\n    static finalize() {\n        // finalize any superclasses\n        const superCtor = Object.getPrototypeOf(this);\n        if (!superCtor.hasOwnProperty(finalized)) {\n            superCtor.finalize();\n        }\n        this[finalized] = true;\n        this._ensureClassProperties();\n        // initialize Map populated in observedAttributes\n        this._attributeToPropertyMap = new Map();\n        // make any properties\n        // Note, only process \"own\" properties since this element will inherit\n        // any properties defined on the superClass, and finalization ensures\n        // the entire prototype chain is finalized.\n        if (this.hasOwnProperty(JSCompiler_renameProperty('properties', this))) {\n            const props = this.properties;\n            // support symbols in properties (IE11 does not support this)\n            const propKeys = [\n                ...Object.getOwnPropertyNames(props),\n                ...(typeof Object.getOwnPropertySymbols === 'function') ?\n                    Object.getOwnPropertySymbols(props) :\n                    []\n            ];\n            // This for/of is ok because propKeys is an array\n            for (const p of propKeys) {\n                // note, use of `any` is due to TypeSript lack of support for symbol in\n                // index types\n                // tslint:disable-next-line:no-any no symbol in index\n                this.createProperty(p, props[p]);\n            }\n        }\n    }\n    /**\n     * Returns the property name for the given attribute `name`.\n     * @nocollapse\n     */\n    static _attributeNameForProperty(name, options) {\n        const attribute = options.attribute;\n        return attribute === false ?\n            undefined :\n            (typeof attribute === 'string' ?\n                attribute :\n                (typeof name === 'string' ? name.toLowerCase() : undefined));\n    }\n    /**\n     * Returns true if a property should request an update.\n     * Called when a property value is set and uses the `hasChanged`\n     * option for the property if present or a strict identity check.\n     * @nocollapse\n     */\n    static _valueHasChanged(value, old, hasChanged = notEqual) {\n        return hasChanged(value, old);\n    }\n    /**\n     * Returns the property value for the given attribute value.\n     * Called via the `attributeChangedCallback` and uses the property's\n     * `converter` or `converter.fromAttribute` property option.\n     * @nocollapse\n     */\n    static _propertyValueFromAttribute(value, options) {\n        const type = options.type;\n        const converter = options.converter || defaultConverter;\n        const fromAttribute = (typeof converter === 'function' ? converter : converter.fromAttribute);\n        return fromAttribute ? fromAttribute(value, type) : value;\n    }\n    /**\n     * Returns the attribute value for the given property value. If this\n     * returns undefined, the property will *not* be reflected to an attribute.\n     * If this returns null, the attribute will be removed, otherwise the\n     * attribute will be set to the value.\n     * This uses the property's `reflect` and `type.toAttribute` property options.\n     * @nocollapse\n     */\n    static _propertyValueToAttribute(value, options) {\n        if (options.reflect === undefined) {\n            return;\n        }\n        const type = options.type;\n        const converter = options.converter;\n        const toAttribute = converter && converter.toAttribute ||\n            defaultConverter.toAttribute;\n        return toAttribute(value, type);\n    }\n    /**\n     * Performs element initialization. By default captures any pre-set values for\n     * registered properties.\n     */\n    initialize() {\n        this._updateState = 0;\n        this._updatePromise =\n            new Promise((res) => this._enableUpdatingResolver = res);\n        this._changedProperties = new Map();\n        this._saveInstanceProperties();\n        // ensures first update will be caught by an early access of\n        // `updateComplete`\n        this.requestUpdateInternal();\n    }\n    /**\n     * Fixes any properties set on the instance before upgrade time.\n     * Otherwise these would shadow the accessor and break these properties.\n     * The properties are stored in a Map which is played back after the\n     * constructor runs. Note, on very old versions of Safari (<=9) or Chrome\n     * (<=41), properties created for native platform properties like (`id` or\n     * `name`) may not have default values set in the element constructor. On\n     * these browsers native properties appear on instances and therefore their\n     * default value will overwrite any element default (e.g. if the element sets\n     * this.id = 'id' in the constructor, the 'id' will become '' since this is\n     * the native platform default).\n     */\n    _saveInstanceProperties() {\n        // Use forEach so this works even if for/of loops are compiled to for loops\n        // expecting arrays\n        this.constructor\n            ._classProperties.forEach((_v, p) => {\n            if (this.hasOwnProperty(p)) {\n                const value = this[p];\n                delete this[p];\n                if (!this._instanceProperties) {\n                    this._instanceProperties = new Map();\n                }\n                this._instanceProperties.set(p, value);\n            }\n        });\n    }\n    /**\n     * Applies previously saved instance properties.\n     */\n    _applyInstanceProperties() {\n        // Use forEach so this works even if for/of loops are compiled to for loops\n        // expecting arrays\n        // tslint:disable-next-line:no-any\n        this._instanceProperties.forEach((v, p) => this[p] = v);\n        this._instanceProperties = undefined;\n    }\n    connectedCallback() {\n        // Ensure first connection completes an update. Updates cannot complete\n        // before connection.\n        this.enableUpdating();\n    }\n    enableUpdating() {\n        if (this._enableUpdatingResolver !== undefined) {\n            this._enableUpdatingResolver();\n            this._enableUpdatingResolver = undefined;\n        }\n    }\n    /**\n     * Allows for `super.disconnectedCallback()` in extensions while\n     * reserving the possibility of making non-breaking feature additions\n     * when disconnecting at some point in the future.\n     */\n    disconnectedCallback() {\n    }\n    /**\n     * Synchronizes property values when attributes change.\n     */\n    attributeChangedCallback(name, old, value) {\n        if (old !== value) {\n            this._attributeToProperty(name, value);\n        }\n    }\n    _propertyToAttribute(name, value, options = defaultPropertyDeclaration) {\n        const ctor = this.constructor;\n        const attr = ctor._attributeNameForProperty(name, options);\n        if (attr !== undefined) {\n            const attrValue = ctor._propertyValueToAttribute(value, options);\n            // an undefined value does not change the attribute.\n            if (attrValue === undefined) {\n                return;\n            }\n            // Track if the property is being reflected to avoid\n            // setting the property again via `attributeChangedCallback`. Note:\n            // 1. this takes advantage of the fact that the callback is synchronous.\n            // 2. will behave incorrectly if multiple attributes are in the reaction\n            // stack at time of calling. However, since we process attributes\n            // in `update` this should not be possible (or an extreme corner case\n            // that we'd like to discover).\n            // mark state reflecting\n            this._updateState = this._updateState | STATE_IS_REFLECTING_TO_ATTRIBUTE;\n            if (attrValue == null) {\n                this.removeAttribute(attr);\n            }\n            else {\n                this.setAttribute(attr, attrValue);\n            }\n            // mark state not reflecting\n            this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_ATTRIBUTE;\n        }\n    }\n    _attributeToProperty(name, value) {\n        // Use tracking info to avoid deserializing attribute value if it was\n        // just set from a property setter.\n        if (this._updateState & STATE_IS_REFLECTING_TO_ATTRIBUTE) {\n            return;\n        }\n        const ctor = this.constructor;\n        // Note, hint this as an `AttributeMap` so closure clearly understands\n        // the type; it has issues with tracking types through statics\n        // tslint:disable-next-line:no-unnecessary-type-assertion\n        const propName = ctor._attributeToPropertyMap.get(name);\n        if (propName !== undefined) {\n            const options = ctor.getPropertyOptions(propName);\n            // mark state reflecting\n            this._updateState = this._updateState | STATE_IS_REFLECTING_TO_PROPERTY;\n            this[propName] =\n                // tslint:disable-next-line:no-any\n                ctor._propertyValueFromAttribute(value, options);\n            // mark state not reflecting\n            this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_PROPERTY;\n        }\n    }\n    /**\n     * This protected version of `requestUpdate` does not access or return the\n     * `updateComplete` promise. This promise can be overridden and is therefore\n     * not free to access.\n     */\n    requestUpdateInternal(name, oldValue, options) {\n        let shouldRequestUpdate = true;\n        // If we have a property key, perform property update steps.\n        if (name !== undefined) {\n            const ctor = this.constructor;\n            options = options || ctor.getPropertyOptions(name);\n            if (ctor._valueHasChanged(this[name], oldValue, options.hasChanged)) {\n                if (!this._changedProperties.has(name)) {\n                    this._changedProperties.set(name, oldValue);\n                }\n                // Add to reflecting properties set.\n                // Note, it's important that every change has a chance to add the\n                // property to `_reflectingProperties`. This ensures setting\n                // attribute + property reflects correctly.\n                if (options.reflect === true &&\n                    !(this._updateState & STATE_IS_REFLECTING_TO_PROPERTY)) {\n                    if (this._reflectingProperties === undefined) {\n                        this._reflectingProperties = new Map();\n                    }\n                    this._reflectingProperties.set(name, options);\n                }\n            }\n            else {\n                // Abort the request if the property should not be considered changed.\n                shouldRequestUpdate = false;\n            }\n        }\n        if (!this._hasRequestedUpdate && shouldRequestUpdate) {\n            this._updatePromise = this._enqueueUpdate();\n        }\n    }\n    /**\n     * Requests an update which is processed asynchronously. This should\n     * be called when an element should update based on some state not triggered\n     * by setting a property. In this case, pass no arguments. It should also be\n     * called when manually implementing a property setter. In this case, pass the\n     * property `name` and `oldValue` to ensure that any configured property\n     * options are honored. Returns the `updateComplete` Promise which is resolved\n     * when the update completes.\n     *\n     * @param name {PropertyKey} (optional) name of requesting property\n     * @param oldValue {any} (optional) old value of requesting property\n     * @returns {Promise} A Promise that is resolved when the update completes.\n     */\n    requestUpdate(name, oldValue) {\n        this.requestUpdateInternal(name, oldValue);\n        return this.updateComplete;\n    }\n    /**\n     * Sets up the element to asynchronously update.\n     */\n    async _enqueueUpdate() {\n        this._updateState = this._updateState | STATE_UPDATE_REQUESTED;\n        try {\n            // Ensure any previous update has resolved before updating.\n            // This `await` also ensures that property changes are batched.\n            await this._updatePromise;\n        }\n        catch (e) {\n            // Ignore any previous errors. We only care that the previous cycle is\n            // done. Any error should have been handled in the previous update.\n        }\n        const result = this.performUpdate();\n        // If `performUpdate` returns a Promise, we await it. This is done to\n        // enable coordinating updates with a scheduler. Note, the result is\n        // checked to avoid delaying an additional microtask unless we need to.\n        if (result != null) {\n            await result;\n        }\n        return !this._hasRequestedUpdate;\n    }\n    get _hasRequestedUpdate() {\n        return (this._updateState & STATE_UPDATE_REQUESTED);\n    }\n    get hasUpdated() {\n        return (this._updateState & STATE_HAS_UPDATED);\n    }\n    /**\n     * Performs an element update. Note, if an exception is thrown during the\n     * update, `firstUpdated` and `updated` will not be called.\n     *\n     * You can override this method to change the timing of updates. If this\n     * method is overridden, `super.performUpdate()` must be called.\n     *\n     * For instance, to schedule updates to occur just before the next frame:\n     *\n     * ```\n     * protected async performUpdate(): Promise<unknown> {\n     *   await new Promise((resolve) => requestAnimationFrame(() => resolve()));\n     *   super.performUpdate();\n     * }\n     * ```\n     */\n    performUpdate() {\n        // Abort any update if one is not pending when this is called.\n        // This can happen if `performUpdate` is called early to \"flush\"\n        // the update.\n        if (!this._hasRequestedUpdate) {\n            return;\n        }\n        // Mixin instance properties once, if they exist.\n        if (this._instanceProperties) {\n            this._applyInstanceProperties();\n        }\n        let shouldUpdate = false;\n        const changedProperties = this._changedProperties;\n        try {\n            shouldUpdate = this.shouldUpdate(changedProperties);\n            if (shouldUpdate) {\n                this.update(changedProperties);\n            }\n            else {\n                this._markUpdated();\n            }\n        }\n        catch (e) {\n            // Prevent `firstUpdated` and `updated` from running when there's an\n            // update exception.\n            shouldUpdate = false;\n            // Ensure element can accept additional updates after an exception.\n            this._markUpdated();\n            throw e;\n        }\n        if (shouldUpdate) {\n            if (!(this._updateState & STATE_HAS_UPDATED)) {\n                this._updateState = this._updateState | STATE_HAS_UPDATED;\n                this.firstUpdated(changedProperties);\n            }\n            this.updated(changedProperties);\n        }\n    }\n    _markUpdated() {\n        this._changedProperties = new Map();\n        this._updateState = this._updateState & ~STATE_UPDATE_REQUESTED;\n    }\n    /**\n     * Returns a Promise that resolves when the element has completed updating.\n     * The Promise value is a boolean that is `true` if the element completed the\n     * update without triggering another update. The Promise result is `false` if\n     * a property was set inside `updated()`. If the Promise is rejected, an\n     * exception was thrown during the update.\n     *\n     * To await additional asynchronous work, override the `_getUpdateComplete`\n     * method. For example, it is sometimes useful to await a rendered element\n     * before fulfilling this Promise. To do this, first await\n     * `super._getUpdateComplete()`, then any subsequent state.\n     *\n     * @returns {Promise} The Promise returns a boolean that indicates if the\n     * update resolved without triggering another update.\n     */\n    get updateComplete() {\n        return this._getUpdateComplete();\n    }\n    /**\n     * Override point for the `updateComplete` promise.\n     *\n     * It is not safe to override the `updateComplete` getter directly due to a\n     * limitation in TypeScript which means it is not possible to call a\n     * superclass getter (e.g. `super.updateComplete.then(...)`) when the target\n     * language is ES5 (https://github.com/microsoft/TypeScript/issues/338).\n     * This method should be overridden instead. For example:\n     *\n     *   class MyElement extends LitElement {\n     *     async _getUpdateComplete() {\n     *       await super._getUpdateComplete();\n     *       await this._myChild.updateComplete;\n     *     }\n     *   }\n     */\n    _getUpdateComplete() {\n        return this._updatePromise;\n    }\n    /**\n     * Controls whether or not `update` should be called when the element requests\n     * an update. By default, this method always returns `true`, but this can be\n     * customized to control when to update.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     */\n    shouldUpdate(_changedProperties) {\n        return true;\n    }\n    /**\n     * Updates the element. This method reflects property values to attributes.\n     * It can be overridden to render and keep updated element DOM.\n     * Setting properties inside this method will *not* trigger\n     * another update.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     */\n    update(_changedProperties) {\n        if (this._reflectingProperties !== undefined &&\n            this._reflectingProperties.size > 0) {\n            // Use forEach so this works even if for/of loops are compiled to for\n            // loops expecting arrays\n            this._reflectingProperties.forEach((v, k) => this._propertyToAttribute(k, this[k], v));\n            this._reflectingProperties = undefined;\n        }\n        this._markUpdated();\n    }\n    /**\n     * Invoked whenever the element is updated. Implement to perform\n     * post-updating tasks via DOM APIs, for example, focusing an element.\n     *\n     * Setting properties inside this method will trigger the element to update\n     * again after this update cycle completes.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     */\n    updated(_changedProperties) {\n    }\n    /**\n     * Invoked when the element is first updated. Implement to perform one time\n     * work on the element after update.\n     *\n     * Setting properties inside this method will trigger the element to update\n     * again after this update cycle completes.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     */\n    firstUpdated(_changedProperties) {\n    }\n}\n_a = finalized;\n/**\n * Marks class as having finished creating properties.\n */\nUpdatingElement[_a] = true;\n//# sourceMappingURL=updating-element.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nconst legacyCustomElement = (tagName, clazz) => {\n    window.customElements.define(tagName, clazz);\n    // Cast as any because TS doesn't recognize the return type as being a\n    // subtype of the decorated class when clazz is typed as\n    // `Constructor<HTMLElement>` for some reason.\n    // `Constructor<HTMLElement>` is helpful to make sure the decorator is\n    // applied to elements however.\n    // tslint:disable-next-line:no-any\n    return clazz;\n};\nconst standardCustomElement = (tagName, descriptor) => {\n    const { kind, elements } = descriptor;\n    return {\n        kind,\n        elements,\n        // This callback is called once the class is otherwise fully defined\n        finisher(clazz) {\n            window.customElements.define(tagName, clazz);\n        }\n    };\n};\n/**\n * Class decorator factory that defines the decorated class as a custom element.\n *\n * ```\n * @customElement('my-element')\n * class MyElement {\n *   render() {\n *     return html``;\n *   }\n * }\n * ```\n * @category Decorator\n * @param tagName The name of the custom element to define.\n */\nexport const customElement = (tagName) => (classOrDescriptor) => (typeof classOrDescriptor === 'function') ?\n    legacyCustomElement(tagName, classOrDescriptor) :\n    standardCustomElement(tagName, classOrDescriptor);\nconst standardProperty = (options, element) => {\n    // When decorating an accessor, pass it through and add property metadata.\n    // Note, the `hasOwnProperty` check in `createProperty` ensures we don't\n    // stomp over the user's accessor.\n    if (element.kind === 'method' && element.descriptor &&\n        !('value' in element.descriptor)) {\n        return Object.assign(Object.assign({}, element), { finisher(clazz) {\n                clazz.createProperty(element.key, options);\n            } });\n    }\n    else {\n        // createProperty() takes care of defining the property, but we still\n        // must return some kind of descriptor, so return a descriptor for an\n        // unused prototype field. The finisher calls createProperty().\n        return {\n            kind: 'field',\n            key: Symbol(),\n            placement: 'own',\n            descriptor: {},\n            // When @babel/plugin-proposal-decorators implements initializers,\n            // do this instead of the initializer below. See:\n            // https://github.com/babel/babel/issues/9260 extras: [\n            //   {\n            //     kind: 'initializer',\n            //     placement: 'own',\n            //     initializer: descriptor.initializer,\n            //   }\n            // ],\n            initializer() {\n                if (typeof element.initializer === 'function') {\n                    this[element.key] = element.initializer.call(this);\n                }\n            },\n            finisher(clazz) {\n                clazz.createProperty(element.key, options);\n            }\n        };\n    }\n};\nconst legacyProperty = (options, proto, name) => {\n    proto.constructor\n        .createProperty(name, options);\n};\n/**\n * A property decorator which creates a LitElement property which reflects a\n * corresponding attribute value. A [[`PropertyDeclaration`]] may optionally be\n * supplied to configure property features.\n *\n * This decorator should only be used for public fields. Private or protected\n * fields should use the [[`internalProperty`]] decorator.\n *\n * @example\n * ```ts\n * class MyElement {\n *   @property({ type: Boolean })\n *   clicked = false;\n * }\n * ```\n * @category Decorator\n * @ExportDecoratedItems\n */\nexport function property(options) {\n    // tslint:disable-next-line:no-any decorator\n    return (protoOrDescriptor, name) => (name !== undefined) ?\n        legacyProperty(options, protoOrDescriptor, name) :\n        standardProperty(options, protoOrDescriptor);\n}\n/**\n * Declares a private or protected property that still triggers updates to the\n * element when it changes.\n *\n * Properties declared this way must not be used from HTML or HTML templating\n * systems, they're solely for properties internal to the element. These\n * properties may be renamed by optimization tools like closure compiler.\n * @category Decorator\n */\nexport function internalProperty(options) {\n    return property({ attribute: false, hasChanged: options === null || options === void 0 ? void 0 : options.hasChanged });\n}\n/**\n * A property decorator that converts a class property into a getter that\n * executes a querySelector on the element's renderRoot.\n *\n * @param selector A DOMString containing one or more selectors to match.\n * @param cache An optional boolean which when true performs the DOM query only\n * once and caches the result.\n *\n * See: https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector\n *\n * @example\n *\n * ```ts\n * class MyElement {\n *   @query('#first')\n *   first;\n *\n *   render() {\n *     return html`\n *       <div id=\"first\"></div>\n *       <div id=\"second\"></div>\n *     `;\n *   }\n * }\n * ```\n * @category Decorator\n */\nexport function query(selector, cache) {\n    return (protoOrDescriptor, \n    // tslint:disable-next-line:no-any decorator\n    name) => {\n        const descriptor = {\n            get() {\n                return this.renderRoot.querySelector(selector);\n            },\n            enumerable: true,\n            configurable: true,\n        };\n        if (cache) {\n            const key = typeof name === 'symbol' ? Symbol() : `__${name}`;\n            descriptor.get = function () {\n                if (this[key] === undefined) {\n                    (this[key] =\n                        this.renderRoot.querySelector(selector));\n                }\n                return this[key];\n            };\n        }\n        return (name !== undefined) ?\n            legacyQuery(descriptor, protoOrDescriptor, name) :\n            standardQuery(descriptor, protoOrDescriptor);\n    };\n}\n// Note, in the future, we may extend this decorator to support the use case\n// where the queried element may need to do work to become ready to interact\n// with (e.g. load some implementation code). If so, we might elect to\n// add a second argument defining a function that can be run to make the\n// queried element loaded/updated/ready.\n/**\n * A property decorator that converts a class property into a getter that\n * returns a promise that resolves to the result of a querySelector on the\n * element's renderRoot done after the element's `updateComplete` promise\n * resolves. When the queried property may change with element state, this\n * decorator can be used instead of requiring users to await the\n * `updateComplete` before accessing the property.\n *\n * @param selector A DOMString containing one or more selectors to match.\n *\n * See: https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector\n *\n * @example\n * ```ts\n * class MyElement {\n *   @queryAsync('#first')\n *   first;\n *\n *   render() {\n *     return html`\n *       <div id=\"first\"></div>\n *       <div id=\"second\"></div>\n *     `;\n *   }\n * }\n *\n * // external usage\n * async doSomethingWithFirst() {\n *  (await aMyElement.first).doSomething();\n * }\n * ```\n * @category Decorator\n */\nexport function queryAsync(selector) {\n    return (protoOrDescriptor, \n    // tslint:disable-next-line:no-any decorator\n    name) => {\n        const descriptor = {\n            async get() {\n                await this.updateComplete;\n                return this.renderRoot.querySelector(selector);\n            },\n            enumerable: true,\n            configurable: true,\n        };\n        return (name !== undefined) ?\n            legacyQuery(descriptor, protoOrDescriptor, name) :\n            standardQuery(descriptor, protoOrDescriptor);\n    };\n}\n/**\n * A property decorator that converts a class property into a getter\n * that executes a querySelectorAll on the element's renderRoot.\n *\n * @param selector A DOMString containing one or more selectors to match.\n *\n * See:\n * https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll\n *\n * @example\n * ```ts\n * class MyElement {\n *   @queryAll('div')\n *   divs;\n *\n *   render() {\n *     return html`\n *       <div id=\"first\"></div>\n *       <div id=\"second\"></div>\n *     `;\n *   }\n * }\n * ```\n * @category Decorator\n */\nexport function queryAll(selector) {\n    return (protoOrDescriptor, \n    // tslint:disable-next-line:no-any decorator\n    name) => {\n        const descriptor = {\n            get() {\n                return this.renderRoot.querySelectorAll(selector);\n            },\n            enumerable: true,\n            configurable: true,\n        };\n        return (name !== undefined) ?\n            legacyQuery(descriptor, protoOrDescriptor, name) :\n            standardQuery(descriptor, protoOrDescriptor);\n    };\n}\nconst legacyQuery = (descriptor, proto, name) => {\n    Object.defineProperty(proto, name, descriptor);\n};\nconst standardQuery = (descriptor, element) => ({\n    kind: 'method',\n    placement: 'prototype',\n    key: element.key,\n    descriptor,\n});\nconst standardEventOptions = (options, element) => {\n    return Object.assign(Object.assign({}, element), { finisher(clazz) {\n            Object.assign(clazz.prototype[element.key], options);\n        } });\n};\nconst legacyEventOptions = \n// tslint:disable-next-line:no-any legacy decorator\n(options, proto, name) => {\n    Object.assign(proto[name], options);\n};\n/**\n * Adds event listener options to a method used as an event listener in a\n * lit-html template.\n *\n * @param options An object that specifies event listener options as accepted by\n * `EventTarget#addEventListener` and `EventTarget#removeEventListener`.\n *\n * Current browsers support the `capture`, `passive`, and `once` options. See:\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Parameters\n *\n * @example\n * ```ts\n * class MyElement {\n *   clicked = false;\n *\n *   render() {\n *     return html`\n *       <div @click=${this._onClick}`>\n *         <button></button>\n *       </div>\n *     `;\n *   }\n *\n *   @eventOptions({capture: true})\n *   _onClick(e) {\n *     this.clicked = true;\n *   }\n * }\n * ```\n * @category Decorator\n */\nexport function eventOptions(options) {\n    // Return value typed as any to prevent TypeScript from complaining that\n    // standard decorator function signature does not match TypeScript decorator\n    // signature\n    // TODO(kschaaf): unclear why it was only failing on this decorator and not\n    // the others\n    return ((protoOrDescriptor, name) => (name !== undefined) ?\n        legacyEventOptions(options, protoOrDescriptor, name) :\n        standardEventOptions(options, protoOrDescriptor));\n}\n// x-browser support for matches\n// tslint:disable-next-line:no-any\nconst ElementProto = Element.prototype;\nconst legacyMatches = ElementProto.msMatchesSelector || ElementProto.webkitMatchesSelector;\n/**\n * A property decorator that converts a class property into a getter that\n * returns the `assignedNodes` of the given named `slot`. Note, the type of\n * this property should be annotated as `NodeListOf<HTMLElement>`.\n *\n * @param slotName A string name of the slot.\n * @param flatten A boolean which when true flattens the assigned nodes,\n * meaning any assigned nodes that are slot elements are replaced with their\n * assigned nodes.\n * @param selector A string which filters the results to elements that match\n * the given css selector.\n *\n * * @example\n * ```ts\n * class MyElement {\n *   @queryAssignedNodes('list', true, '.item')\n *   listItems;\n *\n *   render() {\n *     return html`\n *       <slot name=\"list\"></slot>\n *     `;\n *   }\n * }\n * ```\n * @category Decorator\n */\nexport function queryAssignedNodes(slotName = '', flatten = false, selector = '') {\n    return (protoOrDescriptor, \n    // tslint:disable-next-line:no-any decorator\n    name) => {\n        const descriptor = {\n            get() {\n                const slotSelector = `slot${slotName ? `[name=${slotName}]` : ':not([name])'}`;\n                const slot = this.renderRoot.querySelector(slotSelector);\n                let nodes = slot && slot.assignedNodes({ flatten });\n                if (nodes && selector) {\n                    nodes = nodes.filter((node) => node.nodeType === Node.ELEMENT_NODE &&\n                        node.matches ?\n                        node.matches(selector) :\n                        legacyMatches.call(node, selector));\n                }\n                return nodes;\n            },\n            enumerable: true,\n            configurable: true,\n        };\n        return (name !== undefined) ?\n            legacyQuery(descriptor, protoOrDescriptor, name) :\n            standardQuery(descriptor, protoOrDescriptor);\n    };\n}\n//# sourceMappingURL=decorators.js.map","/**\n@license\nCopyright (c) 2019 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\n/**\n * Whether the current browser supports `adoptedStyleSheets`.\n */\nexport const supportsAdoptingStyleSheets = (window.ShadowRoot) &&\n    (window.ShadyCSS === undefined || window.ShadyCSS.nativeShadow) &&\n    ('adoptedStyleSheets' in Document.prototype) &&\n    ('replace' in CSSStyleSheet.prototype);\nconst constructionToken = Symbol();\nexport class CSSResult {\n    constructor(cssText, safeToken) {\n        if (safeToken !== constructionToken) {\n            throw new Error('CSSResult is not constructable. Use `unsafeCSS` or `css` instead.');\n        }\n        this.cssText = cssText;\n    }\n    // Note, this is a getter so that it's lazy. In practice, this means\n    // stylesheets are not created until the first element instance is made.\n    get styleSheet() {\n        if (this._styleSheet === undefined) {\n            // Note, if `supportsAdoptingStyleSheets` is true then we assume\n            // CSSStyleSheet is constructable.\n            if (supportsAdoptingStyleSheets) {\n                this._styleSheet = new CSSStyleSheet();\n                this._styleSheet.replaceSync(this.cssText);\n            }\n            else {\n                this._styleSheet = null;\n            }\n        }\n        return this._styleSheet;\n    }\n    toString() {\n        return this.cssText;\n    }\n}\n/**\n * Wrap a value for interpolation in a [[`css`]] tagged template literal.\n *\n * This is unsafe because untrusted CSS text can be used to phone home\n * or exfiltrate data to an attacker controlled site. Take care to only use\n * this with trusted input.\n */\nexport const unsafeCSS = (value) => {\n    return new CSSResult(String(value), constructionToken);\n};\nconst textFromCSSResult = (value) => {\n    if (value instanceof CSSResult) {\n        return value.cssText;\n    }\n    else if (typeof value === 'number') {\n        return value;\n    }\n    else {\n        throw new Error(`Value passed to 'css' function must be a 'css' function result: ${value}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`);\n    }\n};\n/**\n * Template tag which which can be used with LitElement's [[LitElement.styles |\n * `styles`]] property to set element styles. For security reasons, only literal\n * string values may be used. To incorporate non-literal values [[`unsafeCSS`]]\n * may be used inside a template string part.\n */\nexport const css = (strings, ...values) => {\n    const cssText = values.reduce((acc, v, idx) => acc + textFromCSSResult(v) + strings[idx + 1], strings[0]);\n    return new CSSResult(cssText, constructionToken);\n};\n//# sourceMappingURL=css-tag.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * The main LitElement module, which defines the [[`LitElement`]] base class and\n * related APIs.\n *\n *  LitElement components can define a template and a set of observed\n * properties. Changing an observed property triggers a re-render of the\n * element.\n *\n *  Import [[`LitElement`]] and [[`html`]] from this module to create a\n * component:\n *\n *  ```js\n * import {LitElement, html} from 'lit-element';\n *\n * class MyElement extends LitElement {\n *\n *   // Declare observed properties\n *   static get properties() {\n *     return {\n *       adjective: {}\n *     }\n *   }\n *\n *   constructor() {\n *     this.adjective = 'awesome';\n *   }\n *\n *   // Define the element's template\n *   render() {\n *     return html`<p>your ${adjective} template here</p>`;\n *   }\n * }\n *\n * customElements.define('my-element', MyElement);\n * ```\n *\n * `LitElement` extends [[`UpdatingElement`]] and adds lit-html templating.\n * The `UpdatingElement` class is provided for users that want to build\n * their own custom element base classes that don't use lit-html.\n *\n * @packageDocumentation\n */\nimport { render } from 'lit-html/lib/shady-render.js';\nimport { UpdatingElement } from './lib/updating-element.js';\nexport * from './lib/updating-element.js';\nexport * from './lib/decorators.js';\nexport { html, svg, TemplateResult, SVGTemplateResult } from 'lit-html/lit-html.js';\nimport { supportsAdoptingStyleSheets, unsafeCSS } from './lib/css-tag.js';\nexport * from './lib/css-tag.js';\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for LitElement usage.\n// TODO(justinfagnani): inject version number at build time\n(window['litElementVersions'] || (window['litElementVersions'] = []))\n    .push('2.4.0');\n/**\n * Sentinal value used to avoid calling lit-html's render function when\n * subclasses do not implement `render`\n */\nconst renderNotImplemented = {};\n/**\n * Base element class that manages element properties and attributes, and\n * renders a lit-html template.\n *\n * To define a component, subclass `LitElement` and implement a\n * `render` method to provide the component's template. Define properties\n * using the [[`properties`]] property or the [[`property`]] decorator.\n */\nexport class LitElement extends UpdatingElement {\n    /**\n     * Return the array of styles to apply to the element.\n     * Override this method to integrate into a style management system.\n     *\n     * @nocollapse\n     */\n    static getStyles() {\n        return this.styles;\n    }\n    /** @nocollapse */\n    static _getUniqueStyles() {\n        // Only gather styles once per class\n        if (this.hasOwnProperty(JSCompiler_renameProperty('_styles', this))) {\n            return;\n        }\n        // Take care not to call `this.getStyles()` multiple times since this\n        // generates new CSSResults each time.\n        // TODO(sorvell): Since we do not cache CSSResults by input, any\n        // shared styles will generate new stylesheet objects, which is wasteful.\n        // This should be addressed when a browser ships constructable\n        // stylesheets.\n        const userStyles = this.getStyles();\n        if (Array.isArray(userStyles)) {\n            // De-duplicate styles preserving the _last_ instance in the set.\n            // This is a performance optimization to avoid duplicated styles that can\n            // occur especially when composing via subclassing.\n            // The last item is kept to try to preserve the cascade order with the\n            // assumption that it's most important that last added styles override\n            // previous styles.\n            const addStyles = (styles, set) => styles.reduceRight((set, s) => \n            // Note: On IE set.add() does not return the set\n            Array.isArray(s) ? addStyles(s, set) : (set.add(s), set), set);\n            // Array.from does not work on Set in IE, otherwise return\n            // Array.from(addStyles(userStyles, new Set<CSSResult>())).reverse()\n            const set = addStyles(userStyles, new Set());\n            const styles = [];\n            set.forEach((v) => styles.unshift(v));\n            this._styles = styles;\n        }\n        else {\n            this._styles = userStyles === undefined ? [] : [userStyles];\n        }\n        // Ensure that there are no invalid CSSStyleSheet instances here. They are\n        // invalid in two conditions.\n        // (1) the sheet is non-constructible (`sheet` of a HTMLStyleElement), but\n        //     this is impossible to check except via .replaceSync or use\n        // (2) the ShadyCSS polyfill is enabled (:. supportsAdoptingStyleSheets is\n        //     false)\n        this._styles = this._styles.map((s) => {\n            if (s instanceof CSSStyleSheet && !supportsAdoptingStyleSheets) {\n                // Flatten the cssText from the passed constructible stylesheet (or\n                // undetectable non-constructible stylesheet). The user might have\n                // expected to update their stylesheets over time, but the alternative\n                // is a crash.\n                const cssText = Array.prototype.slice.call(s.cssRules)\n                    .reduce((css, rule) => css + rule.cssText, '');\n                return unsafeCSS(cssText);\n            }\n            return s;\n        });\n    }\n    /**\n     * Performs element initialization. By default this calls\n     * [[`createRenderRoot`]] to create the element [[`renderRoot`]] node and\n     * captures any pre-set values for registered properties.\n     */\n    initialize() {\n        super.initialize();\n        this.constructor._getUniqueStyles();\n        this.renderRoot = this.createRenderRoot();\n        // Note, if renderRoot is not a shadowRoot, styles would/could apply to the\n        // element's getRootNode(). While this could be done, we're choosing not to\n        // support this now since it would require different logic around de-duping.\n        if (window.ShadowRoot && this.renderRoot instanceof window.ShadowRoot) {\n            this.adoptStyles();\n        }\n    }\n    /**\n     * Returns the node into which the element should render and by default\n     * creates and returns an open shadowRoot. Implement to customize where the\n     * element's DOM is rendered. For example, to render into the element's\n     * childNodes, return `this`.\n     * @returns {Element|DocumentFragment} Returns a node into which to render.\n     */\n    createRenderRoot() {\n        return this.attachShadow({ mode: 'open' });\n    }\n    /**\n     * Applies styling to the element shadowRoot using the [[`styles`]]\n     * property. Styling will apply using `shadowRoot.adoptedStyleSheets` where\n     * available and will fallback otherwise. When Shadow DOM is polyfilled,\n     * ShadyCSS scopes styles and adds them to the document. When Shadow DOM\n     * is available but `adoptedStyleSheets` is not, styles are appended to the\n     * end of the `shadowRoot` to [mimic spec\n     * behavior](https://wicg.github.io/construct-stylesheets/#using-constructed-stylesheets).\n     */\n    adoptStyles() {\n        const styles = this.constructor._styles;\n        if (styles.length === 0) {\n            return;\n        }\n        // There are three separate cases here based on Shadow DOM support.\n        // (1) shadowRoot polyfilled: use ShadyCSS\n        // (2) shadowRoot.adoptedStyleSheets available: use it\n        // (3) shadowRoot.adoptedStyleSheets polyfilled: append styles after\n        // rendering\n        if (window.ShadyCSS !== undefined && !window.ShadyCSS.nativeShadow) {\n            window.ShadyCSS.ScopingShim.prepareAdoptedCssText(styles.map((s) => s.cssText), this.localName);\n        }\n        else if (supportsAdoptingStyleSheets) {\n            this.renderRoot.adoptedStyleSheets =\n                styles.map((s) => s instanceof CSSStyleSheet ? s : s.styleSheet);\n        }\n        else {\n            // This must be done after rendering so the actual style insertion is done\n            // in `update`.\n            this._needsShimAdoptedStyleSheets = true;\n        }\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        // Note, first update/render handles styleElement so we only call this if\n        // connected after first update.\n        if (this.hasUpdated && window.ShadyCSS !== undefined) {\n            window.ShadyCSS.styleElement(this);\n        }\n    }\n    /**\n     * Updates the element. This method reflects property values to attributes\n     * and calls `render` to render DOM via lit-html. Setting properties inside\n     * this method will *not* trigger another update.\n     * @param _changedProperties Map of changed properties with old values\n     */\n    update(changedProperties) {\n        // Setting properties in `render` should not trigger an update. Since\n        // updates are allowed after super.update, it's important to call `render`\n        // before that.\n        const templateResult = this.render();\n        super.update(changedProperties);\n        // If render is not implemented by the component, don't call lit-html render\n        if (templateResult !== renderNotImplemented) {\n            this.constructor\n                .render(templateResult, this.renderRoot, { scopeName: this.localName, eventContext: this });\n        }\n        // When native Shadow DOM is used but adoptedStyles are not supported,\n        // insert styling after rendering to ensure adoptedStyles have highest\n        // priority.\n        if (this._needsShimAdoptedStyleSheets) {\n            this._needsShimAdoptedStyleSheets = false;\n            this.constructor._styles.forEach((s) => {\n                const style = document.createElement('style');\n                style.textContent = s.cssText;\n                this.renderRoot.appendChild(style);\n            });\n        }\n    }\n    /**\n     * Invoked on each update to perform rendering tasks. This method may return\n     * any value renderable by lit-html's `NodePart` - typically a\n     * `TemplateResult`. Setting properties inside this method will *not* trigger\n     * the element to update.\n     */\n    render() {\n        return renderNotImplemented;\n    }\n}\n/**\n * Ensure this class is marked as `finalized` as an optimization ensuring\n * it will not needlessly try to `finalize`.\n *\n * Note this property name is a string to prevent breaking Closure JS Compiler\n * optimizations. See updating-element.ts for more information.\n */\nLitElement['finalized'] = true;\n/**\n * Reference to the underlying library method used to render the element's\n * DOM. By default, points to the `render` method from lit-html's shady-render\n * module.\n *\n * **Most users will never need to touch this property.**\n *\n * This  property should not be confused with the `render` instance method,\n * which should be overridden to define a template for the element.\n *\n * Advanced users creating a new base class based on LitElement can override\n * this property to point to a custom render method with a signature that\n * matches [shady-render's `render`\n * method](https://lit-html.polymer-project.org/api/modules/shady_render.html#render).\n *\n * @nocollapse\n */\nLitElement.render = render;\n//# sourceMappingURL=lit-element.js.map","import { css } from 'lit-element'\n\nexport const iconfont = css`\n  .icon {\n    font-family: \"iconfont\" !important;\n    font-style: normal;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  .icon-pinyin:before {\n    content: \"\\\\e6ef\";\n  }\n\n  .icon-setting:before {\n    content: \"\\\\e696\";\n  }\n\n  .icon-translate:before {\n    content: \"\\\\e7f8\";\n  }\n\n  .icon-check:before {\n    content: \"\\\\e63f\";\n  }\n\n  .icon-lock:before {\n    content: \"\\\\e62e\";\n  }\n\n  .icon-font-smaller:before {\n    content: \"\\\\e635\";\n  }\n\n  .icon-font-larger:before {\n    content: \"\\\\e6fe\";\n  }\n\n  .icon-font-color:before {\n    content: \"\\\\e62d\";\n  }\n\n  .icon-note:before {\n    content: \"\\\\e6ce\";\n  }\n\n  .icon-clear:before {\n    content: \"\\\\e6d8\";\n  }\n\n  .icon-warn:before {\n    content: \"\\\\e613\";\n  }\n\n  .icon-ok:before {\n    content: \"\\\\e645\";\n  }\n\n  .icon-right:before {\n    content: \"\\\\e62b\";\n  }\n\n  .icon-left:before {\n    content: \"\\\\e605\";\n  }\n\n  .icon-close:before {\n    content: \"\\\\e602\";\n  }\n\n  .icon-lyrics:before {\n    content: \"\\\\e61b\";\n  }\n  \n  .icon-lyrics-on {\n    position: relative;\n    line-height: 1;\n  }\n\n  .icon-lyrics-on:before {\n    content: \"\\\\e61b\";\n  }\n\n  .icon-lyrics-on:after {\n    content: \"\\\\e63f\";\n    font-size: 1em;\n    transform: scale(0.4);\n    transform-origin: bottom right;\n    position: absolute;\n    right: 0.1em;\n    bottom: 0;\n    line-height: 1;\n  }\n\n  .icon-volume:before {\n    content: \"\\\\e606\";\n  }\n\n  .icon-pause-solid:before {\n    content: \"\\\\e6b3\";\n  }\n\n  .icon-play-solid:before {\n    content: \"\\\\e603\";\n  }\n\n  .icon-playlist:before {\n    content: \"\\\\e601\";\n  }\n\n  .icon-solo:before {\n    content: \"\\\\e622\";\n  }\n\n  .icon-shuffle:before {\n    content: \"\\\\e609\";\n  }\n\n  .icon-loop:before {\n    content: \"\\\\e60c\";\n  }\n\n  .icon-pause:before {\n    content: \"\\\\e60e\";\n  }\n\n  .icon-play:before {\n    content: \"\\\\e6ee\";\n  }\n\n  .icon-back:before {\n    content: \"\\\\e65e\";\n  }\n\n  .icon-next:before {\n    content: \"\\\\e663\";\n  }\n\n  .icon-previous:before {\n    content: \"\\\\e664\";\n  }\n\n  .icon-pause-circle:before {\n    content: \"\\\\e666\";\n  }\n\n  .icon-play-circle:before {\n    content: \"\\\\e667\";\n  }\n\n  .icon-menu:before {\n    content: \"\\\\e60a\";\n  }\n\n  .icon-play-next:before {\n    content: \"\\\\e786\";\n  }\n`\n","const orphanMap = {};\nconst resolved = Promise.resolve();\nconst orphanResolveQueue = {\n  contexts: new Set(),\n  running: false,\n\n  add(context) {\n    this.contexts.add(context);\n\n    if (!this.running) {\n      this.running = true;\n      resolved.then(() => {\n        this.contexts.forEach(context => {\n          const orphans = orphanMap[context];\n          orphans.forEach(orphan => {\n            const event = sendContextEvent(orphan, context);\n\n            if (event.detail.handled) {\n              orphans.delete(orphan);\n            }\n          });\n        });\n        this.contexts.clear();\n        this.running = false;\n      });\n    }\n  }\n\n};\n\nfunction addOrphan(el, name) {\n  const orphans = orphanMap[name] || (orphanMap[name] = new Set());\n  orphans.add(el);\n}\n\nfunction removeOrphan(el, name) {\n  const orphans = orphanMap[name];\n\n  if (orphans) {\n    orphans.delete(el);\n  }\n}\n\nfunction sendContextEvent(el, name) {\n  const event = new CustomEvent(`context-request-${name}`, {\n    detail: {},\n    bubbles: true,\n    cancelable: true,\n    composed: true\n  });\n  el.dispatchEvent(event);\n  return event;\n}\n\nfunction registerProvidedContext(el, name, providedContexts) {\n  const observerMap = el.__wcContextObserverMap || (el.__wcContextObserverMap = {});\n  const observers = observerMap[name] || (observerMap[name] = []);\n  const orphans = orphanMap[name];\n  el.addEventListener(`context-request-${name}`, event => {\n    event.stopPropagation();\n    const targetEl = event.target;\n    const value = providedContexts[name];\n    const context = targetEl.context;\n    const oldValue = context[name];\n\n    if (oldValue !== value) {\n      context[name] = value;\n\n      if (targetEl.contextChangedCallback) {\n        targetEl.contextChangedCallback(name, oldValue, value);\n      }\n    }\n\n    observers.push(targetEl);\n    event.detail.handled = true;\n  });\n\n  if (orphans && orphans.size) {\n    orphanResolveQueue.add(name);\n  }\n}\n\nfunction observeContext(el, name) {\n  const event = sendContextEvent(el, name);\n\n  if (!event.detail.handled) {\n    addOrphan(el, name);\n  }\n}\n\nfunction unobserveContext(el, name) {\n  removeOrphan(el, name);\n}\n\nfunction notifyContextChange(el, name, value) {\n  const observerMap = el.__wcContextObserverMap;\n  const observers = observerMap && observerMap[name];\n\n  if (observers) {\n    observers.forEach(observer => {\n      const context = observer.context;\n      const oldValue = context[name];\n\n      if (oldValue !== value) {\n        context[name] = value;\n\n        if (observer.contextChangedCallback) {\n          observer.contextChangedCallback(name, oldValue, value);\n        }\n      }\n    });\n  }\n}\n\nconst initializedElements = new WeakSet();\n\nconst withContext = Base => {\n  return class extends Base {\n    get context() {\n      return this.__wcContext || (this.__wcContext = {});\n    }\n\n    connectedCallback() {\n      super.connectedCallback();\n      const observedContexts = this.constructor.observedContexts;\n\n      if (observedContexts) {\n        observedContexts.forEach(context => observeContext(this, context));\n      }\n\n      if (!initializedElements.has(this)) {\n        const providedContextConfigs = this.constructor.providedContexts;\n\n        if (providedContextConfigs) {\n          const providedContexts = this.__wcProvidedContexts || (this.__wcProvidedContexts = {});\n          const mappedProps = this.__wcMappedProps || (this.__wcMappedProps = {});\n          Object.keys(providedContextConfigs).forEach(name => {\n            const config = providedContextConfigs[name];\n            const property = typeof config === 'string' ? config : config.property;\n            providedContexts[name] = property ? this[property] : config.value;\n\n            if (property) {\n              mappedProps[name] = property;\n            }\n\n            registerProvidedContext(this, name, providedContexts);\n          });\n        }\n\n        initializedElements.add(this);\n      }\n    }\n\n    disconnectedCallback() {\n      super.disconnectedCallback();\n      const observedContexts = this.constructor.observedContexts;\n\n      if (observedContexts) {\n        observedContexts.forEach(context => unobserveContext(this, context));\n      }\n    }\n\n    shouldUpdate(changedProperties) {\n      const shouldChange = super.shouldUpdate(changedProperties);\n      const mappedProps = this.__wcMappedProps;\n\n      if (mappedProps) {\n        const providedContexts = this.__wcProvidedContexts || (this.__wcProvidedContexts = {});\n        Object.keys(mappedProps).forEach(contextName => {\n          const property = mappedProps[contextName];\n\n          if (changedProperties.has(property)) {\n            const value = this[property];\n            providedContexts[contextName] = value;\n            notifyContextChange(this, contextName, value);\n          }\n        });\n      }\n\n      return shouldChange;\n    }\n\n  };\n};\n\nexport { withContext };\n//# sourceMappingURL=lit-element.js.map\n","import { withContext } from 'wc-context/lit-element'\nimport { LitElement } from 'lit-element'\n\nexport const Component = withContext(LitElement)\n","export const connect = (mapStateToProps) => (ClassName) => {\n  if (typeof ClassName !== 'function') throw new Error(`${ClassName.name} has to be a function or class`)\n\n  return class extends ClassName {\n    static get observedContexts () {\n      const oc = ['kokoro']\n      if (ClassName.observedContexts) {\n        oc.push(...ClassName.observedContexts.filter(c => c !== 'kokoro'))\n      }\n      return oc\n    }\n\n    constructor () {\n      super()\n      this.___updateProps = this.___updateProps.bind(this)\n    }\n\n    ___updateProps () {\n      const updatedProps = mapStateToProps(this.context.kokoro.getState())\n      const updatedPropKeys = Object.keys(updatedProps)\n      updatedPropKeys.forEach(key => {\n        if (this[key] !== updatedProps[key]) {\n          if (updatedProps[key] === undefined || updatedProps[key] === null ||\n            typeof updatedProps[key] !== 'object'\n          ) {\n            this[key] = updatedProps[key]\n          } else {\n            if (updatedProps[key] instanceof Array) {\n              this[key] = [...updatedProps[key]]\n            } else {\n              this[key] = { ...updatedProps[key] }\n            }\n          }\n        }\n      })\n    }\n\n    ___updateStateContext () {\n      if (this.context.kokoro) {\n        const props = mapStateToProps(this.context.kokoro.getState())\n        const propKeys = Object.keys(props)\n        propKeys.forEach(key => {\n          this[key] = props[key]\n        })\n        this.context.kokoro.subscribe(this.___updateProps)\n      }\n    }\n\n    firstUpdated (updatedProperties) {\n      this.___updateStateContext()\n      super.firstUpdated(updatedProperties)\n    }\n\n    contextChangedCallback (name, oldValue, value) {\n      if (name === 'kokoro') {\n        if (oldValue) oldValue.unsubscribe(this.___updateProps)\n        this.___updateStateContext()\n      }\n      if (super.contextChangedCallback) {\n        super.contextChangedCallback(name, oldValue, value)\n      }\n      this.requestUpdate()\n    }\n  }\n}\n","export class SafeUri {\n  static safeUri (uri) {\n    let good = decodeURI(uri)\n    while (good !== uri) {\n      uri = good\n      good = decodeURI(uri)\n    }\n    return encodeURI(good)\n  }\n\n  static safe (uri) {\n    if (uri instanceof Array) {\n      return uri.map(u => SafeUri.safe(u))\n    }\n    return SafeUri.safeUri(uri)\n  }\n\n  static indexOf (array, uri) {\n    for (let i = 0; i < array.length; i++) {\n      if (SafeUri.safe(array[i]) === SafeUri.safe(uri)) {\n        return i\n      }\n    }\n    return -1\n  }\n}\n\nexport class SrcUtil {\n  static indexOf (array, src) {\n    for (let i = 0; i < array.length; i++) {\n      if (SrcUtil.same(array[i], src)) {\n        return i\n      }\n    }\n    return -1\n  }\n\n  static same (src1, src2) {\n    if (src1 instanceof Array && typeof src2 === 'string') {\n      return SafeUri.indexOf(src1, src2) !== -1\n    } else if (src2 instanceof Array && typeof src1 === 'string') {\n      return SafeUri.indexOf(src2, src1) !== -1\n    } else if (src1 instanceof Array && src2 instanceof Array) {\n      const m = {}\n      SafeUri.safe(src1).forEach((src) => { m[src] = true })\n      SafeUri.safe(src2).forEach((src) => { m[src] = true })\n      return Object.keys(m).length < src1.length + src2.length\n    }\n    return SafeUri.safe(src1) === SafeUri.safe(src2)\n  }\n}\n","// match `[12:30.1][12:30.2]`\nexport var TAGS_REGEXP = /^(\\[.+\\])+/;\n// match `[ti: The Title]`\nexport var INFO_REGEXP = /^\\s*(\\w+)\\s*:(.*)$/;\n// match `[512:34.1] lyric content`\nexport var TIME_REGEXP = /^\\s*(\\d+)\\s*:\\s*(\\d+(\\s*[\\.:]\\s*\\d+)?)\\s*$/;\nexport var LineType;\n(function (LineType) {\n    LineType[\"INVALID\"] = \"INVALID\";\n    LineType[\"INFO\"] = \"INFO\";\n    LineType[\"TIME\"] = \"TIME\";\n})(LineType || (LineType = {}));\nexport function parseTags(line) {\n    line = line.trim();\n    var matches = TAGS_REGEXP.exec(line);\n    if (matches === null) {\n        return null;\n    }\n    var tag = matches[0];\n    var content = line.substr(tag.length);\n    return [tag.slice(1, -1).split(/\\]\\s*\\[/), content];\n}\nexport function parseTime(tags, content) {\n    var timestamps = [];\n    tags.forEach(function (tag) {\n        var matches = TIME_REGEXP.exec(tag);\n        var minutes = parseFloat(matches[1]);\n        var seconds = parseFloat(matches[2].replace(/\\s+/g, '').replace(':', '.'));\n        timestamps.push(minutes * 60 + seconds);\n    });\n    return {\n        type: LineType.TIME,\n        timestamps: timestamps,\n        content: content.trim(),\n    };\n}\nexport function parseInfo(tag) {\n    var matches = INFO_REGEXP.exec(tag);\n    return {\n        type: LineType.INFO,\n        key: matches[1].trim(),\n        value: matches[2].trim(),\n    };\n}\n/**\n * line parse lrc of timestamp\n * @example\n * const lp = parseLine('[ti: Song title]')\n * lp.type === LineParser.TYPE.INFO\n * lp.key === 'ti'\n * lp.value === 'Song title'\n *\n * const lp = parseLine('[10:10.10]hello')\n * lp.type === LineParser.TYPE.TIME\n * lp.timestamps === [10*60+10.10]\n * lp.content === 'hello'\n */\nexport function parseLine(line) {\n    var parsedTags = parseTags(line);\n    try {\n        if (parsedTags) {\n            var tags = parsedTags[0], content = parsedTags[1];\n            if (TIME_REGEXP.test(tags[0])) {\n                return parseTime(tags, content);\n            }\n            else {\n                return parseInfo(tags[0]);\n            }\n        }\n        return {\n            type: LineType.INVALID,\n        };\n    }\n    catch (_e) {\n        return {\n            type: LineType.INVALID,\n        };\n    }\n}\n","import { parseLine, LineType } from './line-parser';\nexport function padZero(num, size) {\n    if (size === void 0) { size = 2; }\n    while (num.toString().split('.')[0].length < size)\n        num = '0' + num;\n    return num;\n}\n/**\n * get lrc time string\n * @example\n * Lrc.timestampToString(143.54)\n * // return '02:23.54':\n * @param timestamp second timestamp\n */\nexport function timestampToString(timestamp) {\n    return padZero(Math.floor(timestamp / 60)) + \":\" + padZero((timestamp % 60).toFixed(2));\n}\nvar Lrc = /** @class */ (function () {\n    function Lrc() {\n        this.info = {};\n        this.lyrics = [];\n    }\n    /**\n     * parse lrc text and return a Lrc object\n     */\n    Lrc.parse = function (text) {\n        var lyrics = [];\n        var info = {};\n        text\n            .split(/\\r\\n|[\\n\\r]/g)\n            .map(function (line) {\n            return parseLine(line);\n        })\n            .forEach(function (line) {\n            switch (line.type) {\n                case LineType.INFO:\n                    info[line.key] = line.value;\n                    break;\n                case LineType.TIME:\n                    line.timestamps.forEach(function (timestamp) {\n                        lyrics.push({\n                            timestamp: timestamp,\n                            content: line.content,\n                        });\n                    });\n                    break;\n                default:\n                    break;\n            }\n        });\n        var lrc = new this();\n        lrc.lyrics = lyrics;\n        lrc.info = info;\n        return lrc;\n    };\n    Lrc.prototype.offset = function (offsetTime) {\n        this.lyrics.forEach(function (lyric) {\n            lyric.timestamp += offsetTime;\n            if (lyric.timestamp < 0) {\n                lyric.timestamp = 0;\n            }\n        });\n    };\n    Lrc.prototype.clone = function () {\n        function clonePlainObject(obj) {\n            var newObj = {};\n            for (var key in obj) {\n                newObj[key] = obj[key];\n            }\n            return newObj;\n        }\n        var lrc = new Lrc();\n        lrc.info = clonePlainObject(this.info);\n        lrc.lyrics = this.lyrics.reduce(function (ret, lyric) {\n            ret.push(clonePlainObject(lyric));\n            return ret;\n        }, []);\n        return lrc;\n    };\n    /**\n     * get lrc text\n     * @param opts.combine lyrics combine by same content\n     * @param opts.sort lyrics sort by timestamp\n     * @param opts.lineFormat newline format\n     */\n    Lrc.prototype.toString = function (opts) {\n        if (opts === void 0) { opts = {}; }\n        opts.combine = 'combine' in opts ? opts.combine : true;\n        opts.lineFormat = 'lineFormat' in opts ? opts.lineFormat : '\\r\\n';\n        opts.sort = 'sort' in opts ? opts.sort : true;\n        var lines = [], lyricsMap = {}, lyricsList = [];\n        // generate info\n        for (var key in this.info) {\n            lines.push(\"[\" + key + \":\" + this.info[key] + \"]\");\n        }\n        if (opts.combine) {\n            // uniqueness\n            this.lyrics.forEach(function (lyric) {\n                if (lyric.content in lyricsMap) {\n                    lyricsMap[lyric.content].push(lyric.timestamp);\n                }\n                else {\n                    lyricsMap[lyric.content] = [lyric.timestamp];\n                }\n            });\n            // sorted\n            for (var content in lyricsMap) {\n                if (opts.sort) {\n                    lyricsMap[content].sort();\n                }\n                lyricsList.push({\n                    timestamps: lyricsMap[content],\n                    content: content,\n                });\n            }\n            if (opts.sort) {\n                lyricsList.sort(function (a, b) { return a.timestamps[0] - b.timestamps[0]; });\n            }\n            // generate lyrics\n            lyricsList.forEach(function (lyric) {\n                lines.push(\"[\" + lyric.timestamps\n                    .map(function (timestamp) { return timestampToString(timestamp); })\n                    .join('][') + \"]\" + (lyric.content || ''));\n            });\n        }\n        else {\n            this.lyrics.forEach(function (lyric) {\n                lines.push(\"[\" + timestampToString(lyric.timestamp) + \"]\" + (lyric.content || ''));\n            });\n        }\n        return lines.join(opts.lineFormat);\n    };\n    return Lrc;\n}());\nexport { Lrc };\n","import { Lrc, Runner } from 'lrc-kit'\n\nexport const parseLrcLyrics = (function () {\n  let originalLyrics = null\n  let originalTranslationLyrics = null\n  let parsedLyrics = null\n  let parsedTranslationLyrics = null\n  let lrcRunner\n  let translationLrcRunner\n  return (lyrics, time, totalTime, lang) => {\n    if (!lyrics) return null\n    if (!originalLyrics || lyrics.value !== originalLyrics) {\n      originalLyrics = lyrics.value\n      parsedLyrics = Lrc.parse(lyrics.value)\n      parsedLyrics.lyrics.sort((a, b) => (a.timestamp - b.timestamp))\n      lrcRunner = new Runner(parsedLyrics)\n    }\n    let transLyrics\n    if (lang && lyrics.translations) {\n      transLyrics = lyrics.translations.find((l) => l.lang.toLowerCase() === lang.toLowerCase())\n      if (!transLyrics) {\n        lang = lang.split('-')[0].split('_')[0].toLowerCase()\n        transLyrics = lyrics.translations.find((l) => l.lang.toLowerCase().startsWith(lang))\n      }\n      if (transLyrics && transLyrics.value !== originalTranslationLyrics) {\n        originalTranslationLyrics = transLyrics.value\n        parsedTranslationLyrics = Lrc.parse(transLyrics.value)\n        parsedTranslationLyrics.lyrics.sort((a, b) => (a.timestamp - b.timestamp))\n        translationLrcRunner = new Runner(parsedTranslationLyrics)\n      }\n    }\n    if (lang !== undefined && !transLyrics) {\n      originalTranslationLyrics = null\n      parsedTranslationLyrics = null\n      translationLrcRunner = null\n    }\n    lrcRunner.timeUpdate(time)\n    if (translationLrcRunner) translationLrcRunner.timeUpdate(time)\n    const currentLyric = lrcRunner.curLyric()\n    let nextLyric\n    if (lrcRunner.curIndex() + 1 >= parsedLyrics.lyrics.length) {\n      nextLyric = { timestamp: totalTime, content: '' }\n    } else {\n      nextLyric = lrcRunner.getLyric(lrcRunner.curIndex() + 1)\n    }\n    for (let i = 0, j = 0; i < parsedLyrics.lyrics.length; i++) {\n      if (transLyrics) {\n        let trans = parsedTranslationLyrics.lyrics[j]\n        while (trans.timestamp < parsedLyrics.lyrics[i].timestamp) {\n          j++\n          trans = parsedTranslationLyrics.lyrics[j]\n        }\n        if (trans && trans.timestamp === parsedLyrics.lyrics[i].timestamp) {\n          parsedLyrics.lyrics[i].translation = trans.content\n        }\n      } else if (lang !== undefined) {\n        delete parsedLyrics.lyrics[i].translation\n      }\n    }\n    return {\n      lyrics: parsedLyrics.lyrics,\n      lang: transLyrics?.lang || null,\n      langName: transLyrics?.name || null,\n      currentSentence: currentLyric.content,\n      currentSentenceStart: currentLyric.timestamp,\n      currentSentenceEnd: nextLyric.timestamp,\n      currentSentenceTranslation: translationLrcRunner ? translationLrcRunner.curLyric().content : null,\n      nextSentence: nextLyric.content,\n      nextSentenceTranslation: translationLrcRunner\n        ? translationLrcRunner.curIndex() + 1 >= parsedTranslationLyrics.lyrics.length\n          ? '' : translationLrcRunner.getLyric(translationLrcRunner.curIndex() + 1)\n        : null\n    }\n  }\n})()\n\nexport const parseLyrics = (lyrics, currentTime, totalTime, lang, pnKind) => {\n  if (!lyrics) return null\n  if (lyrics.type === 'lrc') {\n    return parseLrcLyrics(lyrics, currentTime, totalTime, lang)\n  }\n  console.error(`Unsupported lyrics type: ${lyrics.type}`)\n  return null\n}\n\nexport const getLangAvailable = (lyrics) => {\n  if (!lyrics) return null\n  if (lyrics.type === 'lrc') {\n    if (!lyrics.translations) return []\n    return lyrics.translations.map((t) => ({ lang: t.lang, name: t.name }))\n  }\n  console.error(`Unsupported lyrics type: ${lyrics.type}`)\n  return []\n}\n","import { Lrc } from './lrc';\nvar Runner = /** @class */ (function () {\n    function Runner(lrc, offset) {\n        if (lrc === void 0) { lrc = new Lrc(); }\n        if (offset === void 0) { offset = true; }\n        this.offset = offset;\n        this._currentIndex = -1;\n        this.setLrc(lrc);\n    }\n    Runner.prototype.setLrc = function (lrc) {\n        this.lrc = lrc.clone();\n        this.lrcUpdate();\n    };\n    Runner.prototype.lrcUpdate = function () {\n        if (this.offset) {\n            this._offsetAlign();\n        }\n        this._sort();\n    };\n    Runner.prototype._offsetAlign = function () {\n        if ('offset' in this.lrc.info) {\n            var offset = parseInt(this.lrc.info.offset) / 1000;\n            if (!isNaN(offset)) {\n                this.lrc.offset(offset);\n                delete this.lrc.info.offset;\n            }\n        }\n    };\n    Runner.prototype._sort = function () {\n        this.lrc.lyrics.sort(function (a, b) { return a.timestamp - b.timestamp; });\n    };\n    Runner.prototype.timeUpdate = function (timestamp) {\n        if (this._currentIndex >= this.lrc.lyrics.length) {\n            this._currentIndex = this.lrc.lyrics.length - 1;\n        }\n        else if (this._currentIndex < -1) {\n            this._currentIndex = -1;\n        }\n        this._currentIndex = this._findIndex(timestamp, this._currentIndex);\n    };\n    Runner.prototype._findIndex = function (timestamp, startIndex) {\n        var curFrontTimestamp = startIndex == -1\n            ? Number.NEGATIVE_INFINITY\n            : this.lrc.lyrics[startIndex].timestamp;\n        var curBackTimestamp = startIndex == this.lrc.lyrics.length - 1\n            ? Number.POSITIVE_INFINITY\n            : this.lrc.lyrics[startIndex + 1].timestamp;\n        if (timestamp < curFrontTimestamp) {\n            return this._findIndex(timestamp, startIndex - 1);\n        }\n        else if (timestamp === curBackTimestamp) {\n            if (curBackTimestamp === Number.POSITIVE_INFINITY) {\n                return startIndex;\n            }\n            else {\n                return startIndex + 1;\n            }\n        }\n        else if (timestamp > curBackTimestamp) {\n            return this._findIndex(timestamp, startIndex + 1);\n        }\n        else {\n            return startIndex;\n        }\n    };\n    Runner.prototype.getInfo = function () {\n        return this.lrc.info;\n    };\n    Runner.prototype.getLyrics = function () {\n        return this.lrc.lyrics;\n    };\n    Runner.prototype.getLyric = function (index) {\n        if (index === void 0) { index = this.curIndex(); }\n        if (index >= 0 && index <= this.lrc.lyrics.length - 1) {\n            return this.lrc.lyrics[index];\n        }\n        else {\n            throw new Error('Index not exist');\n        }\n    };\n    Runner.prototype.curIndex = function () {\n        return this._currentIndex;\n    };\n    Runner.prototype.curLyric = function () {\n        return this.getLyric();\n    };\n    return Runner;\n}());\nexport { Runner };\n","// eslint-disable-next-line camelcase\nexport const zh_Hans = {\n  playNow: '',\n  playNext: '',\n  playAll: '',\n  added: '',\n  addToPlaylist: '',\n  banner: ' - Kokoro -',\n  disconnected: 'Kokoro ',\n  noLyrics: ''\n}\n\nexport const en = {\n  playNow: 'Play Now',\n  playNext: 'Play Next',\n  playAll: 'Play All',\n  added: 'Added',\n  addToPlaylist: 'Add to Playlist',\n  banner: 'Kokoro - Music Your Website',\n  disconnected: 'Kokoro Disconnected',\n  noLyrics: 'No lyrics'\n}\n\nexport const using = Object.assign({}, zh_Hans)\n\nexport function use (locale) {\n  for (const key of Object.keys(using)) {\n    using[key] = locale[key]\n  }\n}\n\nexport default using\n","import { html, css, LitElement } from 'lit-element'\n\nimport { iconfont } from '../iconfont'\nimport locale from '../utils/locale'\n\nexport default class DesktopLyrics extends LitElement {\n  static get properties () {\n    return {\n      lyrics: { type: Object },\n      currentTime: { type: Number },\n      dragging: { type: Boolean },\n      verticalCenter: { type: Number },\n      horizontalCenter: { type: Number },\n      colorSchemes: { type: Array },\n      colorSchemeIndex: { type: Number },\n      fontSize: { type: Number },\n      mobileFontSize: { type: Number },\n      isLocked: { type: Boolean },\n      paused: { type: Boolean },\n      langAvailable: { type: Array },\n      isSettingsBarShowing: { type: Boolean }\n    }\n  }\n\n  static get styles () {\n    return css`\n      ${iconfont}\n      :host {\n        position: fixed;\n      }\n      \n      .desktop-lyrics-window.hide {\n        display: none;\n      }\n\n      .desktop-lyrics-window {\n        position: fixed;\n        width: 90%;\n        box-sizing: border-box;\n        max-width: 700px;\n        transform: translate(-50%, -50%);\n        user-select: none;\n        padding: 35px 20px;\n        cursor: grab;\n      }\n\n      .desktop-lyrics-window:hover {\n        background: rgba(0, 0, 0, 0.6);\n        box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.6);\n        border-radius: 4px;\n      }\n\n      .desktop-lyrics-window.locked:hover,\n      .mobile-lyrics-window.locked:hover {\n        background: none;\n        box-shadow: none;\n        cursor: inherit;\n      }\n\n      .desktop-lyrics-window.dragging,\n      .mobile-lyrics-window.dragging {\n        cursor: grabbing;\n      }\n\n      .desktop-lyrics-window > .tool-bar {\n        position: absolute;\n        top: 6px;\n        left: 50%;\n        transform: translateX(-50%);\n        display: none;\n        font-size: 14px;\n        line-height: 1;\n        white-space: nowrap;\n      }\n\n      .desktop-lyrics-window > .btn.close {\n        display: none;\n        position: absolute;\n        top: 6px;\n        left: 6px;\n        line-height: 1;\n      }\n\n      .desktop-lyrics-window > .btn.close > .icon {\n        vertical-align: top;\n      }\n\n      .desktop-lyrics-window:hover > .btn.close {\n        display: block;\n      }\n\n      .desktop-lyrics-window.locked:hover > .btn.close {\n        display: none;\n      }\n\n      .desktop-lyrics-window .btn,\n      .mobile-lyrics-window .btn {\n        color: var(--kokoro-white);\n        font-size: 14px;\n        cursor: pointer;\n      }\n\n      .desktop-lyrics-window .btn {\n        text-shadow: 0 0 1px var(--kokoro-white);\n      }\n\n      .desktop-lyrics-window > .btn.lock,\n      .mobile-lyrics-window > .btn.lock {\n        position: absolute;\n        top: 0;\n        left: 50%;\n        transform: translateX(-50%);\n        padding: 1px 4px;\n        border-radius: 4px;\n        display: none;\n        color: transparent;\n        background-clip: text;\n        -webkit-background-clip: text;\n      }\n\n      .desktop-lyrics-window.locked:hover > .btn.lock,\n      .mobile-lyrics-window.locked:hover > .btn.lock {\n        display: block;\n      }\n\n      .desktop-lyrics-window > .tool-bar > .btn {\n        margin: 0 3px;\n      }\n\n      .btn > .icon {\n        vertical-align: middle;\n      }\n\n      .preview {\n        width: 14px;\n        height: 14px;\n        display: inline-block;\n        vertical-align: middle;\n        border-radius: 2px;\n      }\n\n      .desktop-lyrics-window:hover > .tool-bar {\n        display: flex;\n      }\n\n      .desktop-lyrics-window.locked:hover > .tool-bar {\n        display: none;\n      }\n\n      .desktop-lyrics-window > .desktop-lyrics-panel,\n      .mobile-lyrics-window > .desktop-lyrics-panel {\n        overflow: hidden;\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n      }\n\n      .desktop-lyrics-window > .desktop-lyrics-panel > .lyrics-track,\n      .mobile-lyrics-window > .desktop-lyrics-panel > .lyrics-track {\n        max-width: 100%;\n        line-height: normal;\n      }\n\n      .desktop-lyrics-window > .desktop-lyrics-panel > .lyrics-track {\n        overflow: hidden;\n      }\n\n      .desktop-lyrics {\n        background-clip: text;\n        -webkit-background-clip: text;\n        color: transparent;\n        white-space: pre;\n        line-height: normal;\n        display: inline-block;\n        text-align: center;\n      }\n\n      .translation-track .desktop-lyrics {\n        white-space: pre-wrap;\n      }\n\n      .mobile-lyrics-window.hide {\n        display: none;\n      }\n      \n      .mobile-lyrics-window {\n        display: none;\n        position: fixed;\n        left: 50%;\n        width: 95%;\n        box-sizing: border-box;\n        transform: translate(-50%, -50%);\n        user-select: none;\n        cursor: grab;\n      }\n\n      .mobile-lyrics-window:hover {\n        background: rgba(0, 0, 0, 0.6);\n      }\n\n      .mobile-lyrics-window > .tool-bar {\n        visibility: hidden;\n        display: flex;\n        justify-content: space-between;\n      }\n\n      .mobile-lyrics-window:hover > .tool-bar {\n        visibility: visible;\n      }\n\n      .mobile-lyrics-window.locked:hover > .tool-bar {\n        visibility: hidden;\n      }\n\n      .mobile-lyrics-window > .tool-bar.top .btn {\n        padding: 4px 8px 0 8px;\n      }\n\n      .mobile-lyrics-window > .tool-bar.middle {\n        margin: 10px 0;\n      }\n\n      .mobile-lyrics-window > .tool-bar.middle .btn {\n        padding: 0 8px 0 8px;\n        font-size: 18px;\n      }\n\n      .mobile-lyrics-window > .tool-bar.bottom {\n        display: block;\n      }\n\n      .mobile-lyrics-window > .tool-bar.bottom.hide {\n        display: none;\n      }\n\n      .mobile-lyrics-window > .tool-bar.bottom > * {\n        display: inline-block;\n        margin-bottom: 10px;\n        padding: 0 10px;\n      }\n\n      @media screen and (max-width: 500px) {\n        .desktop-lyrics-window {\n          display: none;\n        }\n\n        .mobile-lyrics-window {\n          display: block;\n        }\n      }\n    `\n  }\n\n  constructor () {\n    super()\n    this.drag = this.drag.bind(this)\n    this.stopDragging = this.stopDragging.bind(this)\n    this.isLocked = false\n  }\n\n  updated (changedProperties) {\n    if (changedProperties.has('currentTime') && this.lyrics) {\n      this.shadowRoot.querySelector('#desktop-lyrics-track').scrollLeft =\n        (this.currentTime - this.lyrics.currentSentenceStart) /\n        (this.lyrics.currentSentenceEnd - this.lyrics.currentSentenceStart) *\n        this.shadowRoot.querySelector('#desktop-lyrics-track').scrollWidth -\n        this.shadowRoot.querySelector('#desktop-lyrics-track').clientWidth / 2\n    }\n  }\n\n  get notStartedYet () {\n    return this.paused && this.currentTime === 0\n  }\n\n  render () {\n    return html`\n      <style>\n        .desktop-lyrics {\n          background: ${this.colorSchemes[this.colorSchemeIndex]?.value};\n          font-size: ${this.fontSize}px;\n        }\n        .translation-track .desktop-lyrics {\n          font-size: ${(this.fontSize + 10) / 2}px;\n        }\n        .desktop-lyrics-window > .btn.lock,\n        .mobile-lyrics-window > .btn.lock {\n          background: ${this.colorSchemes[this.colorSchemeIndex]?.value};\n        }\n\n        @media screen and (max-width: 500px) {\n          .desktop-lyrics {\n            font-size: ${this.mobileFontSize}px;\n          }\n          .translation-track .desktop-lyrics {\n            font-size: ${(this.mobileFontSize + 10) / 2}px;\n          }\n        }\n      </style>\n      <div\n        class=\"desktop-lyrics-window ${this.dragging ? 'dragging' : ''} ${this.isLocked ? 'locked' : ''}\"\n        style=\"left: ${this.horizontalCenter}px; top: ${this.verticalCenter}px\"\n        @mousedown=\"${this.startDragging}\"\n        @touchstart=\"${this.startDragging}\"\n      >\n        <div class=\"desktop-lyrics-panel\">\n          <div id=\"desktop-lyrics-track\" class=\"lyrics-track\">\n            <span class=\"desktop-lyrics\"\n            >${this.lyrics && !this.notStartedYet ? this.lyrics.currentSentence : locale.banner}</span>\n          </div>\n          ${this.lyrics && !this.notStartedYet && this.lyrics?.lang && this.lyrics.currentSentenceTranslation\n            ? html`\n              <div class=\"lyrics-track translation-track\"\">\n                <span class=\"desktop-lyrics\"\n                >${this.lyrics.currentSentenceTranslation}</span>\n              </div>`\n            : ''}\n        </div>\n        <div class=\"tool-bar\">\n          <a class=\"btn\" @click=\"${() => { this.isLocked = !this.isLocked }}\"\n          ><i class=\"icon icon-lock\"></i></a>\n          <a class=\"btn\" @click=\"${this.prev}\"><i class=\"icon icon-left\"></i></a>\n          <a class=\"btn\" @click=\"${this.togglePlay}\"\n          ><i class=\"icon icon-${this.paused ? 'play' : 'pause'}\"></i></a>\n          <a class=\"btn\" @click=\"${this.next}\"><i class=\"icon icon-right\"></i></a>\n          <a class=\"btn\" @click=\"${() => { if (this.fontSize > 10) this.fontSize -= 4 }}\"\n          ><i class=\"icon icon-font-smaller\"></i></a>\n          <a class=\"btn\" @click=\"${() => { this.fontSize += 4 }}\"\n          ><i class=\"icon icon-font-larger\"></i></a>\n          <a\n            class=\"btn\"\n            title=\"${this.colorSchemes[this.colorSchemeIndex].name}\"\n            @click=\"${this.nextDesktopLyricsColorScheme}\"\n          >\n            <i class=\"icon icon-font-color\"></i>\n            <i\n              class=\"preview\"\n              style=\"background: ${this.colorSchemes[this.colorSchemeIndex].value}\"\n            ></i>\n          </a>\n          ${this.langAvailable?.length ? html`\n            <a class=\"btn\" @click=\"${this.nextLang}\"\n            >${this.lyrics?.langName || this.lyrics?.lang || html`<i class=\"icon icon-translate\"></i>`}</a>\n          ` : ''}\n        </div>\n        <a\n          class=\"btn close\"\n          @click=\"${this.toggleDesktopLyrics}\"\n        ><i class=\"icon icon-close\"></i></a>\n        <a\n          class=\"btn lock\"\n          @click=\"${() => { this.isLocked = !this.isLocked }}\"\n        ><i class=\"icon icon-lock\"></i></a>\n      </div>\n      <div\n        class=\"mobile-lyrics-window ${this.dragging ? 'dragging' : ''} ${this.isLocked ? 'locked' : ''}\"\n        style=\"top: ${this.verticalCenter}px\"\n        @mousedown=\"${this.startDragging}\"\n        @touchstart=\"${this.startDragging}\"\n      >\n        <div class=\"tool-bar top\">\n          <a\n            class=\"btn close\"\n            @click=\"${this.toggleDesktopLyrics}\"\n          ><i class=\"icon icon-close\"></i></a>\n          <span></span>\n        </div>\n        <div class=\"desktop-lyrics-panel\">\n          <div class=\"lyrics-track\">\n            <span class=\"desktop-lyrics\"\n            >${this.lyrics && !this.notStartedYet ? this.lyrics.currentSentence : locale.banner}</span>\n          </div>\n          ${this.lyrics && !this.notStartedYet && this.lyrics?.lang && this.lyrics.currentSentenceTranslation\n            ? html`\n              <div class=\"lyrics-track translation-track\"\">\n                <span class=\"desktop-lyrics\"\n                >${this.lyrics.currentSentenceTranslation}</span>\n              </div>`\n            : ''}\n        </div>\n        <div class=\"tool-bar middle\">\n          <a\n            class=\"btn settings\"\n            @click=\"${() => { this.isSettingsBarShowing = !this.isSettingsBarShowing }}\"\n          ><i class=\"icon icon-setting\"></i></a>\n          <div class=\"control\">\n            <a class=\"btn\" @click=\"${this.prev}\"><i class=\"icon icon-left\"></i></a>\n            <a class=\"btn\" @click=\"${this.togglePlay}\"\n            ><i class=\"icon icon-${this.paused ? 'play' : 'pause'}\"></i></a>\n            <a class=\"btn\" @click=\"${this.next}\"><i class=\"icon icon-right\"></i></a>\n          </div>\n          <a\n            class=\"btn lock\"\n            @click=\"${() => { this.isLocked = !this.isLocked }}\"\n          ><i class=\"icon icon-lock\"></i></a>\n        </div>\n        <div class=\"tool-bar bottom ${this.isSettingsBarShowing ? '' : 'hide'}\">\n          <a class=\"btn\" @click=\"${() => { if (this.mobileFontSize > 10) this.mobileFontSize -= 2 }}\"\n          ><i class=\"icon icon-font-smaller\"></i></a>\n          <a class=\"btn\" @click=\"${() => { this.mobileFontSize += 2 }}\"\n          ><i class=\"icon icon-font-larger\"></i></a>\n          ${this.colorSchemes.map((colorScheme, index) => html`\n            <a\n              class=\"btn\"\n              title=\"${colorScheme.name}\"\n              @click=\"${() => { this.colorSchemeIndex = index }}\"\n            >\n              <i\n                class=\"preview\"\n                style=\"background: ${colorScheme.value}\"\n              ></i>\n            </a>\n          `)}\n          ${this.langAvailable?.length ? html`\n            <a class=\"btn\" @click=\"${this.nextLang}\"\n            ><i class=\"icon icon-translate\"></i></a>\n          ` : ''}\n          ${this.langAvailable?.map((lang) => html`\n            <a class=\"btn\" @click=\"${() => this.setLang(lang.lang)}\"\n            >${lang.name || lang.lang}</a>\n          `)}\n        </div>\n        <a\n          class=\"btn lock\"\n          @click=\"${() => { this.isLocked = !this.isLocked }}\"\n        ><i class=\"icon icon-lock\"></i></a>\n      </div>\n    `\n  }\n\n  nextLang () {\n    let index = this.langAvailable.findIndex((lang) => lang.lang === this.lyrics?.lang)\n    index++\n    if (index === this.langAvailable.length) index = -1\n    this.setLang(this.langAvailable[index]?.lang)\n  }\n\n  setLang (lang) {\n    this.dispatchEvent(new window.CustomEvent('kokoro-change', {\n      detail: {\n        lang: lang || null\n      }\n    }))\n  }\n\n  nextDesktopLyricsColorScheme () {\n    if (this.colorSchemeIndex + 1 === this.colorSchemes.length) {\n      this.colorSchemeIndex = 0\n    } else {\n      this.colorSchemeIndex++\n    }\n  }\n\n  startDragging (e) {\n    this.dragging = true\n    e.stopPropagation()\n    const e1 = (typeof window.TouchEvent !== 'undefined' && e instanceof window.TouchEvent)\n      ? e.changedTouches[0]\n      : e\n    this.cursorX = e1.clientX\n    this.cursorY = e1.clientY\n    this.drag(e)\n    if (e.type === 'mousedown') {\n      document.addEventListener('mousemove', this.drag)\n      document.addEventListener('mouseup', this.stopDragging)\n    }\n    if (e.type === 'touchstart') {\n      document.addEventListener('touchmove', this.drag, { passive: false })\n      document.addEventListener('touchend', this.stopDragging)\n      document.addEventListener('touchcancel', this.stopDragging)\n    }\n  }\n\n  drag (e) {\n    if (e.type === 'touchmove') e.preventDefault()\n    e = (typeof window.TouchEvent !== 'undefined' && e instanceof window.TouchEvent)\n      ? e.changedTouches[0]\n      : e\n    this.horizontalCenter += e.clientX - this.cursorX\n    this.verticalCenter += e.clientY - this.cursorY\n    this.cursorX = e.clientX\n    this.cursorY = e.clientY\n  }\n\n  stopDragging () {\n    this.dragging = false\n    document.removeEventListener('mousemove', this.drag)\n    document.removeEventListener('mouseup', this.stopDragging)\n    document.removeEventListener('touchmove', this.drag)\n    document.removeEventListener('touchend', this.stopDragging)\n    document.removeEventListener('touchcancel', this.stopDragging)\n  }\n\n  prev () {\n    this.dispatchEvent(new window.CustomEvent('kokoro-action', {\n      detail: {\n        action: 'prev'\n      }\n    }))\n  }\n\n  next () {\n    this.dispatchEvent(new window.CustomEvent('kokoro-action', {\n      detail: {\n        action: 'next'\n      }\n    }))\n  }\n\n  togglePlay () {\n    this.dispatchEvent(new window.CustomEvent('kokoro-action', {\n      detail: {\n        action: 'togglePlay'\n      }\n    }))\n  }\n\n  toggleDesktopLyrics () {\n    this.dispatchEvent(new window.CustomEvent('kokoro-action', {\n      detail: {\n        action: 'toggleDesktopLyrics'\n      }\n    }))\n  }\n}\n\nwindow.customElements.define('kokoro-desktop-lyrics', DesktopLyrics)\n","import { html, css } from 'lit-element'\nimport { PLAY_ORDER_SHUFFLE, PLAY_ORDER_SINGLE } from 'kokoro'\n\nimport { iconfont } from '../iconfont'\nimport { Component } from '../utils/component'\nimport { connect } from '../utils/lit-redux'\nimport { SrcUtil } from '../utils/srcutil'\nimport { parseLyrics, getLangAvailable } from '../utils/lyrics'\nimport './desktop-lyrics'\nimport locale from '../utils/locale'\n\nclass Player extends Component {\n  static get properties () {\n    return {\n      currentSong: { type: Object },\n      playing: { type: Object },\n      lyrics: { type: Object },\n      parsedLyrics: { type: Object },\n      language: { type: String },\n      langAvailable: { type: Array },\n      pnKind: { type: String },\n      pnKindAvailable: { type: Array },\n      index: { type: Number },\n      player: { type: Object },\n      playlist: { type: Array },\n      darkMode: { type: Boolean },\n      playOrder: { type: String },\n      played: { type: Number },\n      buffered: { type: Array },\n      isVolumeControlShowing: { type: Boolean },\n      isPlaylistShowing: { type: Boolean },\n      isLyricsShowing: { type: Boolean },\n      lastLyricsUserScrollTime: { type: Number },\n      isLyricsScrollAnimating: { type: Boolean },\n      isDesktopLyricsShowing: { type: Boolean },\n      dragging: { type: Boolean },\n      top: { type: Number },\n      left: { type: Number },\n      right: { type: Number },\n      bottom: { type: Number },\n      mobileDefaultSide: { type: String },\n      mobileLeft: { type: Number },\n      desktopLyricsVerticalCenter: { type: Number },\n      desktopLyricsHorizontalCenter: { type: Number },\n      desktopLyricsColorSchemes: { type: Array },\n      desktopLyricsColorSchemeIndex: { type: Number },\n      desktopLyricsFontSize: { type: Number },\n      desktopLyricsMobileFontSize: { type: Number },\n      shouldShowSmallWindow: { type: Boolean },\n      shouldMobileShowMainWindow: { type: Boolean },\n      shrinkToLeft: { type: Boolean }\n    }\n  }\n\n  static get styles () {\n    return css`\n      ${iconfont}\n      :host {\n        position: fixed;\n      }\n\n      .move-handle, .btn {\n        user-select: none;\n      }\n\n      .move-handle.dragging {\n        cursor: grabbing !important;\n      }\n\n      .main-window {\n        position: fixed;\n        width: 315px;\n        height: 560px;\n        border-radius: 15px;\n        box-shadow: 0 0.3px 0.96px #666;\n        background-color: #fbfbfb;\n        color: var(--kokoro-primary-color);\n        padding: 10px;\n        display: flex;\n        flex-direction: column;\n      }\n\n      .main-window.dark {\n        background-color: #000;\n      }\n\n      .main-window.disconnected {\n        opacity: 0.85;\n        backdrop-filter: blur(4px);\n      }\n\n      .main-window.dark .underlay > .background {\n        opacity: 0.94;\n        filter: blur(40px);\n      }\n\n      .underlay {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        z-index: -1;\n        border-radius: 15px;\n        overflow: hidden;\n      }\n\n      .underlay > .background {\n        position: absolute;\n        top: -50px;\n        left: -50px;\n        right: -50px;\n        bottom: -50px;\n        opacity: 0.06;\n      }\n\n      .dark .underlay > .filter {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background-color: rgba(0, 0, 0, 0.6);\n      }\n\n      .main-window .move-handle {\n        height: 8px;\n        width: 50px;\n        margin: 4px auto;\n        border-radius: 6px;\n        background-color: var(--kokoro-white);\n        opacity: 0.94;\n        cursor: grab;\n      }\n\n      .main-window .move-handle .handle-bar {\n        overflow: hidden;\n        margin-top: -4px;\n        z-index: 2;\n        position: relative;\n      }\n\n      .main-window > .control-box {\n        height: 84px;\n        min-height: 84px;\n        font-size: 24px;\n        position: relative;\n        user-select: none;\n      }\n\n      .main-window > .control-box > .panel {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        transition: top 200ms ease-in, bottom 200ms ease-in;\n        overflow: hidden;\n        display: flex;\n        justify-content: space-evenly;\n        align-items: center;\n      }\n\n      .main-window > .control-box .control-panel.hide {\n        bottom: 100%;\n      }\n\n      .main-window > .control-box .volume-playback-panel.hide {\n        top: 100%\n      }\n\n      .main-window > .control-box .volume-playback-panel > .volume-playback-panel-close {\n        position: absolute;\n        top: 4px;\n        left: 4px;\n        font-size: 20px;\n        cursor: pointer;\n      }\n\n      .main-window > .control-box .volume-playback-panel .btn {\n        width: 40%;\n        display: flex;\n        align-items: center;\n        justify-content: space-around;\n        cursor: initial;\n      }\n\n      .main-window > .control-box .volume-playback-panel .btn > kokoro-track {\n        margin: 0 10px;\n        flex: 1 1 auto;\n      }\n\n      .main-window > .control-box .btn {\n        display: inline-block;\n        line-height: 1;\n        cursor: pointer;\n      }\n\n      .main-window > .control-box .btn > .icon {\n        vertical-align: top;\n      }\n\n      .main-window > .control-box .btn.play {\n        font-size: 48px;\n      }\n\n      .main-window > .control-box kokoro-progress {\n        position: absolute;\n        bottom: 0;\n        left: -10px;\n        right: -10px;\n        transform: translateY(50%);\n        z-index: 1;\n      }\n\n      .main-window > .cover-panel,\n      .main-window > .lyrics-panel\n      {\n        flex: 1 1 auto;\n        position: relative;\n        opacity: 1;\n        transition: opacity 250ms;\n      }\n\n      .main-window > .cover-panel.hide,\n      .main-window > .lyrics-panel.hide {\n        opacity: 0;\n        display: block;\n        height: 0;\n        flex: 0 0;\n        overflow: hidden;\n      }\n\n      .main-window .cover-box {\n        box-sizing: border-box;\n        height: 315px;\n        padding: 20px;\n        margin: 8px 0;\n        user-select: none;\n      }\n\n      .main-window .cover-box > img {\n        width: 100%;\n      }\n      \n      .main-window > .cover-panel > .lyrics-title-box {\n        margin-top: -10px;\n      }\n\n      .main-window .lyrics-title-box {\n        padding: 10px;\n      }\n\n      .main-window .lyrics-title-box h1 {\n        font-size: 1.5rem;\n        line-height: 1.45;\n        margin: 0;\n        font-weight: normal;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        white-space: nowrap;\n      }\n\n      .main-window .lyrics-title-box h2 {\n        font-size: 1.125rem;\n        line-height: 1.4;\n        margin: 0;\n        font-weight: normal;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        white-space: nowrap;\n      }\n\n      .main-window > .cover-panel .lyric {\n        padding: 0 10px;\n        font-size: 0.875rem;\n        line-height: 1.4;\n      }\n\n      .main-window > .cover-panel .lyric.translation {\n        font-size: 0.75rem;\n      }\n\n      .main-window > .lyrics-panel {\n        display: flex;\n        flex-direction: column;\n        overflow: hidden;\n      }\n\n      .main-window > .lyrics-panel > .lyrics-title-box {\n        margin-top: 10px;\n        margin-bottom: -10px;\n      }\n\n      .main-window .lyrics-scroll-box {\n        flex: 1 1 auto;\n        margin: 10px;\n        padding: 10px 0;\n        overflow-y: scroll;\n        line-height: 1.18;\n      }\n\n      .main-window .lyrics-scroll-box > .lyrics {\n        position: relative;\n      }\n\n      .main-window .lyrics-scroll-box .lyric {\n        margin: 1rem 0;\n        font-size: 0.875rem;\n        transition: font-size 250ms;\n        transition-delay: 250ms;\n      }\n\n      .main-window .lyrics-scroll-box .lyric:first-child {\n        margin-top: 0;\n      }\n\n      .main-window .lyrics-scroll-box .lyric:last-child {\n        margin-bottom: 0;\n      }\n      \n      .main-window .lyrics-scroll-box .lyric.current {\n        font-size: 1.125rem;\n        color: var(--kokoro-primary-highlight);\n      }\n\n      .main-window .lyrics-scroll-box .lyric.current .translation {\n        font-size: 0.875rem;\n      }\n      \n      .main-window .lyrics-scroll-box .lyric .translation {\n        margin-top: 2px;\n        font-size: 0.75rem;\n      }\n      \n      .main-window .lyrics-control-box {\n        box-sizing: border-box;\n        height: 40px;\n        min-height: 40px;\n        text-align: right;\n        padding: 10px;\n        font-size: 16px;\n      }\n\n      .main-window .lyrics-control-box .btn {\n        cursor: pointer;\n      }\n\n      .playlist-panel.hide {\n        left: 100%;\n      }\n\n      .main-window > .playlist-panel.hide {\n        display: block;\n      }\n\n      .playlist-panel {\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        background-color: rgba(251, 251, 251, 0.94);\n        backdrop-filter: blur(1px);\n        border-radius: 15px;\n        overflow: hidden;\n        transition: left 200ms, top 200ms;\n        z-index: 1;\n      }\n\n      .playlist {\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        width: calc(100% - 36px);\n        padding: 26px 37px 26px 10px;\n        box-sizing: border-box;\n        overflow-x: hidden;\n        overflow-y: auto;\n      }\n\n      .dark .playlist-panel {\n        background-color: rgba(0, 0, 0, 0.9);\n      }\n\n      .playlist > .playlist-item-box > .playlist-item {\n        box-sizing: border-box;\n        height: 2.875rem;\n        padding: 0.25rem 10px;\n        display: inline-block;\n        white-space: nowrap;\n        max-width: 100%;\n        vertical-align: top;\n        position: relative;\n      }\n\n      .playlist > .playlist-item-box {\n        transition: transform 250ms ease-in-out;\n        transform-origin: left center;\n        line-height: 1;\n        margin: 0.375rem 0;\n        cursor: pointer;\n      }\n\n      .playlist > .playlist-item-box:hover {\n        transform: scale(1.1);\n      }\n\n      .playlist > .playlist-item-box:hover > .playlist-item {\n        border-left: 3px var(--kokoro-primary-color) solid;\n      }\n\n      .playlist .playlist-item.current {\n        background: rgba(0, 0, 0, 0.1);\n        border-left: 3px var(--kokoro-primary-color) solid;\n      }\n\n      .dark .playlist .playlist-item.current {\n        background: rgba(251, 251, 251, 0.2);\n      }\n\n      .playlist > .playlist-item-box > .playlist-item.current::after {\n        content: '';\n        position: absolute;\n        top: 0;\n        right: -10px;\n        border-top: 23px transparent solid;\n        border-left: 5px rgba(0, 0, 0, 0.1) solid;\n        border-right: 5px transparent solid;\n        border-bottom: 23px rgba(0, 0, 0, 0.1) solid;\n      }\n\n      .dark .playlist > .playlist-item-box > .playlist-item.current::after {\n        border-left: 5px rgba(251, 251, 251, 0.2) solid;\n        border-bottom: 23px rgba(251, 251, 251, 0.2) solid;\n      }\n\n      .playlist .playlist-item > .title {\n        font-size: 0.875rem;\n        line-height: 1.375rem;\n        margin-right: 24px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n\n      .playlist .playlist-item > .artist {\n        font-size: 0.75rem;\n        line-height: 1rem;\n        margin-right: 24px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n\n      .playlist > .playlist-item-box:hover > .playlist-item > .remove {\n        visibility: visible;\n        transform: rotate(0);\n      }\n\n      .playlist .playlist-item > .remove {\n        float: right;\n        display: block;\n        line-height: 2.375rem;\n        height: 2.375rem;\n        font-size: 1rem;\n        visibility: hidden;\n        transform: rotate(-180deg);\n        transition: transform 250ms;\n      }\n\n      .playlist .playlist-item > .remove > .icon {\n        vertical-align: top;\n      }\n\n      .playlist-panel > .playlist-close {\n        position: absolute;\n        top: 30px;\n        left: 12px;\n        font-size: 20px;\n        cursor: pointer;\n      }\n\n      .playlist-panel > .playlist-clear {\n        position: absolute;\n        top: 65px;\n        left: 12px;\n        font-size: 20px;\n        cursor: pointer;\n      }\n\n      .disconnected-panel {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        z-index: -1;\n      }\n\n      .main-window > div.hide {\n        display: none;\n      }\n\n      .small-window {\n        position: fixed;\n        width: 120px;\n        height: 120px;\n        border-radius: 50%;\n        overflow: hidden;\n        background-color: #fbfbfb;\n        border: 1px #bbb solid;\n        box-shadow: 0 0.3px 0.96px #666;\n        color: var(--kokoro-primary-color);\n        transform: scale(0.5);\n        transition: transform 250ms;\n      }\n\n      .small-window.dark {\n        border: none;\n        background-color: #000;\n        box-shadow: 0 0 3px #eee;\n      }\n\n      .small-window:hover, .small-window.dragging, .small-window.dragging.disconnected:hover {\n        transform: scale(1);\n      }\n\n      .small-window.disconnected:hover {\n        transform: scale(0.5);\n      }\n\n      .small-window.disconnected {\n        opacity: 0.85;\n        backdrop-filter: blur(4px);\n      }\n\n      .small-window > .cover-box {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        opacity: 0.1;\n      }\n\n      .small-window.disconnected > .cover-box {\n        display: none;\n      }\n\n      .small-window.dark > .cover-box {\n        opacity: 0.4;\n        filter: blur(40px);\n      }\n\n      .small-window > .control-box {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        margin: -1px;\n        display: grid;\n        grid-template-columns: repeat(2, 50%);\n        grid-template-rows: repeat(2, 50%);\n        transform: rotate(45deg);\n      }\n\n      .small-window > .control-box .btn {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        font-size: 20px;\n        cursor: pointer;\n      }\n\n      .small-window > .control-box .btn .icon {\n        transform: rotate(-45deg);\n      }\n\n      .small-window > .control-box > .btn {\n        border-right: 1px #bbb solid;\n        border-bottom: 1px #bbb solid;\n      }\n\n      .small-window.dark > .control-box > .btn {\n        border: none;\n        box-shadow: 0 0 2px;\n      }\n\n      .small-window > .control-box > .move-handle {\n        position: absolute;\n        left: 50%;\n        top: 50%;\n        transform: translate(-50%, -50%) rotate(-45deg) scale(2.3);\n        width: 54px;\n        height: 54px;\n        border-radius: 50%;\n        border: 1px #bbb solid;\n        margin: 0;\n        background: radial-gradient(#fff, rgba(255, 255, 255, 0.99) 70%, rgba(255, 255, 255, 0.8));\n        overflow: hidden;\n        transition: transform 250ms;\n        cursor: grab;\n      }\n\n      .small-window > .control-box > .move-handle .btn .icon {\n        transform: none;\n      }\n\n      .small-window.dark > .control-box > .move-handle {\n        border: none;\n        box-shadow: 0 0 4px;\n      }\n\n      .small-window.dark > .control-box > .move-handle {\n        background: #000;\n      }\n\n      .small-window:hover > .control-box > .move-handle {\n        transform: translate(-50%, -50%) rotate(-45deg) scale(1);\n      }\n\n      .small-window.disconnected:hover > .control-box > .move-handle {\n        transform: translate(-50%, -50%) rotate(-45deg) scale(2.3);\n      }\n\n      .small-window.spin-rev > .control-box > .move-handle > .btn {\n        animation: spin-rev 45s linear infinite;\n      }\n\n      .small-window > .control-box > .move-handle > .btn {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        font-size: 28px;\n        cursor: inherit;\n      }\n\n      .small-window > .control-box > .move-handle > .move-handle-bg {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        opacity: 0.06;\n        z-index: -1;\n      }\n\n      .small-window.dark > .control-box > .move-handle > .move-handle-bg {\n        opacity: 0.94;\n        filter: blur(36px);\n      }\n\n      .small-window.spin-rev > .control-box > .move-handle > .move-handle-bg {\n        animation: spin-rev 45s linear infinite;\n      }\n\n      .small-window.disconnected > .control-box > .move-handle > .move-handle-bg {\n        display: none;\n      }\n\n      .small-window-mobile {\n        position: fixed;\n        width: 30px;\n        height: 20px;\n        background: var(--kokoro-black);\n        backdrop-filter: blur(4px);\n        color: var(--kokoro-white);\n        font-size: 12px;\n        display: none;\n        cursor: pointer;\n      }\n\n      .small-window-mobile.left {\n        left: 0;\n        border-radius: 0 10px 10px 0;\n      }\n\n      .small-window-mobile.right {\n        right: 0;\n        border-radius: 10px 0 0 10px;\n      }\n\n      .small-window-mobile.dark {\n        background: var(--kokoro-white);\n        color: var(--kokoro-black);\n      }\n\n      .small-window-mobile > .icon {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        width: 20px;\n        border-radius: 10px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        transform: scale(0.9);\n      }\n\n      .small-window-mobile.left > .icon {\n        right: 0;\n      }\n\n      .small-window-mobile.right > .icon {\n        left: 0;\n      }\n\n      .main-window.mobile {\n        display: none;\n        flex-direction: column;\n        justify-content: space-between;\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n        width: auto;\n        height: 100%;\n        visibility: visible;\n        border-radius: 0;\n        transition: left 250ms, right 250ms;\n        z-index: 9999;\n      }\n\n      .main-window.mobile.hide {\n        left: calc(100% + 5px);\n        right: calc(-100% - 5px);\n      }\n\n      .main-window.mobile .cover-box .btn {\n        font-size: 24px;\n        position: relative;\n        left: -15px;\n        top: -4px;\n        cursor: pointer;\n      }\n\n      .mobile .disconnected-panel .btn {\n        font-size: 24px;\n        position: absolute;\n        top: 34px;\n        left: 20px;\n        cursor: pointer;\n      }\n\n      .main-window.mobile .cover-box img {\n        border-radius: 50%;\n        position: absolute;\n        width: 100%;\n        animation: spin 45s linear infinite;\n      }\n\n      .main-window.mobile .underlay {\n        border-radius: 0;\n      }\n\n      .main-window.mobile .cover-box {\n        width: auto;\n        height: 0;\n        padding: 28px 0 calc(100% - 28px) 0;\n        margin-left: 28px;\n        margin-right: 28px;\n        line-height: 0;\n        position: relative;\n      }\n\n      .main-window.mobile .lyrics-title-box {\n        flex: 1 1 auto;\n        max-height: 200px;\n        box-sizing: border-box;\n      }\n\n      .main-window.mobile > .lyrics-panel > .back {\n        font-size: 24px;\n        padding: 10px;\n      }\n\n      .main-window.mobile > .lyrics-panel > .lyrics-title-box {\n        margin-top: 0;\n      }\n\n      .main-window.mobile > .control-box {\n        margin: 10px 0;\n      }\n\n      .main-window.mobile > .control-box kokoro-progress {\n        position: absolute;\n        top: 0;\n        left: -10px;\n        right: -10px;\n        transform: translateY(-50%);\n      }\n\n      .main-window.mobile > .control-box .volume-playback-panel > .volume-playback-panel-close {\n        top: 50%;\n        transform: translateY(-50%);\n      }\n\n      .mobile .playlist-panel.hide {\n        top: 100%;\n        left: 0;\n      }\n\n      .mobile .playlist-panel {\n        top: 20%;\n        border-radius: 15px 15px 0 0;\n      }\n\n      .mobile .playlist > .playlist-item-box:hover {\n        transform: scale(1);\n      }\n\n      .mobile .playlist {\n        width: calc(100% - 52px);\n        margin: 60px 26px 26px 26px;\n        padding: 0;\n      }\n\n      .mobile .playlist-panel > .playlist-close {\n        top: 20px;\n        left: 26px;\n      }\n\n      .mobile .playlist-panel > .playlist-clear {\n        top: 20px;\n        left: auto;\n        right: 26px;\n      }\n\n      .mobile .playlist-panel-mask {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        cursor: pointer;\n      }\n\n      .mobile .playlist-panel-mask.hide {\n        display: none;\n      }\n\n      .mobile .playlist > .playlist-item-box > .playlist-item {\n        display: block;\n      }\n\n      .mobile .playlist > .playlist-item-box > .playlist-item > .remove {\n        visibility: visible;\n        transform: none !important;\n      }\n\n      @keyframes spin {\n        100% {\n          transform: rotate(360deg);\n        }\n      }\n\n      @keyframes spin-rev {\n        100% {\n          transform: rotate(-360deg);\n        }\n      }\n\n      @media screen and (max-width: 500px) {\n        .small-window, .main-window {\n          display: none;\n        }\n\n        .small-window-mobile {\n          display: block;\n        }\n\n        .main-window.mobile {\n          display: flex;\n        }\n      }\n\n      kokoro-desktop-lyrics.hide {\n        display: none;\n      }\n    `\n  }\n\n  get paused () {\n    return !this.currentSong || this.playing.paused\n  }\n\n  get isConnected () {\n    return !!this.context.kokoro\n  }\n\n  get isMobile () {\n    return (document.documentElement || document.body).clientWidth <= 500\n  }\n\n  constructor () {\n    super()\n    this.drag = this.drag.bind(this)\n    this.stopDragging = this.stopDragging.bind(this)\n    this.onLyricsUserScroll = this.onLyricsUserScroll.bind(this)\n    this.dragToGoBack = this.dragToGoBack.bind(this)\n    this.stopDragToGoBack = this.stopDragToGoBack.bind(this)\n    this.hideLyricsIfClicked = this.hideLyricsIfClicked.bind(this)\n    this.lyricsMouseTouchDown = this.lyricsMouseTouchDown.bind(this)\n    this.lastLyricsUserScrollTime = Date.now()\n    this.left = 0\n    this.top = 100\n    this.shouldShowSmallWindow = true\n    this.shouldMobileShowMainWindow = false\n    this.mobileDefaultSide = 'left'\n    this.right = (document.documentElement || document.body).clientWidth - 122\n    this.bottom = (document.documentElement || document.body).clientHeight - 100 - 122\n    this.isDesktopLyricsShowing = false\n    this.desktopLyricsVerticalCenter = 150\n    this.desktopLyricsColorSchemes = [\n      { name: '', value: 'linear-gradient(-1deg, #e92201, #fb9c17, #e92201)' },\n      { name: '', value: 'linear-gradient(-1deg, #0145d3, #118cfa, #0145d3)' },\n      { name: '', value: 'linear-gradient(-1deg, #a5c9e5, #9da9eb, #c6bde2)' },\n      { name: '', value: 'linear-gradient(-1deg, #1dbf76, #67d74d, #1dbf76)' }\n    ]\n    this.desktopLyricsColorSchemeIndex = 0\n    this.desktopLyricsFontSize = 30\n    this.desktopLyricsMobileFontSize = 14\n    this.language = navigator.languages?.length ? navigator.languages[0] : navigator.language\n  }\n\n  firstUpdated (_) {\n    if (this.isMobile) {\n      if (this.mobileDefaultSide === 'right') {\n        this.right = 0\n        this.left = (document.documentElement || document.body).clientWidth - 122\n      } else {\n        this.left = 0\n        this.right = (document.documentElement || document.body).clientWidth - 122\n      }\n      this.shouldShowSmallWindow = true\n    } else if (this.left + this.right !== (document.documentElement || document.body).clientWidth - 122) {\n      if (this.right === 0) {\n        this.left = (document.documentElement || document.body).clientWidth - 122\n      } else {\n        this.shouldShowSmallWindow = false\n      }\n    }\n    if (this.shouldShowSmallWindow &&\n      this.top + this.bottom !== (document.documentElement || document.body).clientHeight - 122) {\n      if (this.top !== 100) {\n        this.bottom = (document.documentElement || document.body).clientHeight - this.top - 122\n      } else {\n        this.top = (document.documentElement || document.body).clientHeight - this.bottom - 122\n      }\n    }\n    this.cursorX = this.left\n    this.shrinkToLeft = this.cursorX < ((document.documentElement || document.body).clientWidth / 2)\n    this.desktopLyricsHorizontalCenter = (document.documentElement || document.body).clientWidth / 2\n    this.shadowRoot.querySelector('#lyrics-scroll')\n      .addEventListener('wheel', this.onLyricsUserScroll)\n    this.shadowRoot.querySelector('#lyrics-scroll-mobile')\n      .addEventListener('wheel', this.onLyricsUserScroll)\n    this.shadowRoot.querySelector('#lyrics-scroll')\n      .addEventListener('touchmove', this.onLyricsUserScroll)\n    this.shadowRoot.querySelector('#lyrics-scroll-mobile')\n      .addEventListener('touchmove', this.onLyricsUserScroll)\n  }\n\n  onLyricsUserScroll () {\n    this.lastLyricsUserScrollTime = Date.now()\n  }\n\n  updated (changedProperties) {\n    if (changedProperties.has('playing') || changedProperties.has('lyrics') || changedProperties.has('lang')) {\n      this.parsedLyrics = parseLyrics(this.lyrics,\n        this.playing?.currentTime, this.playing?.totalTime, this.language)\n      this.scrollLyricsToCurrent()\n    }\n  }\n\n  disconnectedCallback () {\n    super.disconnectedCallback()\n    this.shadowRoot.querySelector('#lyrics-scroll')\n      .removeEventListener('DOMMouseScroll', this.onLyricsUserScroll)\n    this.shadowRoot.querySelector('#lyrics-scroll-mobile')\n      .removeEventListener('DOMMouseScroll', this.onLyricsUserScroll)\n    this.shadowRoot.querySelector('#lyrics-scroll')\n      .removeEventListener('touchmove', this.onLyricsUserScroll)\n    this.shadowRoot.querySelector('#lyrics-scroll-mobile')\n      .removeEventListener('touchmove', this.onLyricsUserScroll)\n  }\n\n  requestUpdate (...args) {\n    super.requestUpdate(...args)\n    if (args.length === 0) {\n      this.shadowRoot.querySelector('kokoro-desktop-lyrics')?.requestUpdate()\n    }\n  }\n\n  isCurrentSong (song) {\n    return SrcUtil.same(this.currentSong?.src, song.src)\n  }\n\n  render () {\n    return html`\n      <style>\n        .main-window > .underlay > .background,\n        .small-window > .cover-box,\n        .small-window > .control-box > .move-handle > .move-handle-bg {\n          background: url(\"${this.currentSong?.cover}\") no-repeat scroll center center / cover;\n        }\n        :host {\n          --kokoro-white: #cecece;\n          --kokoro-black: rgba(0, 0, 0, 0.8);\n          --kokoro-primary-color: ${this.darkMode ? '#cecece' : 'rgba(0, 0, 0, 0.8)'};\n          --kokoro-primary-highlight: ${this.darkMode ? '#fff' : '#000'};\n          --kokoro-secondary-color: ${this.darkMode ? '#8e8e8e' : 'rgba(0, 0, 0, 0.4)'};\n          --kokoro-border-radius: 0;\n        }\n        .main-window {\n          visibility: ${this.shouldShowSmallWindow ? 'hidden' : 'visible'};\n        }\n        .small-window {\n          visibility: ${this.shouldShowSmallWindow ? 'visible' : 'hidden'};\n          transform-origin: ${this.shrinkToLeft ? 'left' : 'right'} center;\n        }\n      </style>\n      <div\n        class=\"main-window ${this.darkMode ? 'dark' : ''} ${this.isConnected ? '' : 'disconnected'}\"\n        style=\"top: ${this.top}px; left: ${this.left}px\"\n      >\n        <div class=\"handle-bar\">\n          <div\n            class=\"move-handle ${this.dragging ? 'dragging' : ''}\"\n            @mousedown=\"${this.startDragging}\"\n            @touchstart=\"${this.startDragging}\"\n          ></div>\n        </div>\n        <div class=\"disconnected-panel ${this.isConnected ? 'hide' : ''}\">\n          ${locale.disconnected}\n        </div>\n        <div class=\"control-box ${this.isConnected ? '' : 'hide'}\">\n          <div class=\"control-panel panel ${this.isVolumeControlShowing ? 'hide' : ''}\">\n            <a class=\"btn\" @click=\"${this.toggleDesktopLyrics}\"\n            ><i class=\"icon icon-lyrics${this.isDesktopLyricsShowing ? '-on' : ''}\"></i></a>\n            <a class=\"btn\" @click=\"${this.nextPlayOrder}\"><i class=\"icon icon-${this.playOrder === PLAY_ORDER_SINGLE\n        ? 'solo' : this.playOrder === PLAY_ORDER_SHUFFLE ? 'shuffle' : 'loop'}\"></i></a>\n            <a class=\"btn\" @click=\"${this.prev}\"><i class=\"icon icon-previous\"></i></a>\n            <a class=\"btn play\" @click=\"${this.togglePlay}\"><i\n              class=\"icon icon-${this.paused ? 'play' : 'pause'}-circle\"\n            ></i></a>\n            <a class=\"btn\" @click=\"${this.next}\"><i class=\"icon icon-next\"></i></a>\n            <a class=\"btn\" @click=\"${() => { this.isVolumeControlShowing = !this.isVolumeControlShowing }}\"\n            ><i class=\"icon icon-volume\"></i></a>\n            <a class=\"btn\" @click=\"${this.togglePlaylist}\"\n            ><i class=\"icon icon-playlist\"></i></a>\n          </div>\n          <div class=\"volume-playback-panel panel ${this.isVolumeControlShowing ? '' : 'hide'}\">\n            <a class=\"btn volume\"\n               @mouseenter=\"${this.showVolumeTrack}\"\n               @mouseleave=\"${this.closeVolumeTrack}\"\n            >\n              <i class=\"icon icon-volume\"></i>\n              <kokoro-track\n                id=\"volume-track\"\n                .played=\"${this.player?.volume}\"\n                .buffered=\"${[0, 1]}\"\n                @kokoro-change=\"${(e) => this.setVolume(e.detail.progress)}\"\n              ></kokoro-track>\n            </a>\n            <a class=\"volume-playback-panel-close\"\n               @click=\"${() => { this.isVolumeControlShowing = !this.isVolumeControlShowing }}\"\n            ><i class=\"icon icon-close\"></i></a>\n          </div>\n          <kokoro-progress\n            .played=\"${this.played}\"\n            .buffered=\"${this.buffered}\"\n            .currentTime=\"${this.playing?.currentTime}\"\n            .totalTime=\"${this.playing?.totalTime}\"\n            @kokoro-change=\"${(e) => { if (e.detail.commit) this.setCurrentProgress(e.detail.progress) }}\"\n          ></kokoro-progress>\n        </div>\n        <div class=\"cover-panel ${this.isLyricsShowing || !this.isConnected ? 'hide' : ''}\"\n             @click=\"${() => { this.isLyricsShowing = !this.isLyricsShowing }}\"\n        >\n          <div class=\"cover-box\">\n            ${this.currentSong ? html`\n              <img src=\"${this.currentSong.cover}\" />\n            ` : ''}\n          </div>\n          <div class=\"lyrics-title-box\">\n            <h1>${this.currentSong?.title}</h1>\n            <h2>${this.currentSong?.artist}</h2>\n          </div>\n          <div class=\"lyric\">${this.parsedLyrics?.currentSentence}</div>\n          <div class=\"lyric translation\">${this.parsedLyrics?.currentSentenceTranslation}</div>\n        </div>\n        <div class=\"lyrics-panel ${this.isLyricsShowing && this.isConnected ? '' : 'hide'}\"\n             @click=\"${() => { this.isLyricsShowing = !this.isLyricsShowing }}\"\n        >\n          <div class=\"lyrics-title-box\">\n            <h1>${this.currentSong?.title}</h1>\n            <h2>${this.currentSong?.artist}</h2>\n          </div>\n          <div class=\"lyrics-scroll-box\" id=\"lyrics-scroll\">\n            <div \n              class=\"lyrics\"\n              @click=\"${this.hideLyricsIfClicked}\"\n              @mousedown=\"${this.lyricsMouseTouchDown}\"\n              @touchstart=\"${this.lyricsMouseTouchDown}\"\n            >\n              ${this.parsedLyrics?.lyrics.map((lyric) => html`\n                <div\n                  class=\"lyric ${lyric.timestamp === this.parsedLyrics?.currentSentenceStart ? 'current' : ''}\"\n                >\n                  <div>${lyric.content}</div>\n                  ${lyric.translation ? html`<div class=\"translation\">${lyric.translation}</div>` : ''}\n                </div>\n              `) || locale.noLyrics}\n            </div>\n          </div>\n          ${this.langAvailable?.length ? html`\n            <div class=\"lyrics-control-box\">\n              <a class=\"btn\" @click=\"${(e) => { e.stopPropagation(); this.nextLang() }}\"\n              >${this.parsedLyrics?.langName || this.parsedLyrics?.lang || html`<i class=\"icon icon-translate\"></i>`}</a>\n            </div>\n          ` : ''}\n        </div>\n        <div class=\"playlist-panel ${this.isConnected && this.isPlaylistShowing ? '' : 'hide'}\">\n          <div class=\"playlist\">\n            ${this.playlist?.map((song, index) => html`\n              <div class=\"playlist-item-box\" @click=\"${() => { this.setCurrentSong(song, index) }}\">\n                <div class=\"playlist-item ${this.isCurrentSong(song) ? 'current' : ''}\">\n                  <a class=\"remove\" @click=\"${() => { this.removeSong(index) }}\"\n                  ><i class=\"icon icon-close\"></i></a>\n                  <div class=\"title\">${song.title}</div>\n                  <div class=\"artist\">${song.artist} - ${song.album}</div>\n                </div>\n              </div>\n            `)}\n          </div>\n          <a\n            class=\"playlist-close\"\n            @click=\"${this.togglePlaylist}\"\n          ><i class=\"icon icon-close\"></i></a>\n          ${this.playlist?.length ? html`\n            <a\n              class=\"playlist-clear\"\n              @click=\"${() => { this.clearPlaylist() }}\"\n            ><i class=\"icon icon-clear\"></i></a>`\n          : ''}\n        </div>\n        <div class=\"underlay ${this.isConnected ? '' : 'hide'}\">\n          <div class=\"background\"></div>\n          <div class=\"filter\"></div>\n        </div>\n      </div>\n      <div class=\"small-window ${\n        this.isConnected && !this.paused ? 'spin-rev' : ''\n      } ${this.darkMode ? 'dark' : ''} ${this.isConnected ? '' : 'disconnected'\n      } ${this.dragging ? 'dragging' : ''}\"\n           style=\"top: ${this.top}px; ${this.shrinkToLeft\n             ? `left: ${this.left}px;` : `right: ${this.right}px`}\"\n      >\n        <div class=\"cover-box\"></div>\n        <div class=\"control-box\">\n          <a class=\"btn\" @click=\"${this.togglePlay}\"><i\n            class=\"icon icon-${this.paused ? 'play' : 'pause'}\"\n          ></i></a>\n          <a class=\"btn\" @click=\"${this.next}\"><i class=\"icon icon-next\"></i></a>\n          <a class=\"btn\" @click=\"${this.prev}\"><i class=\"icon icon-previous\"></i></a>\n          <a class=\"btn\" @click=\"${this.toggleDesktopLyrics}\"\n          ><i class=\"icon icon-lyrics${this.isDesktopLyricsShowing ? '-on' : ''}\"></i></a>\n          <div\n            class=\"move-handle ${this.dragging ? 'dragging' : ''}\"\n            @mousedown=\"${this.startDragging}\"\n            @touchstart=\"${this.startDragging}\"\n          >\n            <a class=\"btn\"><i class=\"icon icon-note\"></i></a>\n            <div class=\"move-handle-bg\"></div>\n          </div>\n        </div>\n      </div>\n      <div\n        class=\"small-window-mobile ${this.shrinkToLeft\n          ? 'left' : 'right'} ${this.darkMode ? 'dark' : ''}\"\n        style=\"top: ${this.top}px\"\n        @mousedown=\"${this.startDragging}\"\n        @touchstart=\"${this.startDragging}\"\n        @click=\"${this.toggleMainWindow}\"\n      >\n        <i class=\"icon icon-note\"></i>\n      </div>\n      <div\n        class=\"main-window mobile ${this.darkMode ? 'dark' : ''\n        } ${this.isConnected ? '' : 'disconnected'} ${this.shouldMobileShowMainWindow ? '' : 'hide'}\"\n        style=\"${this.shouldMobileShowMainWindow\n          ? `${this.mobileLeft ? 'transition: none;' : ''} left: ${\n          this.mobileLeft < 50 ? 0 : this.mobileLeft}px; right: calc(-${\n          this.mobileLeft < 50 ? 0 : this.mobileLeft}px)` : ''}\"\n        @touchstart=\"${this.startDragToGoBack}\"\n      >\n        <div class=\"disconnected-panel ${this.isConnected ? 'hide' : ''}\">\n          ${locale.disconnected}\n          <a class=\"btn\" @click=\"${this.toggleMainWindow}\"><i class=\"icon icon-back\"></i></a>\n        </div>\n        <div class=\"cover-panel ${this.isLyricsShowing || !this.isConnected ? 'hide' : ''}\"\n             @click=\"${() => { this.isLyricsShowing = !this.isLyricsShowing }}\"\n        >\n          <div class=\"cover-box ${this.isConnected ? '' : 'hide'}\">\n            ${this.currentSong ? html`\n              <img src=\"${this.currentSong.cover}\" />\n            ` : ''}\n            <a class=\"btn\" @click=\"${this.toggleMainWindow}\"><i class=\"icon icon-back\"></i></a>\n          </div>\n          <div class=\"lyrics-title-box ${this.isConnected ? '' : 'hide'}\">\n            <h1>${this.currentSong?.title}</h1>\n            <h2>${this.currentSong?.artist}</h2>\n          </div>\n          <div class=\"lyric\">${this.parsedLyrics?.currentSentence}</div>\n          <div class=\"lyric translation\">${this.parsedLyrics?.currentSentenceTranslation}</div>\n        </div>\n        <div class=\"lyrics-panel ${this.isLyricsShowing && this.isConnected ? '' : 'hide'}\"\n             @click=\"${() => { this.isLyricsShowing = !this.isLyricsShowing }}\"\n        >\n          <div class=\"back\">\n            <a class=\"btn\" @click=\"${this.toggleMainWindow}\"><i class=\"icon icon-back\"></i></a>\n          </div>\n          <div class=\"lyrics-title-box\">\n            <h1>${this.currentSong?.title}</h1>\n            <h2>${this.currentSong?.artist}</h2>\n          </div>\n          <div class=\"lyrics-scroll-box\" id=\"lyrics-scroll-mobile\">\n            <div\n              class=\"lyrics\"\n              @click=\"${this.hideLyricsIfClicked}\"\n              @mousedown=\"${this.lyricsMouseTouchDown}\"\n              @touchstart=\"${this.lyricsMouseTouchDown}\"\n            >\n              ${this.parsedLyrics?.lyrics.map((lyric) => html`\n                <div\n                  class=\"lyric ${lyric.timestamp === this.parsedLyrics?.currentSentenceStart ? 'current' : ''}\"\n                >\n                  <div>${lyric.content}</div>\n                  ${lyric.translation ? html`<div class=\"translation\">${lyric.translation}</div>` : ''}\n                </div>\n              `) || ''}\n            </div>\n          </div>\n          ${this.langAvailable?.length ? html`\n            <div class=\"lyrics-control-box\">\n              <a class=\"btn\" @click=\"${(e) => { e.stopPropagation(); this.nextLang() }}\"\n              >${this.parsedLyrics?.langName || this.parsedLyrics?.lang || html`<i class=\"icon icon-translate\"></i>`}</a>\n            </div>  \n          ` : ''}\n        </div>\n        <div class=\"control-box ${this.isConnected ? '' : 'hide'}\">\n          <div class=\"control-panel panel ${this.isVolumeControlShowing ? 'hide' : ''}\">\n            <a class=\"btn\" @click=\"${this.toggleDesktopLyrics}\"\n            ><i class=\"icon icon-lyrics${this.isDesktopLyricsShowing ? '-on' : ''}\"></i></a>\n            <a class=\"btn\" @click=\"${this.nextPlayOrder}\"><i class=\"icon icon-${this.playOrder === PLAY_ORDER_SINGLE\n      ? 'solo' : this.playOrder === PLAY_ORDER_SHUFFLE ? 'shuffle' : 'loop'}\"></i></a>\n            <a class=\"btn\" @click=\"${this.prev}\"><i class=\"icon icon-previous\"></i></a>\n            <a class=\"btn play\" @click=\"${this.togglePlay}\"><i\n              class=\"icon icon-${this.paused ? 'play' : 'pause'}-circle\"\n            ></i></a>\n            <a class=\"btn\" @click=\"${this.next}\"><i class=\"icon icon-next\"></i></a>\n            <a class=\"btn\" @click=\"${() => { this.isVolumeControlShowing = !this.isVolumeControlShowing }}\"\n            ><i class=\"icon icon-volume\"></i></a>\n            <a class=\"btn\" @click=\"${this.togglePlaylist}\"\n            ><i class=\"icon icon-playlist\"></i></a>\n          </div>\n          <div class=\"volume-playback-panel panel ${this.isVolumeControlShowing ? '' : 'hide'}\">\n            <a class=\"btn volume\"\n               @mouseenter=\"${this.showVolumeTrack}\"\n               @mouseleave=\"${this.closeVolumeTrack}\"\n            >\n              <i class=\"icon icon-volume\"></i>\n              <kokoro-track\n                id=\"volume-track\"\n                .played=\"${this.player?.volume}\"\n                .buffered=\"${[0, 1]}\"\n                @kokoro-change=\"${(e) => this.setVolume(e.detail.progress)}\"\n              ></kokoro-track>\n            </a>\n            <a class=\"volume-playback-panel-close\"\n               @click=\"${() => { this.isVolumeControlShowing = !this.isVolumeControlShowing }}\"\n            ><i class=\"icon icon-close\"></i></a>\n          </div>\n          <kokoro-progress\n            .played=\"${this.played}\"\n            .buffered=\"${this.buffered}\"\n            .currentTime=\"${this.playing?.currentTime}\"\n            .totalTime=\"${this.playing?.totalTime}\"\n            @kokoro-change=\"${(e) => { if (e.detail.commit) this.setCurrentProgress(e.detail.progress) }}\"\n          ></kokoro-progress>\n        </div>\n        <div\n          class=\"playlist-panel-mask ${this.isConnected && this.isPlaylistShowing ? '' : 'hide'}\"\n          @click=\"${this.togglePlaylist}\"\n        ></div>\n        <div class=\"playlist-panel ${this.isConnected && this.isPlaylistShowing ? '' : 'hide'}\">\n          <div class=\"playlist\">\n            ${this.playlist?.map((song, index) => html`\n              <div class=\"playlist-item-box\" @click=\"${() => { this.setCurrentSong(song, index) }}\">\n                <div class=\"playlist-item ${this.isCurrentSong(song) ? 'current' : ''}\">\n                  <a class=\"remove\" @click=\"${() => { this.removeSong(index) }}\"\n                  ><i class=\"icon icon-close\"></i></a>\n                  <div class=\"title\">${song.title}</div>\n                  <div class=\"artist\">${song.artist} - ${song.album}</div>\n                </div>\n              </div>\n            `)}\n          </div>\n          <a\n            class=\"playlist-close\"\n            @click=\"${this.togglePlaylist}\"\n          ><i class=\"icon icon-close\"></i></a>\n          ${this.playlist?.length ? html`\n            <a\n              class=\"playlist-clear\"\n              @click=\"${() => { this.clearPlaylist() }}\"\n            ><i class=\"icon icon-clear\"></i></a>`\n      : ''}\n        </div>\n        <div class=\"underlay ${this.isConnected ? '' : 'hide'}\">\n          <div class=\"background\"></div>\n          <div class=\"filter\"></div>\n        </div>\n      </div>\n      <kokoro-desktop-lyrics\n        class=\"${this.isDesktopLyricsShowing && this.isConnected && this.currentSong ? '' : 'hide'}\"\n        .lyrics=\"${this.parsedLyrics}\"\n        .currentTime=\"${this.playing?.currentTime || 0}\"\n        .verticalCenter=\"${this.desktopLyricsVerticalCenter}\"\n        .horizontalCenter=\"${this.desktopLyricsHorizontalCenter}\"\n        .colorSchemes=\"${this.desktopLyricsColorSchemes}\"\n        .colorSchemeIndex=\"${this.desktopLyricsColorSchemeIndex}\"\n        .fontSize=\"${this.desktopLyricsFontSize}\"\n        .mobileFontSize=\"${this.desktopLyricsMobileFontSize}\"\n        .paused=\"${this.paused}\"\n        .langAvailable=\"${this.langAvailable}\"\n        @kokoro-action=\"${(e) => this[e.detail.action]()}\"\n        @kokoro-change=\"${(e) => { this.language = e.detail.lang }}\"\n      ></kokoro-desktop-lyrics>\n    `\n  }\n\n  lyricsMouseTouchDown (e) {\n    if (window.TouchEvent && e instanceof window.TouchEvent) {\n      e = e.changedTouches[0]\n    }\n    this.lyricsMouseTouchDownY = e.clientY\n    this.lyricsMouseTouchDownX = e.clientX\n  }\n\n  hideLyricsIfClicked (e) {\n    e.stopPropagation()\n    if (Math.abs(e.clientY - this.lyricsMouseTouchDownY) < 30 &&\n      Math.abs(e.clientX - this.lyricsMouseTouchDownX) < 30\n    ) {\n      this.isLyricsShowing = !this.isLyricsShowing\n      this.lyricsMouseTouchDownY = null\n      this.lyricsMouseTouchDownX = null\n    }\n  }\n\n  toggleDesktopLyrics () {\n    this.isDesktopLyricsShowing = !this.isDesktopLyricsShowing\n  }\n\n  toggleMainWindow (e) {\n    if (e instanceof window.Event) e.stopPropagation()\n    this.shouldMobileShowMainWindow = !this.shouldMobileShowMainWindow\n    if (this.shouldMobileShowMainWindow) {\n      document.body.style.overflow = 'hidden'\n    } else {\n      document.body.style.overflow = ''\n    }\n    this.mobileLeft = 0\n  }\n\n  startDragging (e) {\n    this.dragging = true\n    e.stopPropagation()\n    const e1 = (typeof window.TouchEvent !== 'undefined' && e instanceof window.TouchEvent)\n      ? e.changedTouches[0]\n      : e\n    this.cursorX = e1.clientX\n    this.shrinkToLeft = this.cursorX < ((document.documentElement || document.body).clientWidth / 2)\n    this.cursorY = e1.clientY\n    this.drag(e)\n    if (e.type === 'mousedown') {\n      document.addEventListener('mousemove', this.drag)\n      document.addEventListener('mouseup', this.stopDragging)\n    }\n    if (e.type === 'touchstart') {\n      document.addEventListener('touchmove', this.drag, { passive: false })\n      document.addEventListener('touchend', this.stopDragging)\n      document.addEventListener('touchcancel', this.stopDragging)\n    }\n  }\n\n  drag (e) {\n    if (e.type === 'touchmove') e.preventDefault()\n    e = (typeof window.TouchEvent !== 'undefined' && e instanceof window.TouchEvent)\n      ? e.changedTouches[0]\n      : e\n    this.left += e.clientX - this.cursorX\n    this.right -= e.clientX - this.cursorX\n    this.top += e.clientY - this.cursorY\n    this.cursorX = e.clientX\n    this.shrinkToLeft = this.cursorX < ((document.documentElement || document.body).clientWidth / 2)\n    this.cursorY = e.clientY\n    if (this.isMobile) {\n      this.shouldShowSmallWindow = true\n      return\n    }\n    if (!this.shouldShowSmallWindow) {\n      const ssw = this.left <= -62.5 || this.left >= (document.documentElement || document.body).clientWidth - 272.5\n      if (ssw) {\n        this.left = this.cursorX - 61\n        this.top = this.cursorY - 61\n        this.right = (document.documentElement || document.body).clientWidth - this.cursorX - 61\n        this.shouldShowSmallWindow = true\n      }\n    } else {\n      const ssw = this.left <= 65 || this.left >= (document.documentElement || document.body).clientWidth - 187\n      if (!ssw) {\n        this.left = this.cursorX - 167.5\n        this.top = this.cursorY - 16\n        this.shouldShowSmallWindow = false\n      }\n    }\n  }\n\n  stopDragging () {\n    this.dragging = false\n    if (this.top < 0) this.top = 0\n    const bottomSafeArea = this.isMobile\n      ? (document.documentElement || document.body).clientHeight - 20\n      : this.shouldShowSmallWindow\n        ? (document.documentElement || document.body).clientHeight - 122\n        : (document.documentElement || document.body).clientHeight - 36\n    if (this.top > bottomSafeArea) {\n      this.top = bottomSafeArea\n    }\n    if (this.shouldShowSmallWindow && this.shrinkToLeft) {\n      this.left = 0\n      this.right = (document.documentElement || document.body).clientWidth - 122\n    }\n    if (this.shouldShowSmallWindow && !this.shrinkToLeft) {\n      this.right = 0\n      this.left = (document.documentElement || document.body).clientWidth - 122\n    }\n    document.removeEventListener('mousemove', this.drag)\n    document.removeEventListener('mouseup', this.stopDragging)\n    document.removeEventListener('touchmove', this.drag)\n    document.removeEventListener('touchend', this.stopDragging)\n    document.removeEventListener('touchcancel', this.stopDragging)\n  }\n\n  togglePlaylist () {\n    this.isPlaylistShowing = !this.isPlaylistShowing\n    const selector = this.isMobile ? '.mobile .playlist' : '.playlist'\n    if (this.isPlaylistShowing && typeof this.index === 'number') {\n      if (this.index === 0) {\n        this.shadowRoot.querySelector(selector).scrollTop = 0\n      } else {\n        this.shadowRoot.querySelector(`${selector} > .playlist-item-box:nth-child(${this.index})`)\n          .scrollIntoView(true)\n      }\n    }\n  }\n\n  scrollLyricsToCurrent () {\n    if (Date.now() - this.lastLyricsUserScrollTime < 3000) return\n    if (this.isLyricsScrollAnimating) return\n    this.isLyricsScrollAnimating = true\n    const scrollDom = this.isMobile\n      ? this.shadowRoot.querySelector('#lyrics-scroll-mobile')\n      : this.shadowRoot.querySelector('#lyrics-scroll')\n    if (!scrollDom) return\n    const needScrollToDom = scrollDom.querySelector('.lyric.current')\n    if (!needScrollToDom) return\n    const scroll = () => {\n      let currentY = scrollDom.scrollTop\n      const top = 0\n      const bottom = scrollDom.scrollHeight - scrollDom.clientHeight\n      const needScrollTop = Math.max(top, Math.min(bottom,\n        needScrollToDom.offsetTop + needScrollToDom.offsetHeight / 2 -\n        scrollDom.clientHeight * 0.4)) - currentY\n      if (needScrollTop > 1 || needScrollTop < -1) {\n        currentY += needScrollTop > 0\n          ? Math.ceil(needScrollTop / 15)\n          : Math.floor(needScrollTop / 15)\n        scrollDom.scrollTop = currentY\n        window.requestAnimationFrame(scroll)\n      } else {\n        this.isLyricsScrollAnimating = false\n      }\n    }\n    window.requestAnimationFrame(scroll)\n  }\n\n  startDragToGoBack (e) {\n    if (!window.TouchEvent || !(e instanceof window.TouchEvent)) return\n    e.stopPropagation()\n    const e1 = e.changedTouches[0]\n    this.cursorX = e1.clientX\n    this.mobileLeft = 0\n    document.addEventListener('touchmove', this.dragToGoBack)\n    document.addEventListener('touchend', this.stopDragToGoBack)\n    document.addEventListener('touchcancel', this.stopDragToGoBack)\n  }\n\n  dragToGoBack (e) {\n    if (!window.TouchEvent || !(e instanceof window.TouchEvent)) return\n    e = e.changedTouches[0]\n    this.mobileLeft += e.clientX - this.cursorX\n    if (this.mobileLeft < 0) this.mobileLeft = 0\n    this.cursorX = e.clientX\n  }\n\n  stopDragToGoBack () {\n    if (this.mobileLeft < (document.documentElement || document.body).clientWidth / 2) {\n      this.mobileLeft = 0\n    } else {\n      this.toggleMainWindow()\n    }\n    document.removeEventListener('touchmove', this.dragToGoBack)\n    document.removeEventListener('touchend', this.stopDragToGoBack)\n    document.removeEventListener('touchcancel', this.stopDragToGoBack)\n  }\n\n  nextLang () {\n    let index = this.langAvailable.findIndex((lang) => lang.lang === this.parsedLyrics?.lang)\n    index++\n    if (index === this.langAvailable.length) index = -1\n    this.language = this.langAvailable[index]?.lang || null\n  }\n\n  setCurrentSong (song, index) {\n    if (this.isCurrentSong(song)) return\n    this.context.kokoro?.setCurrentSong(index)\n  }\n\n  removeSong (index) {\n    this.context.kokoro?.removeSong(index)\n  }\n\n  clearPlaylist () {\n    this.context.kokoro?.clearPlaylist()\n  }\n\n  prev () {\n    this.context.kokoro?.previous()\n  }\n\n  next () {\n    this.context.kokoro?.next()\n  }\n\n  togglePlay () {\n    this.context.kokoro?.togglePlay()\n  }\n\n  nextPlayOrder () {\n    this.context.kokoro?.nextPlayOrder()\n  }\n\n  setCurrentProgress (progress) {\n    this.context.kokoro?.setCurrentTime(progress * this.playing.totalTime)\n  }\n\n  setVolume (volume) {\n    this.context.kokoro?.setVolume(volume)\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    currentSong: state.playing.song,\n    lyrics: state.playing.song?.lyrics,\n    langAvailable: getLangAvailable(state.playing.song?.lyrics),\n    pnKindAvailable: [],\n    index: state.playlist.orderedIndexOfPlaying,\n    playlist: state.playlist.orderedList.map((id) => state.playlist.songs[id]),\n    playing: state.playing,\n    player: state.player,\n    played: state.playing.currentTime / state.playing.totalTime,\n    buffered: state.playing.bufferedTime?.map(\n      (buf) => [buf[0] / state.playing.totalTime, buf[1] / state.playing.totalTime]\n    ),\n    playOrder: state.playlist.playOrder\n  }\n}\n\nconst KokoroPlayer = connect(mapStateToProps)(Player)\nwindow.customElements.define('kokoro-player', KokoroPlayer)\nexport default KokoroPlayer\n","import { html, css, LitElement } from 'lit-element'\n\nimport { iconfont } from '../iconfont'\n\nexport default class Button extends LitElement {\n  static get properties () {\n    return {\n      type: { type: String },\n      icon: { type: String },\n      disabled: { type: Boolean },\n      size: { type: String }\n    }\n  }\n\n  static get styles () {\n    return css`\n      ${iconfont}\n      :host {\n        display: inline-block;\n      }\n\n      .btn {\n        cursor: pointer;\n        padding: 10px 12px;\n        border-radius: 15px;\n        color: var(--kokoro-primary-color);\n      }\n      \n      .btn.disabled {\n        cursor: default;\n      }\n\n      .btn.primary {\n        background-color: var(--kokoro-primary-color);\n        color: var(--kokoro-background-color);\n        border: 1px var(--kokoro-primary-color) solid;\n      }\n\n      .btn.bordered {\n        border: 1px solid;\n      }\n\n      :host(:last-child) {\n        margin-right: 0;\n      }\n\n      .btn.medium,\n      .btn.small {\n        font-size: 12px;\n        padding: 4px 8px;\n        border-radius: 8px;\n      }\n\n      .btn.mini {\n        font-size: 10px;\n        padding: 2px 6px;\n        border-radius: 6px;\n      }\n    `\n  }\n\n  render () {\n    return html`\n      <style>\n        :host {\n          margin-right: ${this.size === 'mini'\n            ? 2 : this.size === 'medium' || this.size === 'small'\n              ? 4 : 10}px;\n        }\n      </style>\n      <div class=\"btn ${this.type} ${this.disabled ? 'disabled' : ''} ${this.size}\">\n        <i class=\"icon icon-${this.icon}\"></i>\n        <slot></slot>\n      </div>\n    `\n  }\n}\n\nwindow.customElements.define('kokoro-button', Button)\n","import { html, css, LitElement } from 'lit-element'\n\nexport default class Track extends LitElement {\n  static get properties () {\n    return {\n      played: { type: Number },\n      buffered: { type: Array },\n      currentTime: { type: Number },\n      totalTime: { type: Number },\n      dirtyPlayed: { type: Number },\n      dragging: { type: Boolean }\n    }\n  }\n\n  static get styles () {\n    return css`\n      :host {\n        display: block;\n        height: 3px;\n        user-select: none;\n        position: relative;\n      }\n      \n      .bar {\n        position: relative;\n        height: 100%;\n        overflow: hidden;\n        cursor: pointer;\n      }\n      \n      .touch-assist {\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: -5px;\n        bottom: -5px;\n      }\n\n      .progress {\n        height: 100%;\n        background-color: var(--kokoro-secondary-color);\n        opacity: 0.3;\n      }\n      \n      .played {\n        position: absolute;\n        top: 0;\n        height: 100%;\n        background-color: var(--kokoro-primary-color);\n      }\n      \n      .buffered {\n        position: absolute;\n        top: 0;\n        height: 100%;\n        background-color: var(--kokoro-secondary-color);\n        opacity: 0.6;\n      }\n      \n      .track {\n        position: relative;\n        margin: 0 4px;\n      }\n      \n      .handle {\n        position: absolute;\n        top: -6px;\n        width: 6px;\n        height: 6px;\n        border: 2px var(--kokoro-primary-color) solid;\n        border-radius: 50%;\n        background-color: var(--kokoro-primary-color);\n        cursor: pointer;\n      }\n    `\n  }\n\n  constructor () {\n    super()\n    this.drag = this.drag.bind(this)\n    this.stopDragging = this.stopDragging.bind(this)\n  }\n\n  render () {\n    return html`\n      <div class=\"touch-assist\"\n           @touchstart=\"${this.startDragging}\"\n      ></div>\n      <div class=\"bar\" id=\"bar\"\n           @mousedown=\"${this.startDragging}\"\n           @touchstart=\"${this.startDragging}\"\n      >\n        <div class=\"progress\"></div>\n        ${this.buffered?.map((buf) => html`\n        <div class=\"buffered\" style=\"left: ${buf[0] * 100}%; width: ${(buf[1] - buf[0]) * 100}%\"></div>\n      `)}\n        <div class=\"played\"\n             style=\"width: ${(this.dragging ? this.dirtyPlayed : (this.played || 0)) * 100}%\">\n        </div>\n      </div>\n      <div class=\"track\">\n        <div class=\"handle\"\n             style=\"left: calc(${(this.dragging ? this.dirtyPlayed : (this.played || 0)) * 100}% - 5px)\"\n             @mousedown=\"${this.startDragging}\"\n             @touchstart=\"${this.startDragging}\"\n        ></div>\n      </div>\n    `\n  }\n\n  startDragging (e) {\n    this.dragging = true\n    e.stopPropagation()\n    this.drag(e)\n    if (e.type === 'mousedown') {\n      document.addEventListener('mousemove', this.drag)\n      document.addEventListener('mouseup', this.stopDragging)\n    }\n    if (e.type === 'touchstart') {\n      document.addEventListener('touchmove', this.drag)\n      document.addEventListener('touchend', this.stopDragging)\n      document.addEventListener('touchcancel', this.stopDragging)\n    }\n  }\n\n  drag (e) {\n    e = (typeof window.TouchEvent !== 'undefined' && e instanceof window.TouchEvent)\n      ? e.changedTouches[0]\n      : e\n    const rect = this.shadowRoot.querySelector('#bar').getBoundingClientRect()\n    this.dirtyPlayed = Math.max(Math.min((e.clientX - rect.left - 3) / (rect.width - 6), 1), 0)\n    this.syncDirtyPlayed()\n  }\n\n  stopDragging () {\n    this.dragging = false\n    this.commitDirtyPlayed()\n    document.removeEventListener('mousemove', this.drag)\n    document.removeEventListener('mouseup', this.stopDragging)\n    document.removeEventListener('touchmove', this.drag)\n    document.removeEventListener('touchend', this.stopDragging)\n    document.removeEventListener('touchcancel', this.stopDragging)\n  }\n\n  syncDirtyPlayed () {\n    this.dispatchEvent(new window.CustomEvent('kokoro-change', {\n      detail: {\n        progress: this.dirtyPlayed,\n        commit: false\n      }\n    }))\n  }\n\n  commitDirtyPlayed () {\n    this.dispatchEvent(new window.CustomEvent('kokoro-change', {\n      detail: {\n        progress: this.dirtyPlayed,\n        commit: true\n      }\n    }))\n  }\n}\n\nwindow.customElements.define('kokoro-track', Track)\n","import { html, css } from 'lit-element'\n\nimport Track from './track'\n\nexport default class Progress extends Track {\n  static get styles () {\n    return css`\n      ${super.styles}\n      :host(:hover) {\n        height: 5px;\n      }\n\n      :host(:hover) .handle {\n        top: -7px;\n      }\n      \n      .bar {\n        border-radius: 0 0 var(--kokoro-border-radius, 4px) var(--kokoro-border-radius, 4px);\n      }\n      \n      .handle {\n        border: 2px var(--kokoro-primary-color) solid;\n        background-color: #fff;\n      }\n      \n      .handle:hover {\n        transform: scale(1.5);\n      }\n      \n      .label {\n        display: none;\n        position: absolute;\n        bottom: 3px;\n        font-size: 12px;\n      }\n      \n      .label.left {\n        left: 6px;\n      }\n\n      .label.right {\n        right: 6px;\n      }\n\n      :host(:hover) .label {\n        display: block;\n      }\n\n      @media screen and (max-width: 400px) {\n        .label {\n          bottom: 1px;\n        }\n      }\n    `\n  }\n\n  render () {\n    return html`\n      ${super.render()}\n      <div class=\"label left\">${this.dragging\n        ? this.formatTime(this.dirtyPlayed * this.totalTime)\n        : this.formatTime(this.currentTime)}</div>\n      <div class=\"label right\">${this.formatTime(this.totalTime)}</div>\n    `\n  }\n\n  formatTime (time) {\n    if (time === null || time === undefined || isNaN(time)) {\n      return '--:--'\n    }\n    const h = Math.floor(time / 3600)\n    const m = Math.floor(time % 3600 / 60)\n    const s = Math.floor(time % 60)\n    let fmtStr = ''\n    fmtStr += s < 10 ? '0' + s : s\n    fmtStr = (m < 10 ? '0' + m : m) + ':' + fmtStr\n    if (h > 0) {\n      fmtStr = (h < 10 ? '0' + h : h) + ':' + fmtStr\n    }\n    return fmtStr\n  }\n}\n\nwindow.customElements.define('kokoro-progress', Progress)\n","import { html, css } from 'lit-element'\nimport { PLAY_ORDER_SHUFFLE, PLAY_ORDER_SINGLE } from 'kokoro'\n\nimport { connect } from '../utils/lit-redux'\nimport { Component } from '../utils/component'\nimport './icon-button'\nimport './track'\nimport './progress'\nimport { iconfont } from '../iconfont'\nimport { SrcUtil } from '../utils/srcutil'\nimport locale from '../utils/locale'\nimport { parseLyrics } from '../utils/lyrics'\n\nclass SingleCard extends Component {\n  static get properties () {\n    return {\n      title: { type: String },\n      artist: { type: String },\n      album: { type: String },\n      src: { type: String },\n      cover: { type: String },\n      lyrics: { type: Object },\n      parsedLyrics: { type: Object },\n      primaryColor: { type: String },\n      secondaryColor: { type: String },\n      backgroundColor: { type: String },\n      nextSongSrc: { type: String },\n      currentSongSrc: { type: String },\n      paused: { type: Boolean },\n      playOrder: { type: String },\n      played: { type: Number },\n      buffered: { type: Array },\n      currentTime: { type: Number },\n      totalTime: { type: Number },\n      type: { type: String },\n      volume: { type: Number },\n      isVolumeTrackShown: { type: Boolean },\n      size: { type: String },\n      needShowPlayNext: { type: Boolean }\n    }\n  }\n\n  static get styles () {\n    return css`\n      ${iconfont}\n      :host {\n        color: var(--kokoro-secondary-color);\n        background-color: var(--kokoro-background-color);\n        display: flex;\n        max-width: 500px;\n        max-height: 200px;\n        margin: 0 auto;\n        box-shadow: rgba(0, 0, 0, 0.1) 0.96px 0.96px 1.6px 0,\n          rgba(0, 0, 0, 0.1) -0.96px 0px 0.96px 0px;\n        border-radius: var(--kokoro-border-radius);\n        position: relative;\n      }\n\n      .cover {\n        display: inline-block;\n        width: 40%;\n        max-width: 200px;\n        position: relative;\n        border-radius: var(--kokoro-border-radius) 0 0 var(--kokoro-border-radius);\n        user-select: none;\n      }\n      \n      .cover::before {\n        content: '';\n        display: block;\n        padding-bottom: 100%;\n      }\n      \n      .cover > img {\n        position: absolute;\n        top: 0;\n        width: 100%;\n        max-height: 100%;\n      }\n      \n      .control-panel {\n        box-sizing: border-box;\n        width: 60%;\n        max-width: 300px;\n        padding: 15px 10px 15px 20px;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        overflow: hidden;\n      }\n      \n      .title {\n        font-weight: normal;\n        font-size: 20px;\n        line-height: 1.4;\n        margin: 2px 0;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        color: var(--kokoro-primary-color);\n      }\n      \n      .artist {\n        font-weight: normal;\n        font-size: 16px;\n        line-height: 1.4;\n        margin: 2px 0;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n\n\n      .control-panel.medium {\n        padding-left: 15px;\n      }\n\n      .control-panel.medium .title,\n      .control-panel.small .title,\n      .control-panel.mini .title {\n        font-size: 16px;\n      }\n\n      .control-panel.medium .artist,\n      .control-panel.small .artist,\n      .control-panel.mini .artist {\n        font-size: 14px;\n      }\n\n      .control-panel.medium .control.current,\n      .control-panel.small .control.current,\n      .control-panel.mini .control.current {\n        margin-bottom: 0 !important;\n      }\n\n      .control-panel.small {\n        padding-left: 12px;\n      }\n\n      .control-panel.small .lyrics {\n        display: none;\n      }\n\n      .control-panel.mini {\n        padding-left: 10px;\n      }\n\n      .control-panel.mini .artist {\n        display: none;\n      }\n      \n      .control {\n        user-select: none;\n        white-space: nowrap;\n      }\n      \n      .control.current {\n        margin-bottom: 5px;\n      }\n      \n      .btn {\n        display: inline-block;\n        text-decoration: none;\n        color: inherit;\n        font-size: 24px;\n        margin: 5px;\n        cursor: pointer;\n      }\n      \n      .btn > .icon {\n        vertical-align: top;\n      }\n      \n      .btn:first-child {\n        margin-left: 0;\n      }\n\n      .btn:last-child {\n        margin-right: 0;\n      }\n      \n      .btn.primary {\n        color: var(--kokoro-primary-color);\n      }\n\n      .control-panel.medium .btn,\n      .control-panel.small .btn {\n        font-size: 20px;\n        margin: 2px;\n      }\n\n      .control-panel.medium .btn .volume-track-container,\n      .control-panel.small .btn .volume-track-container {\n        top: -1px;\n        height: 16px;\n        width: 40px;\n      }\n\n      .control-panel.mini .btn {\n        font-size: 16px;\n        margin: 2px;\n      }\n\n      .control-panel.mini .btn .volume-track-container {\n        top: 1px;\n        height: 12px;\n        width: 36px;\n        padding-left: 5px;\n      }\n\n      .control-panel.mini .btn .volume-track-container.hide {\n        padding-left: 0;\n      }\n      \n      kokoro-progress {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        right: 0;\n      }\n      \n      .btn.volume {\n        position: relative;\n      }\n      \n      .volume-track-container {\n        position: absolute;\n        left: 100%;\n        height: 20px;\n        width: 60px;\n        top: -3px;\n        margin: 5px 5px 5px 0;\n        padding: 0 20px 0 10px;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        transition: all 250ms;\n        cursor: initial;\n      }\n\n      .volume-track-container.hide {\n        width: 0 !important;\n        padding: 0;\n        margin-left: 3px;\n        overflow: hidden;\n      }\n    `\n  }\n\n  get isConnected () {\n    return !!this.context.kokoro\n  }\n\n  get isNextSong () {\n    if (!this.src || !this.nextSongSrc) return false\n    return SrcUtil.same(this.nextSongSrc, this.src)\n  }\n\n  get isCurrentSong () {\n    if (!this.src || !this.currentSongSrc) return false\n    return SrcUtil.same(this.currentSongSrc, this.src)\n  }\n\n  constructor (props) {\n    super(props)\n    this.hideVolumeTrack = this.hideVolumeTrack.bind(this)\n  }\n\n  firstUpdated (_) {\n    let parentElement = this.parentElement\n    while (parentElement?.tagName.toLowerCase().startsWith('kokoro')) {\n      parentElement = parentElement.parentElement\n    }\n    this.resizeObserver = new window.ResizeObserver(() => {\n      this.size = parentElement.offsetWidth >= 500\n        ? 'large' : parentElement.offsetWidth >= 420\n          ? 'medium' : parentElement.offsetWidth >= 370\n            ? 'small' : 'mini'\n    })\n    this.resizeObserver.observe(parentElement)\n    this.size = parentElement.offsetWidth >= 500\n      ? 'large' : parentElement.offsetWidth >= 420\n        ? 'medium' : parentElement.offsetWidth >= 370\n          ? 'small' : 'mini'\n  }\n\n  updated (changedProperties) {\n    if (changedProperties.has('currentTime') || changedProperties.has('totalTime') ||\n      changedProperties.has('lyrics')) {\n      if (this.isCurrentSong) {\n        this.parsedLyrics = parseLyrics(this.lyrics, this.currentTime, this.totalTime)\n      } else {\n        this.parsedLyrics = null\n      }\n    }\n  }\n\n  disconnectedCallback () {\n    super.disconnectedCallback()\n    this.resizeObserver?.disconnect()\n  }\n\n  render () {\n    return html`\n      <style>\n        :host {\n          --kokoro-primary-color: ${this.primaryColor};\n          --kokoro-secondary-color: ${this.secondaryColor};\n          --kokoro-background-color: ${this.backgroundColor};\n          --kokoro-border-radius: ${this.type === 'flat' ? '0' : '4px'}\n        }\n        ${this.type === 'flat'\n          ? css`\n            :host {\n              box-shadow: none !important;\n            }` : ''\n        }\n      </style>\n      <div class=\"cover\">\n        <img class=\"cover\" src=\"${this.cover}\" alt=\"cover\" />\n      </div>\n      <div class=\"control-panel ${this.size}\">\n        <div class=\"header\">\n          <h1 class=\"title\">${this.title}</h1>\n          <h2 class=\"artist\">${this.artist} - ${this.album}</h2>\n          <div class=\"artist lyrics\">${this.parsedLyrics?.currentSentence}</div>\n        </div>\n        <div class=\"control ${this.isCurrentSong ? 'current' : ''}\">\n          ${this.isConnected\n            ? this.isCurrentSong\n              ? html`\n                <a class=\"btn\" @click=\"${this.prev}\"><i class=\"icon icon-previous\"></i></a>\n                <a class=\"btn primary\" @click=\"${this.togglePlay}\">\n                  <i class=\"icon icon-${this.paused ? 'play' : 'pause'}\"></i></a>\n                <a class=\"btn\" @click=\"${this.next}\"><i class=\"icon icon-next\"></i></a>\n                <a class=\"btn\" @click=\"${this.nextPlayOrder}\">\n                  <i class=\"icon icon-${this.playOrder === PLAY_ORDER_SINGLE\n                    ? 'solo' : this.playOrder === PLAY_ORDER_SHUFFLE ? 'shuffle' : 'loop'}\"></i></a>\n                <a class=\"btn volume\"\n                   @mouseenter=\"${this.showVolumeTrack}\"\n                   @mouseleave=\"${this.closeVolumeTrack}\"\n                >\n                  <i class=\"icon icon-volume\"></i>\n                  <div class=\"volume-track-container ${this.isVolumeTrackShown ? '' : 'hide'}\">\n                    <kokoro-track\n                      id=\"volume-track\"\n                      .played=\"${this.volume}\"\n                      .buffered=\"${[0, 1]}\"\n                      @kokoro-change=\"${(e) => this.setVolume(e.detail.progress)}\"\n                    ></kokoro-track>\n                  </div>\n                </a>\n              `\n              : html`\n                <kokoro-button\n                  type=\"primary\"\n                  icon=\"play\"\n                  size=\"${this.size}\"\n                  @click=\"${this.playNow}\"\n                >${locale.playNow}</kokoro-button>\n                ${this.needShowPlayNext ? this.isNextSong\n                  ? html`\n                    <kokoro-button\n                      type=\"bordered\"\n                      icon=\"ok\"\n                      size=\"${this.size}\"\n                      disabled\n                    >${locale.added}</kokoro-button>`\n                  : html`\n                    <kokoro-button\n                      type=\"bordered\"\n                      icon=\"play-next\"\n                      size=\"${this.size}\"\n                      @click=\"${this.playNext}\"\n                    >${locale.playNext}</kokoro-button>`\n                : ''}`\n            : html`\n              <kokoro-button\n                type=\"bordered\"\n                icon=\"warn\"\n                size=\"${this.size}\"\n                disabled\n              >${locale.disconnected}</kokoro-button>`\n          }\n        </div>\n      </div>\n      ${this.isConnected && this.isCurrentSong ? html`\n        <kokoro-progress\n          .played=\"${this.played}\"\n          .buffered=\"${this.buffered}\"\n          .currentTime=\"${this.currentTime}\"\n          .totalTime=\"${this.totalTime}\"\n          @kokoro-change=\"${(e) => { this.setCurrentProgress(e.detail.progress, e.detail.commit) }}\"\n        ></kokoro-progress>` : ''\n      }\n    `\n  }\n\n  showVolumeTrack () {\n    this.isVolumeTrackShown = true\n    document.removeEventListener('mouseup', this.hideVolumeTrack)\n  }\n\n  closeVolumeTrack () {\n    if (this.shadowRoot.querySelector('#volume-track').dragging) {\n      document.addEventListener('mouseup', this.hideVolumeTrack)\n    } else {\n      this.isVolumeTrackShown = false\n    }\n  }\n\n  hideVolumeTrack () {\n    setTimeout(() => {\n      this.isVolumeTrackShown = false\n    }, 250)\n    document.removeEventListener('mouseup', this.hideVolumeTrack)\n  }\n\n  playNow () {\n    this.context.kokoro?.setCurrentSong({\n      title: this.title,\n      artist: this.artist,\n      album: this.album,\n      src: this.src,\n      lyrics: this.lyrics,\n      cover: this.cover\n    })\n  }\n\n  playNext () {\n    this.context.kokoro?.setNextSong({\n      title: this.title,\n      artist: this.artist,\n      album: this.album,\n      src: this.src,\n      lyrics: this.lyrics,\n      cover: this.cover\n    })\n  }\n\n  prev () {\n    this.context.kokoro?.previous()\n  }\n\n  next () {\n    this.context.kokoro?.next()\n  }\n\n  togglePlay () {\n    this.context.kokoro?.togglePlay()\n  }\n\n  nextPlayOrder () {\n    this.context.kokoro?.nextPlayOrder()\n  }\n\n  setCurrentProgress (progress, commit) {\n    if (commit) this.context.kokoro?.setCurrentTime(progress * this.totalTime)\n    else this.currentTime = progress * this.totalTime\n  }\n\n  setVolume (volume) {\n    this.context.kokoro?.setVolume(volume)\n  }\n}\n\nfunction getNextSongSrc (state) {\n  if (state.playlist.playOrder === PLAY_ORDER_SHUFFLE) {\n    return state.playlist.shuffledList[state.playlist.shuffledIndexOfPlaying + 1]\n  } else {\n    if (state.playlist.orderedIndexOfPlaying + 1 === state.playlist.orderedList.length) {\n      return state.playlist.orderedList[0]\n    } else {\n      return state.playlist.orderedList[state.playlist.orderedIndexOfPlaying + 1]\n    }\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    nextSongSrc: getNextSongSrc(state),\n    currentSongSrc: state.playing.src,\n    paused: state.playing.paused,\n    playOrder: state.playlist.playOrder,\n    played: state.playing.currentTime / state.playing.totalTime,\n    buffered: state.playing.bufferedTime?.map(\n      (buf) => [buf[0] / state.playing.totalTime, buf[1] / state.playing.totalTime]\n    ),\n    currentTime: state.playing.currentTime,\n    totalTime: state.playing.totalTime,\n    volume: state.player.volume,\n    needShowPlayNext: !(state.playing.paused && state.playing.currentTime === 0)\n  }\n}\n\nconst KokoroSingleCard = connect(mapStateToProps)(SingleCard)\nwindow.customElements.define('kokoro-single-card', KokoroSingleCard)\nexport default KokoroSingleCard\n","import { html, css } from 'lit-element'\nimport { PLAY_ORDER_LOOP, PLAY_ORDER_SHUFFLE, PLAY_ORDER_SINGLE } from 'kokoro'\n\nimport { connect } from '../utils/lit-redux'\nimport { Component } from '../utils/component'\nimport { iconfont } from '../iconfont'\nimport { SrcUtil } from '../utils/srcutil'\nimport locale from '../utils/locale'\nimport { parseLyrics } from '../utils/lyrics'\n\nclass PlaylistCard extends Component {\n  static get properties () {\n    return {\n      title: { type: String },\n      songs: { type: Array },\n      parsedLyrics: { type: Object },\n      primaryColor: { type: String },\n      secondaryColor: { type: String },\n      backgroundColor: { type: String },\n      songSrcList: { type: Array },\n      songListIndex: { type: Number },\n      currentSongSrc: { type: String },\n      paused: { type: Boolean },\n      playOrder: { type: String },\n      played: { type: Number },\n      buffered: { type: Array },\n      currentTime: { type: Number },\n      totalTime: { type: Number },\n      type: { type: String },\n      volume: { type: Number },\n      isVolumeTrackShown: { type: Boolean },\n      isPlaylistShowing: { type: Boolean },\n      size: { type: String },\n      needShowPlayNext: { type: Boolean }\n    }\n  }\n\n  static get styles () {\n    return css`\n      ${iconfont}\n      :host {\n        color: var(--kokoro-secondary-color);\n        background-color: var(--kokoro-background-color);\n        display: flex;\n        max-width: 500px;\n        max-height: 200px;\n        margin: 0 auto;\n        box-shadow: rgba(0, 0, 0, 0.1) 0.96px 0.96px 1.6px 0,\n          rgba(0, 0, 0, 0.1) -0.96px 0px 0.96px 0px;\n        border-radius: var(--kokoro-border-radius);\n        position: relative;\n      }\n\n      .cover {\n        display: inline-block;\n        width: 40%;\n        max-width: 200px;\n        position: relative;\n        border-radius: var(--kokoro-border-radius) 0 0 var(--kokoro-border-radius);\n        user-select: none;\n      }\n      \n      .cover::before {\n        content: '';\n        display: block;\n        padding-bottom: 100%;\n      }\n      \n      .cover > img {\n        position: absolute;\n        top: 0;\n        width: 100%;\n        max-height: 100%;\n      }\n      \n      .control-panel {\n        box-sizing: border-box;\n        width: 60%;\n        max-width: 300px;\n        padding: 15px 10px 15px 20px;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        overflow: hidden;\n      }\n      \n      .title {\n        font-weight: normal;\n        font-size: 20px;\n        line-height: 1.4;\n        margin: 2px 0;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        color: var(--kokoro-primary-color);\n      }\n      \n      .song {\n        font-weight: normal;\n        font-size: 16px;\n        line-height: 1.4;\n        margin: 2px 0;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n\n      .control-panel.medium {\n        padding-left: 15px;\n      }\n\n      .control-panel.medium .title,\n      .control-panel.small .title,\n      .control-panel.mini .title {\n        font-size: 16px;\n      }\n\n      .control-panel.medium .song,\n      .control-panel.small .song,\n      .control-panel.mini .song {\n        font-size: 14px;\n      }\n\n      .control-panel.medium .control.current,\n      .control-panel.small .control.current,\n      .control-panel.mini .control.current {\n        margin-bottom: 0 !important;\n      }\n\n      .control-panel.small {\n        padding-left: 12px;\n      }\n\n      .control-panel.small .lyrics {\n        display: none;\n      }\n\n      .control-panel.mini {\n        padding-left: 10px;\n      }\n\n      .control-panel.mini .song {\n        display: none;\n      }\n      \n      .control {\n        user-select: none;\n        white-space: nowrap;\n      }\n      \n      .control.current {\n        margin-bottom: 5px;\n      }\n      \n      .btn {\n        display: inline-block;\n        text-decoration: none;\n        color: inherit;\n        font-size: 24px;\n        margin: 5px;\n        cursor: pointer;\n      }\n      \n      .btn > .icon {\n        vertical-align: top;\n      }\n      \n      .btn:first-child {\n        margin-left: 0;\n      }\n\n      .btn:last-child {\n        margin-right: 0;\n      }\n      \n      .btn.primary {\n        color: var(--kokoro-primary-color);\n      }\n\n      .control-panel.medium .btn,\n      .control-panel.small .btn {\n        font-size: 20px;\n        margin: 2px;\n      }\n\n      .control-panel.medium .btn .volume-track-container,\n      .control-panel.small .btn .volume-track-container {\n        top: -1px;\n        height: 16px;\n        width: 40px;\n      }\n\n      .control-panel.mini .btn {\n        font-size: 16px;\n        margin: 2px;\n      }\n\n      .control-panel.mini .btn .volume-track-container {\n        top: 1px;\n        height: 12px;\n        width: 36px;\n        padding-left: 5px;\n      }\n\n      .control-panel.mini .btn .volume-track-container.hide {\n        padding-left: 0;\n      }\n      \n      kokoro-progress {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        right: 0;\n      }\n      \n      .btn.volume {\n        position: relative;\n      }\n      \n      .volume-track-container {\n        position: absolute;\n        left: 100%;\n        height: 20px;\n        width: 60px;\n        top: -3px;\n        margin: 5px 5px 5px 0;\n        padding: 0 20px 0 10px;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        transition: all 250ms;\n        cursor: initial;\n      }\n\n      .volume-track-container.hide {\n        width: 0 !important;\n        padding: 0;\n        margin-left: 3px;\n        overflow: hidden;\n      }\n      \n      .playlist-mask.hide {\n        opacity: 0;\n        visibility: hidden;\n      }\n      \n      .playlist-mask {\n        cursor: pointer;\n        width: 60%;\n        overflow: hidden;\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        background-color: rgba(0, 0, 0, 0.5);\n        backdrop-filter: blur(8px);\n        opacity: 1;\n        transition: opacity 250ms;\n        border-radius: 0 var(--kokoro-border-radius) var(--kokoro-border-radius) 0;\n      }\n      \n      .playlist-close {\n        display: block;\n        font-size: 20px;\n        position: relative;\n        top: 5px;\n        left: 5px;\n        color: rgba(255, 255, 255, 0.8);\n        text-decoration: none;\n      }\n      \n      .playlist.hide {\n        width: 0;\n      }\n      \n      .playlist {\n        width: calc(60% - 30px);\n        overflow-x: hidden;\n        overflow-y: auto;\n        cursor: default;\n        counter-reset: songs;\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        background-color: var(--kokoro-background-color);\n        border-radius: 0 var(--kokoro-border-radius) var(--kokoro-border-radius) 0;\n        transition: width 250ms;\n      }\n      \n      .playlist.expand {\n        border-left: 1px solid rgba(51,51,51,0.05);\n        width: 250px;\n        position: static;\n        transition: none;\n      }\n      \n      .playlist > .playlist-item {\n        height: 40px;\n        line-height: 40px;\n        padding: 0 10px;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        font-size: 14px;\n        cursor: pointer;\n      }\n\n      .playlist.mini > .playlist-item {\n        height: 35px;\n        line-height: 35px;\n        font-size: 12px;\n      }\n      \n      .playlist > .playlist-item::before {\n        counter-increment: songs;\n        content: counter(songs);\n        margin-right: 10px;\n      }\n      \n      .playlist > .playlist-item:hover {\n        background: rgba(0, 0, 0, 0.1);\n      }\n      \n      .playlist > .playlist-item.current {\n        background: rgba(0, 0, 0, 0.1);\n        border-left: 3px var(--kokoro-primary-color) solid;\n      }\n      \n      .playlist-toggle {\n        text-decoration: none;\n      }\n      \n      .playlist-toggle .icon {\n        margin-left: 1ex;\n      }\n    `\n  }\n\n  get isConnected () {\n    return !!this.context.kokoro\n  }\n\n  get isFollowingPlaylist () {\n    if (!this.songs || !this.songSrcList) return false\n    const nextSongsSrc = this.songSrcList.slice(\n      this.songListIndex + 1, this.songListIndex + 1 + this.songs.length)\n    let identical = true\n    for (let i = 0; i < this.songs.length; i++) {\n      if (!SrcUtil.same(nextSongsSrc[i], this.songs[i].src)) {\n        identical = false\n        break\n      }\n    }\n    return identical\n  }\n\n  get isCurrentPlaylist () {\n    if (!this.songs || !this.currentSongSrc) return false\n    if (this.currentSongSrc instanceof Array) {\n      for (const src of this.currentSongSrc) {\n        if (SrcUtil.indexOf(this.songs.map(song => song.src), src) !== -1) {\n          return true\n        }\n      }\n      return false\n    }\n    return SrcUtil.indexOf(this.songs.map(song => song.src), this.currentSongSrc) !== -1\n  }\n\n  get displayedSong () {\n    if (!this.isConnected || !this.currentSongSrc) return this.songs[0]\n    if (this.currentSongSrc instanceof Array) {\n      for (const src of this.currentSongSrc) {\n        if (SrcUtil.indexOf(this.songs.map(song => song.src), src) !== -1) {\n          return this.songs[SrcUtil.indexOf(this.songs.map(song => song.src), src)]\n        }\n      }\n      return this.songs[0]\n    }\n    if (SrcUtil.indexOf(this.songs.map(song => song.src), this.currentSongSrc) !== -1) {\n      return this.songs[SrcUtil.indexOf(this.songs.map(song => song.src), this.currentSongSrc)]\n    }\n    return this.songs[0]\n  }\n\n  isCurrentSong (song) {\n    if (!this.isConnected) return false\n    return SrcUtil.same(this.currentSongSrc, song.src)\n  }\n\n  get expand () {\n    return this.size === 'expand'\n  }\n\n  firstUpdated (_) {\n    let parentElement = this.parentElement\n    while (parentElement?.tagName.toLowerCase().startsWith('kokoro')) {\n      parentElement = parentElement.parentElement\n    }\n    this.resizeObserver = new window.ResizeObserver(() => {\n      this.size = parentElement.offsetWidth >= 750\n        ? 'expand' : parentElement.offsetWidth >= 500\n          ? 'large' : parentElement.offsetWidth >= 420\n            ? 'medium' : parentElement.offsetWidth >= 370\n              ? 'small' : 'mini'\n    })\n    this.resizeObserver.observe(parentElement)\n    this.size = parentElement.offsetWidth >= 750\n      ? 'expand' : parentElement.offsetWidth >= 500\n        ? 'large' : parentElement.offsetWidth >= 420\n          ? 'medium' : parentElement.offsetWidth >= 370\n            ? 'small' : 'mini'\n  }\n\n  updated (changedProperties) {\n    if (changedProperties.has('currentTime') || changedProperties.has('totalTime') ||\n      changedProperties.has('lyrics')) {\n      if (this.isCurrentPlaylist) {\n        this.parsedLyrics = parseLyrics(this.displayedSong.lyrics, this.currentTime, this.totalTime)\n      } else {\n        this.parsedLyrics = null\n      }\n    }\n  }\n\n  disconnectedCallback () {\n    super.disconnectedCallback()\n    this.resizeObserver?.disconnect()\n  }\n\n  render () {\n    return html`\n      <style>\n        :host {\n          --kokoro-primary-color: ${this.displayedSong.primaryColor || this.primaryColor};\n          --kokoro-secondary-color: ${this.displayedSong.secondaryColor || this.secondaryColor};\n          --kokoro-background-color: ${this.displayedSong.backgroundColor || this.backgroundColor};\n          --kokoro-border-radius: ${this.type === 'flat' ? '0' : '4px'}\n        }\n\n        ${this.type === 'flat'\n          ? css`\n            :host {\n              box-shadow: none !important;\n            }` : ''\n        }\n\n        ${this.expand\n          ? css`\n            :host {\n              max-width: 750px !important;\n            }` : ''\n        }\n      </style>\n      <div class=\"cover\">\n        <img class=\"cover\" src=\"${this.displayedSong.cover}\" alt=\"cover\" />\n      </div>\n      <div class=\"control-panel ${this.size}\">\n        <div class=\"header\">\n          <a class=\"playlist-toggle\" href=\"\" @click=\"${this.togglePlaylist}\">\n            <h1 class=\"title\">${this.title || this.displayedSong.title}<i class=\"icon icon-playlist\"></i></h1>\n          </a>\n          <h2 class=\"song\">\n            ${this.title ? this.displayedSong.title : this.displayedSong.artist}\n            -\n            ${this.title ? this.displayedSong.artist : this.displayedSong.album}\n          </h2>\n          <div class=\"song lyrics\">${this.parsedLyrics?.currentSentence}</div>\n        </div>\n        <div class=\"control ${this.isCurrentPlaylist ? 'current' : ''}\">\n          ${this.isConnected\n            ? this.isCurrentPlaylist\n              ? html`\n                <a class=\"btn\" @click=\"${this.prev}\"><i class=\"icon icon-previous\"></i></a>\n                <a class=\"btn primary\" @click=\"${this.togglePlay}\">\n                  <i class=\"icon icon-${this.paused ? 'play' : 'pause'}\"></i></a>\n                <a class=\"btn\" @click=\"${this.next}\"><i class=\"icon icon-next\"></i></a>\n                <a class=\"btn\" @click=\"${this.nextPlayOrder}\">\n                  <i class=\"icon icon-${this.playOrder === PLAY_ORDER_SINGLE\n                    ? 'solo' : this.playOrder === PLAY_ORDER_SHUFFLE ? 'shuffle' : 'loop'}\"></i></a>\n                <a class=\"btn volume\"\n                   @mouseenter=\"${this.showVolumeTrack}\"\n                   @mouseleave=\"${this.closeVolumeTrack}\"\n                >\n                  <i class=\"icon icon-volume\"></i>\n                  <div class=\"volume-track-container ${this.isVolumeTrackShown ? '' : 'hide'}\">\n                    <kokoro-track\n                      id=\"volume-track\"\n                      .played=\"${this.volume}\"\n                      .buffered=\"${[0, 1]}\"\n                      @kokoro-change=\"${(e) => this.setVolume(e.detail.progress)}\"\n                    ></kokoro-track>\n                  </div>\n                </a>`\n              : html`\n                <kokoro-button\n                  type=\"primary\"\n                  icon=\"play\"\n                  size=\"${this.size}\"\n                  @click=\"${this.playNow}\"\n                >${locale.playAll}\n                </kokoro-button>\n                ${this.songSrcList?.length ? this.isFollowingPlaylist\n                  ? html`\n                    <kokoro-button\n                      type=\"bordered\"\n                      icon=\"ok\"\n                      size=\"${this.size}\"\n                      disabled\n                    >${locale.added}\n                    </kokoro-button>`\n                  : html`\n                    <kokoro-button\n                      type=\"bordered\"\n                      icon=\"play-next\"\n                      size=\"${this.size}\"\n                      @click=\"${this.playNext}\"\n                    >${locale.addToPlaylist}\n                    </kokoro-button>`\n                : ''}`\n            : html`\n              <kokoro-button\n                type=\"bordered\"\n                icon=\"warn\"\n                size=\"${this.size}\"\n                disabled\n              >${locale.disconnected}\n              </kokoro-button>`\n          }\n        </div>\n      </div>\n      <div class=\"playlist-mask ${!this.isPlaylistShowing || this.expand ? 'hide' : ''}\"\n           @click=\"${this.togglePlaylist}\"\n      >\n        <a class=\"playlist-close\"><i class=\"icon icon-close\"></i></a>\n      </div>\n      <div class=\"playlist ${!this.isPlaylistShowing && !this.expand ? 'hide' : ''} ${this.expand ? 'expand' : ''} ${this.size}\">\n        ${this.songs.map((song) => html`\n          <div\n            class=\"playlist-item ${this.isCurrentSong(song) ? 'current' : ''}\"\n            @click=\"${() => this.setCurrentSong(song)}\"\n          >${song.title} - ${song.artist}\n          </div>\n        `)}\n      </div>\n      ${this.isConnected && this.isCurrentPlaylist ? html`\n        <kokoro-progress\n          .played=\"${this.played}\"\n          .buffered=\"${this.buffered}\"\n          .currentTime=\"${this.currentTime}\"\n          .totalTime=\"${this.totalTime}\"\n          @kokoro-change=\"${(e) => { this.setCurrentProgress(e.detail.progress, e.detail.commit) }}\"\n        ></kokoro-progress>` : ''\n      }\n    `\n  }\n\n  showVolumeTrack () {\n    this.isVolumeTrackShown = true\n    document.removeEventListener('mouseup', this.hideVolumeTrack)\n  }\n\n  closeVolumeTrack () {\n    if (this.shadowRoot.querySelector('#volume-track').dragging) {\n      document.addEventListener('mouseup', this.hideVolumeTrack)\n    } else {\n      this.isVolumeTrackShown = false\n    }\n  }\n\n  hideVolumeTrack () {\n    setTimeout(() => {\n      this.isVolumeTrackShown = false\n    }, 250)\n    document.removeEventListener('mouseup', this.hideVolumeTrack)\n  }\n\n  setCurrentSong (song) {\n    if (this.isCurrentSong(song)) return\n    this.context.kokoro?.setCurrentSong(song)\n  }\n\n  playNow () {\n    this.context.kokoro?.setPlaylist(this.songs, 0, PLAY_ORDER_LOOP)\n    this.context.kokoro?.play()\n  }\n\n  playNext () {\n    for (const song of this.songs.slice().reverse()) {\n      this.context.kokoro?.setNextSong(song)\n    }\n    if (!this.isCurrentPlaylist && !this.needShowPlayNext) {\n      this.context.kokoro?.next()\n    }\n  }\n\n  prev () {\n    this.context.kokoro?.previous()\n  }\n\n  next () {\n    this.context.kokoro?.next()\n  }\n\n  togglePlay () {\n    this.context.kokoro?.togglePlay()\n  }\n\n  nextPlayOrder () {\n    this.context.kokoro?.nextPlayOrder()\n  }\n\n  setCurrentProgress (progress, commit) {\n    if (commit) this.context.kokoro?.setCurrentTime(progress * this.totalTime)\n    else this.currentTime = progress * this.totalTime\n  }\n\n  setVolume (volume) {\n    this.context.kokoro?.setVolume(volume)\n  }\n\n  togglePlaylist (e) {\n    e.preventDefault()\n    if (!this.expand) {\n      this.isPlaylistShowing = !this.isPlaylistShowing\n    }\n  }\n}\n\nfunction getSongSrcList (state) {\n  if (state.playlist.playOrder === PLAY_ORDER_SHUFFLE) {\n    return state.playlist.shuffledList.map(song => state.playlist.songs[song].src)\n  } else {\n    return state.playlist.orderedList.map(song => state.playlist.songs[song].src)\n  }\n}\n\nfunction getSongListIndex (state) {\n  if (state.playlist.playOrder === PLAY_ORDER_SHUFFLE) {\n    return state.playlist.shuffledIndexOfPlaying\n  } else {\n    return state.playlist.orderedIndexOfPlaying\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    songSrcList: getSongSrcList(state),\n    songListIndex: getSongListIndex(state),\n    currentSongSrc: state.playing.src,\n    paused: state.playing.paused,\n    playOrder: state.playlist.playOrder,\n    played: state.playing.currentTime / state.playing.totalTime,\n    buffered: state.playing.bufferedTime?.map(\n      (buf) => [buf[0] / state.playing.totalTime, buf[1] / state.playing.totalTime]\n    ),\n    currentTime: state.playing.currentTime,\n    totalTime: state.playing.totalTime,\n    volume: state.player.volume,\n    needShowPlayNext: !(state.playing.paused && state.playing.currentTime === 0)\n  }\n}\n\nconst KokoroPlaylistCard = connect(mapStateToProps)(PlaylistCard)\nwindow.customElements.define('kokoro-playlist-card', KokoroPlaylistCard)\nexport default KokoroPlaylistCard\n","import { html } from 'lit-element'\n\nimport { Component } from './component'\n\nexport default class Provider extends Component {\n  static connect (kokoro) {\n    return class extends Provider {\n      constructor () {\n        super()\n        this.kokoro = kokoro\n      }\n    }\n  }\n\n  connect (kokoro) {\n    this.kokoro = kokoro\n  }\n\n  disconnect () {\n    this.kokoro = null\n  }\n\n  static get properties () {\n    return {\n      kokoro: { type: Object }\n    }\n  }\n\n  static get providedContexts () {\n    return {\n      kokoro: { property: 'kokoro' }\n    }\n  }\n\n  render () {\n    return html`<slot/>`\n  }\n}\n","import './iconfont/iconfont.css'\n\nimport Kokoro, { PLAY_ORDER_SHUFFLE, PLAY_ORDER_LOOP, PLAY_ORDER_SINGLE } from 'kokoro'\n\nimport Player from './components/player'\nimport SingleCard from './components/single-card'\nimport PlaylistCard from './components/playlist-card'\nimport Provider from './utils/provider'\nimport * as locale from './utils/locale'\nexport {\n  Kokoro, Player, SingleCard, PlaylistCard, Provider,\n  locale, PLAY_ORDER_SHUFFLE, PLAY_ORDER_LOOP, PLAY_ORDER_SINGLE\n}\nexport default {\n  Kokoro,\n  PLAY_ORDER_SHUFFLE,\n  PLAY_ORDER_LOOP,\n  PLAY_ORDER_SINGLE,\n  Provider,\n  locale\n}\n"],"sourceRoot":""}